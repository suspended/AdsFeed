/*! UTC: 2020-09-13T08:24:06.873Z | ab75204 | 2.10.1445 */!function(t){var e={};function __webpack_require__(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}__webpack_require__.m=t,__webpack_require__.c=e,__webpack_require__.d=function(t,e,n){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},__webpack_require__.n=function(t){var e=t&&t.__esModule?function getDefault(){return t.default}:function getModuleExports(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=675)}([,,,function(t,e,n){"use strict";e.a=function __extends(t,e){function __(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};Object.assign},function(t,e){var n,r,i=t.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(t){if(n===setTimeout)return setTimeout(t,0);if((n===defaultSetTimout||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(t){n=defaultSetTimout}try{r="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(t){r=defaultClearTimeout}}();var o,s=[],a=!1,u=-1;function cleanUpNextTick(){a&&o&&(a=!1,o.length?s=o.concat(s):u=-1,s.length&&drainQueue())}function drainQueue(){if(!a){var t=runTimeout(cleanUpNextTick);a=!0;for(var e=s.length;e;){for(o=s,s=[];++u<e;)o&&o[u].run();u=-1,e=s.length}o=null,a=!1,function runClearTimeout(t){if(r===clearTimeout)return clearTimeout(t);if((r===defaultClearTimeout||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function Item(t,e){this.fun=t,this.array=e}function noop(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new Item(t,e)),1!==s.length||a||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=noop,i.addListener=noop,i.once=noop,i.off=noop,i.removeListener=noop,i.removeAllListeners=noop,i.emit=noop,i.prependListener=noop,i.prependOnceListener=noop,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(3),i=n(50),o=n(106),s=n(14),a=n(78),u=n(55),c=n(76),l=function(t){function Subscriber(e,n,r){var i=t.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=o.a;break;case 1:if(!e){i.destination=o.a;break}if("object"==typeof e){e instanceof Subscriber?(i.syncErrorThrowable=e.syncErrorThrowable,i.destination=e,e.add(i)):(i.syncErrorThrowable=!0,i.destination=new f(i,e));break}default:i.syncErrorThrowable=!0,i.destination=new f(i,e,n,r)}return i}return r.a(Subscriber,t),Subscriber.prototype[a.a]=function(){return this},Subscriber.create=function(t,e,n){var r=new Subscriber(t,e,n);return r.syncErrorThrowable=!1,r},Subscriber.prototype.next=function(t){this.isStopped||this._next(t)},Subscriber.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},Subscriber.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},Subscriber.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},Subscriber.prototype._next=function(t){this.destination.next(t)},Subscriber.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},Subscriber.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},Subscriber.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},Subscriber}(s.a),f=function(t){function SafeSubscriber(e,n,r,s){var a,u=t.call(this)||this;u._parentSubscriber=e;var c=u;return Object(i.a)(n)?a=n:n&&(a=n.next,r=n.error,s=n.complete,n!==o.a&&(c=Object.create(n),Object(i.a)(c.unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=a,u._error=r,u._complete=s,u}return r.a(SafeSubscriber,t),SafeSubscriber.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},SafeSubscriber.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=u.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}},SafeSubscriber.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},SafeSubscriber.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw t;Object(c.a)(t)}},SafeSubscriber.prototype.__tryOrSetError=function(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(Object(c.a)(e),!0)}return!1},SafeSubscriber.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},SafeSubscriber}(l)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n(75),i=n(188),o=n(39),s=n(89),a=n(55),u=function(){function Observable(t){this._isScalar=!1,t&&(this._subscribe=t)}return Observable.prototype.lift=function(t){var e=new Observable;return e.source=this,e.operator=t,e},Observable.prototype.subscribe=function(t,e,n){var r=this.operator,o=Object(i.a)(t,e,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||a.a.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),a.a.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},Observable.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){a.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),Object(r.a)(t)?t.error(e):console.warn(e)}},Observable.prototype.forEach=function(t,e){var n=this;return new(e=getPromiseCtor(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(t){r(t),i&&i.unsubscribe()}},r,e)})},Observable.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},Observable.prototype[o.a]=function(){return this},Observable.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Object(s.b)(t)(this)},Observable.prototype.toPromise=function(t){var e=this;return new(t=getPromiseCtor(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},Observable.create=function(t){return new Observable(t)},Observable}();function getPromiseCtor(t){if(t||(t=a.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},,,,function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(3),i=function(t){function OuterSubscriber(){return null!==t&&t.apply(this,arguments)||this}return r.a(OuterSubscriber,t),OuterSubscriber.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},OuterSubscriber.prototype.notifyError=function(t,e){this.destination.error(t)},OuterSubscriber.prototype.notifyComplete=function(t){this.destination.complete()},OuterSubscriber}(n(5).a)},function(t,e,n){"use strict";e.a=function subscribeToResult(t,e,n,s,a){void 0===a&&(a=new r.a(t,n,s));if(a.closed)return;if(e instanceof o.a)return e.subscribe(a);return Object(i.a)(e)(a)};var r=n(35),i=n(80),o=n(6)},,,function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(17),i=n(77),o=n(50),s=n(107),a=function(){function Subscription(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var t;return Subscription.prototype.unsubscribe=function(){var t;if(!this.closed){var e=this._parentOrParents,n=this._unsubscribe,a=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof Subscription)e.remove(this);else if(null!==e)for(var u=0;u<e.length;++u){e[u].remove(this)}if(Object(o.a)(n))try{n.call(this)}catch(e){t=e instanceof s.a?flattenUnsubscriptionErrors(e.errors):[e]}if(Object(r.a)(a)){u=-1;for(var c=a.length;++u<c;){var l=a[u];if(Object(i.a)(l))try{l.unsubscribe()}catch(e){t=t||[],e instanceof s.a?t=t.concat(flattenUnsubscriptionErrors(e.errors)):t.push(e)}}}if(t)throw new s.a(t)}},Subscription.prototype.add=function(t){var e=t;if(!t)return Subscription.EMPTY;switch(typeof t){case"function":e=new Subscription(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof Subscription)){var n=e;(e=new Subscription)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var r=e._parentOrParents;if(null===r)e._parentOrParents=this;else if(r instanceof Subscription){if(r===this)return e;e._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return e;r.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[e]:i.push(e),e},Subscription.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},Subscription.EMPTY=((t=new Subscription).closed=!0,t),Subscription}();function flattenUnsubscriptionErrors(t){return t.reduce(function(t,e){return t.concat(e instanceof s.a?e.errors:e)},[])}},,function(t,e,n){"use strict";e.g=function captureGlobalErrors(t,e,n){t.addEventListener("error",function(t){e&&t.preventDefault(),n(t)}),t.addEventListener("unhandledrejection",function(t){e&&t.preventDefault(),n(t)})},n.d(e,"z",function(){return f}),e.y=function safeSetInterval(t,e){var n=function(){r=f(n,e),t()},r=f(n,e);return function(){r()}},e.r=function makeDistincter(){var t=new Set;return function(e){return!t.has(e)&&(t.add(e),!0)}},e.s=function makeWeakDistincter(){var t=new WeakSet;return function(e){return!t.has(e)&&(t.add(e),!0)}},e.A=function sleep(t){return new Promise(function(e){return setTimeout(e,t)})},e.l=function fetchJson(t){return fetchText(t).then(function(t){if(!t)throw new Error("fetchJson - JSON empty");return JSON.parse(t)})},n.d(e,"c",function(){return p}),n.d(e,"d",function(){return h}),e.m=fetchText,e.w=function removeSrcFromImgs(t){for(var e=t.querySelectorAll("img"),n=0;n<e.length;n++)e[n].removeAttribute("src");return!0},e.x=function requestIdleCallbackPromise(t){void 0===t&&(t={timeout:50});return new Promise(function(e,n){!function requestIdleCallback(t,e){void 0===e&&(e={timeout:50});if("requestIdleCallback"in window)return window.requestIdleCallback(t,e);return setTimeout(function(){t({didTimeout:!0,timeRemaining:function(){return 0}})},e.timeout)}(e,t)})},e.a=function ChangeDomainInRavenReports(t,e,n){t.setDataCallback(function(t){if(t.stacktrace)changeFramesInRavenException(t,e,n);else if(t.exception)for(var r=t.exception.values,i=0,o=r;i<o.length;i++){var s=o[i];changeFramesInRavenException(s,e,n)}})},e.b=function ChangeDomainInRavenReportsAndSanetizeRavenEvent(t,e,n){t.setDataCallback(function(t){if(t.stacktrace)changeFramesInRavenException(t,e,n);else if(t.exception)for(var r=t.exception.values,i=0,o=r;i<o.length;i++){var s=o[i];changeFramesInRavenException(s,e,n)}if(t.request){if(t.request.url){var a=new URL(t.request.url);a.pathname="",a.search="",a.hash="",t.request.url=a.toString()}t.request.headers&&delete t.request.headers.Referer}})},e.h=function checkIfFirefox(){return navigator.userAgent.toLowerCase().search("firefox")>-1};var r=n(221);n.d(e,"o",function(){return r.a});var i=n(222);n.d(e,"v",function(){return i.a});var o=n(223);n.d(e,"e",function(){return o.a});var s=n(27);n.d(e,"f",function(){return s.a}),n.d(e,"i",function(){return s.b}),n.d(e,"j",function(){return s.c}),n.d(e,"k",function(){return s.d}),n.d(e,"n",function(){return s.e}),n.d(e,"p",function(){return s.g}),n.d(e,"q",function(){return s.i}),n.d(e,"t",function(){return s.j}),n.d(e,"u",function(){return s.k}),n.d(e,"B",function(){return s.l});var a,u=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function __(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),c=setTimeout;"undefined"!=typeof window&&window.setTimeout.nativeBackup&&(c=window.setTimeout.nativeBackup.bind(window));var l=clearTimeout;"undefined"!=typeof window&&window.clearTimeout.nativeBackup&&(l=window.clearTimeout.nativeBackup.bind(window));var f=function(t,e){var n=Math.pow(2,31)-1,r=e%n,i=Math.floor(e/n),o=0,s=null,a=function(){o===i?t():(o++,s=c(a,n))};return 0===r&&0!==e?a():s=c(a,r),function(){null!==s&&l(s)}};var p=function(t){function HTTPError(e,n,r,i,o){var s=t.call(this,e)||this;return s.httpCode=n,s.shortMessage=r,s.requestUrl=i,s.responseUrl=o,s.name="HTTPError",Object.setPrototypeOf(s,HTTPError.prototype),s}return u(HTTPError,t),HTTPError}(Error),h=function(t){function HTTPIOError(e,n,r,i,o){var s=t.call(this,e)||this;return s.shortMessage=n,s.requestUrl=r,s.type=i,s.responseURL=o,s.name="HTTPIOError",Object.setPrototypeOf(s,HTTPIOError.prototype),s}return u(HTTPIOError,t),HTTPIOError}(Error);function fetchText(t,e,n){return void 0===e&&(e=[]),void 0===n&&(n=1e4),new Promise(function(r,i){var o=new XMLHttpRequest;o.responseType="text",o.open("GET",t),o.timeout=n;for(var s=0,a=e;s<a.length;s++){var u=a[s],c=u[0],l=u[1];o.setRequestHeader(c,l)}o.addEventListener("load",function(){200!==o.status?i(new p("status: "+o.status+"-"+o.statusText+"|req url:"+t,o.status,o.statusText,t,o.responseURL)):r(o.responseText)}),o.addEventListener("error",function onXHRError(e){i(new h("xhr.error","error",t,e.type,o.responseURL))}),o.addEventListener("abort",function onXHRAbort(e){i(new h("xhr.abort","error",t,e.type,o.responseURL))}),o.addEventListener("timeout",function onXHRTimeout(e){i(new h("xhr.timeout","error",t,e.type,o.responseURL))}),o.send()})}function changeFramesInRavenException(t,e,n){if(t.stacktrace)for(var r=0,i=t.stacktrace.frames;r<i.length;r++){var o=i[r];o.filename=o.filename.replace(n,e)}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}()},function(t,e,n){var r=n(49),i=n(429).f,o=n(102),s=n(430),a=n(270),u=n(489),c=n(493);t.exports=function(t,e){var n,l,f,p,h,d=t.target,_=t.global,b=t.stat;if(n=_?r:b?r[d]||a(d,{}):(r[d]||{}).prototype)for(l in e){if(p=e[l],f=t.noTargetGet?(h=i(n,l))&&h.value:n[l],!c(_?l:d+(b?".":"#")+l,t.forced)&&void 0!==f){if(typeof p==typeof f)continue;u(p,f)}(t.sham||f&&f.sham)&&o(p,"sham",!0),s(n,l,p,t)}}},function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return f});var r=n(3),i=n(6),o=n(5),s=n(14),a=n(56),u=n(108),c=n(78),l=function(t){function SubjectSubscriber(e){var n=t.call(this,e)||this;return n.destination=e,n}return r.a(SubjectSubscriber,t),SubjectSubscriber}(o.a),f=function(t){function Subject(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r.a(Subject,t),Subject.prototype[c.a]=function(){return new l(this)},Subject.prototype.lift=function(t){var e=new p(this,this);return e.operator=t,e},Subject.prototype.next=function(t){if(this.closed)throw new a.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},Subject.prototype.error=function(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},Subject.prototype.complete=function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},Subject.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},Subject.prototype._trySubscribe=function(e){if(this.closed)throw new a.a;return t.prototype._trySubscribe.call(this,e)},Subject.prototype._subscribe=function(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new u.a(this,t))},Subject.prototype.asObservable=function(){var t=new i.a;return t.source=this,t},Subject.create=function(t,e){return new p(t,e)},Subject}(i.a),p=function(t){function AnonymousSubject(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return r.a(AnonymousSubject,t),AnonymousSubject.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},AnonymousSubject.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},AnonymousSubject.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},AnonymousSubject.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):s.a.EMPTY},AnonymousSubject}(f)},function(t,e,n){"use strict";var r=n(6);n.d(e,"c",function(){return r.a});n(137),n(138),n(39);var i=n(19);n.d(e,"d",function(){return i.a});var o=n(139);n.d(e,"a",function(){return o.a});n(98),n(67),n(141);var s=n(21);n.d(e,"e",function(){return s.a});n(109),n(195),n(198),n(110),n(14),n(5),n(68),n(89),n(65),n(43),n(199),n(57),n(58),n(56),n(107),n(142);var a=n(200);n.d(e,"f",function(){return a.a});n(201),n(99),n(73);var u=n(92);n.d(e,"g",function(){return u.a});var c=n(29),l=(n(210),n(31));n.d(e,"h",function(){return l.a});var f=n(211);n.d(e,"i",function(){return f.a});var p=n(212);n.d(e,"j",function(){return p.a});n(213);var h=n(214);n.d(e,"k",function(){return h.a});n(215);var d=n(144);n.d(e,"l",function(){return d.a});n(115);var _=n(66);n.d(e,"m",function(){return _.a});n(216),n(217),n(218),n(146),n(219);var b=n(90);n.d(e,"n",function(){return b.a});var v=n(147);n.d(e,"o",function(){return v.a});n(220),n(100),n(114);n.d(e,"b",function(){return c.a});n(55)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(44),i=new(n(45).a)(r.a)},,,,,function(t,e,n){"use strict";e.a=function map(t,e){return function mapOperation(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}};var r=n(3),i=n(5);var o=function(){function MapOperator(t,e){this.project=t,this.thisArg=e}return MapOperator.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.thisArg))},MapOperator}(),s=function(t){function MapSubscriber(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.a(MapSubscriber,t),MapSubscriber.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},MapSubscriber}(i.a)},function(t,e,n){"use strict";var r=n(224);n.d(e,"a",function(){return r.a}),n.d(e,"b",function(){return r.b}),n.d(e,"c",function(){return r.c}),n.d(e,"d",function(){return r.d}),n.d(e,"e",function(){return r.e}),n.d(e,"f",function(){return r.f}),n.d(e,"g",function(){return r.g}),n.d(e,"h",function(){return r.h}),n.d(e,"i",function(){return r.i}),n.d(e,"j",function(){return r.j}),n.d(e,"k",function(){return r.k}),n.d(e,"l",function(){return r.l}),n.d(e,"m",function(){return r.m})},,function(t,e,n){"use strict";n.d(e,"a",function(){return i}),e.b=function empty(t){return t?function emptyScheduled(t){return new r.a(function(e){return t.schedule(function(){return e.complete()})})}(t):i};var r=n(6),i=new r.a(function(t){return t.complete()})},function(t,e,n){"use strict";e.a=function isScheduler(t){return t&&"function"==typeof t.schedule}},function(t,e,n){"use strict";e.a=function from(t,e){return e?Object(o.a)(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))};var r=n(6),i=n(80),o=n(114)},function(t,e,n){"use strict";var r=n(170),i=n(383),o=Object.prototype.toString;function isArray(t){return"[object Array]"===o.call(t)}function isObject(t){return null!==t&&"object"==typeof t}function isFunction(t){return"[object Function]"===o.call(t)}function forEach(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),isArray(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:isArray,isArrayBuffer:function isArrayBuffer(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:i,isFormData:function isFormData(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function isArrayBufferView(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function isString(t){return"string"==typeof t},isNumber:function isNumber(t){return"number"==typeof t},isObject:isObject,isUndefined:function isUndefined(t){return void 0===t},isDate:function isDate(t){return"[object Date]"===o.call(t)},isFile:function isFile(t){return"[object File]"===o.call(t)},isBlob:function isBlob(t){return"[object Blob]"===o.call(t)},isFunction:isFunction,isStream:function isStream(t){return isObject(t)&&isFunction(t.pipe)},isURLSearchParams:function isURLSearchParams(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function isStandardBrowserEnv(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:forEach,merge:function merge(){var t={};function assignValue(e,n){"object"==typeof t[n]&&"object"==typeof e?t[n]=merge(t[n],e):t[n]=e}for(var e=0,n=arguments.length;e<n;e++)forEach(arguments[e],assignValue);return t},extend:function extend(t,e,n){return forEach(e,function assignValue(e,i){t[i]=n&&"function"==typeof e?r(e,n):e}),t},trim:function trim(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){var r=n(101),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){"use strict";n(160),n(298),n(299);var r=n(300);n.d(e,"a",function(){return r.a});var i=n(301);n.d(e,"b",function(){return i.a});n(302),n(303);var o=n(304);n.d(e,"c",function(){return o.a});n(305),n(306),n(307),n(143);var s=n(161);n.d(e,"d",function(){return s.a});n(308),n(309),n(310);var a=n(311);n.d(e,"e",function(){return a.a});n(70),n(312),n(313),n(314),n(315);var u=n(163);n.d(e,"f",function(){return u.a});n(316),n(317),n(318),n(319),n(320),n(321);var c=n(322);n.d(e,"g",function(){return c.a});var l=n(51);n.d(e,"h",function(){return l.a});n(323),n(164),n(324),n(325),n(138),n(326),n(327),n(328);var f=n(26);n.d(e,"i",function(){return f.a});var p=n(329);n.d(e,"j",function(){return p.a});n(330),n(331),n(332);var h=n(91);n.d(e,"k",function(){return h.a});var d=n(59);n.d(e,"l",function(){return d.a});n(333),n(334),n(335),n(54),n(140),n(336);var _=n(337);n.d(e,"m",function(){return _.a});n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(94),n(345),n(346),n(347);var b=n(348);n.d(e,"n",function(){return b.a});n(97),n(349),n(350);var v=n(118);n.d(e,"o",function(){return v.a});n(351),n(352);var y=n(353);n.d(e,"p",function(){return y.a});n(354),n(355),n(356),n(357),n(358);var m=n(359);n.d(e,"q",function(){return m.a});n(360),n(362);var g=n(119);n.d(e,"r",function(){return g.a});var w=n(363);n.d(e,"s",function(){return w.a});var S=n(116);n.d(e,"t",function(){return S.a});n(117),n(364),n(365);var O=n(366);n.d(e,"u",function(){return O.a});n(165),n(367),n(93),n(368),n(369);var x=n(166);n.d(e,"v",function(){return x.a});n(370),n(371),n(372),n(373),n(374),n(375),n(376),n(377),n(378),n(379)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(3),i=function(t){function InnerSubscriber(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.a(InnerSubscriber,t),InnerSubscriber.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},InnerSubscriber.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},InnerSubscriber.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},InnerSubscriber}(n(5).a)},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(49),i=n(426),o=n(63),s=n(427),a=n(435),u=n(496),c=i("wks"),l=r.Symbol,f=u?l:l&&l.withoutSetter||s;t.exports=function(t){return o(c,t)||(a&&o(l,t)?c[t]=l[t]:c[t]=f("Symbol."+t)),c[t]}},,function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(268);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";var r=n(244);n.d(e,"i",function(){return r.a});var i=n(250);n.d(e,"a",function(){return i.a}),n.d(e,"b",function(){return i.b}),n.d(e,"c",function(){return i.c}),n.d(e,"d",function(){return i.d}),n.d(e,"e",function(){return i.e}),n.d(e,"f",function(){return i.f}),n.d(e,"g",function(){return i.g}),n.d(e,"h",function(){return i.h}),n.d(e,"j",function(){return i.i}),n.d(e,"k",function(){return i.j}),n.d(e,"l",function(){return i.k}),n.d(e,"m",function(){return i.l}),n.d(e,"n",function(){return i.m}),n.d(e,"o",function(){return i.n}),n.d(e,"p",function(){return i.o}),n.d(e,"q",function(){return i.p}),n.d(e,"r",function(){return i.q}),n.d(e,"s",function(){return i.r}),n.d(e,"t",function(){return i.s})},function(t,e,n){"use strict";e.a=function identity(t){return t}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(3),i=function(t){function AsyncAction(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return r.a(AsyncAction,t),AsyncAction.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},AsyncAction.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},AsyncAction.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},AsyncAction.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},AsyncAction.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},AsyncAction.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},AsyncAction}(n(190).a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(3),i=n(110),o=function(t){function AsyncScheduler(e,n){void 0===n&&(n=i.a.now);var r=t.call(this,e,function(){return AsyncScheduler.delegate&&AsyncScheduler.delegate!==r?AsyncScheduler.delegate.now():n()})||this;return r.actions=[],r.active=!1,r.scheduled=void 0,r}return r.a(AsyncScheduler,t),AsyncScheduler.prototype.schedule=function(e,n,r){return void 0===n&&(n=0),AsyncScheduler.delegate&&AsyncScheduler.delegate!==this?AsyncScheduler.delegate.schedule(e,n,r):t.prototype.schedule.call(this,e,n,r)},AsyncScheduler.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},AsyncScheduler}(i.a)},function(t,e,n){"use strict";e.a=function fromArray(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))};var r=n(6),i=n(111),o=n(79)},function(t,e,n){"use strict";function getSymbolIterator(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return r});var r=getSymbolIterator()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function __(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)});var o=function(t){function FacebookIdFetchError(e,n){var r=t.call(this,function buildErrorMessage(t,e){return("logged-out"===t?"The user is probably not logged in to facebook":"failed getting facebook user id")+" (source: "+e+")"}(e,n))||this;return r.reason=e,r.source=n,Object.setPrototypeOf(r,FacebookIdFetchError.prototype),r}return i(FacebookIdFetchError,t),FacebookIdFetchError}(Error)},function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(e,n(36))},function(t,e,n){"use strict";e.a=function isFunction(t){return"function"==typeof t}},function(t,e,n){"use strict";e.a=function filter(t,e){return function filterOperatorFunction(n){return n.lift(new o(t,e))}};var r=n(3),i=n(5);var o=function(){function FilterOperator(t,e){this.predicate=t,this.thisArg=e}return FilterOperator.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))},FilterOperator}(),s=function(t){function FilterSubscriber(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r.a(FilterSubscriber,t),FilterSubscriber.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},FilterSubscriber}(i.a)},function(t,e,n){var r=n(37),i=n(436),o=n(62),s=r("unscopables"),a=Array.prototype;null==a[s]&&o.f(a,s,{configurable:!0,value:i(null)}),t.exports=function(t){a[s][t]=!0}},,function(t,e,n){"use strict";e.a=function multicast(t,e){return function multicastOperatorFunction(n){var o;if(o="function"==typeof t?t:function subjectFactory(){return t},"function"==typeof e)return n.lift(new i(o,e));var s=Object.create(n,r.a);return s.source=n,s.subjectFactory=o,s}};var r=n(137);var i=function(){function MulticastOperator(t,e){this.subjectFactory=t,this.selector=e}return MulticastOperator.prototype.call=function(t,e){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i},MulticastOperator}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function ObjectUnsubscribedErrorImpl(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return ObjectUnsubscribedErrorImpl.prototype=Object.create(Error.prototype),ObjectUnsubscribedErrorImpl}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function ArgumentOutOfRangeErrorImpl(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return ArgumentOutOfRangeErrorImpl.prototype=Object.create(Error.prototype),ArgumentOutOfRangeErrorImpl}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function EmptyErrorImpl(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return EmptyErrorImpl.prototype=Object.create(Error.prototype),EmptyErrorImpl}()},function(t,e,n){"use strict";e.a=function mergeMap(t,e,n){void 0===n&&(n=Number.POSITIVE_INFINITY);if("function"==typeof e)return function(r){return r.pipe(mergeMap(function(n,r){return Object(u.a)(t(n,r)).pipe(Object(a.a)(function(t,i){return e(n,t,r,i)}))},n))};"number"==typeof e&&(n=e);return function(e){return e.lift(new c(t,n))}};var r=n(3),i=n(11),o=n(10),s=n(35),a=n(26),u=n(31);var c=function(){function MergeMapOperator(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return MergeMapOperator.prototype.call=function(t,e){return e.subscribe(new l(t,this.project,this.concurrent))},MergeMapOperator}(),l=function(t){function MergeMapSubscriber(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.a(MergeMapSubscriber,t),MergeMapSubscriber.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},MergeMapSubscriber.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},MergeMapSubscriber.prototype._innerSub=function(t,e,n){var r=new s.a(this,void 0,void 0);this.destination.add(r),Object(i.a)(this,t,e,n,r)},MergeMapSubscriber.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},MergeMapSubscriber.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},MergeMapSubscriber.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},MergeMapSubscriber}(o.a)},function(t,e,n){"use strict";n.d(e,"e",function(){return s}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return a}),n.d(e,"b",function(){return u});var r=n(236);n.d(e,"d",function(){return r.a});var i,o,s=["LIKE","LOVE","HAHA","WOW","ANGER","SORRY"];!function(t){t[t.pageview=0]="pageview",t[t.screenview=1]="screenview",t[t.event=2]="event",t[t.transaction=3]="transaction",t[t.item=4]="item",t[t.social=5]="social",t[t.exception=6]="exception",t[t.timing=7]="timing"}(i||(i={})),function(t){t[t.Headline=0]="Headline",t[t.Banner=1]="Banner",t[t.Product=2]="Product"}(o||(o={}));var a="(*&Y(UHsx#4",u="1q2w3e4r"},function(t,e,n){"use strict";e.a=function extractLinkFromFbRedirector(t){if(!function isFacebookRedirectorUrl(t){return t.startsWith("https://l.facebook.com/")||t.startsWith("http://l.facebook.com/")||t.startsWith("https://lm.facebook.com/")||t.startsWith("http://lm.facebook.com/")}(t))return t;var e=r.parse(r.extract(t)).u;if("string"==typeof e&&e.startsWith("http"))return e;return t};var r=n(125);n.n(r)},function(t,e,n){var r=n(71),i=n(424),o=n(103),s=n(271),a=Object.defineProperty;e.f=r?a:function defineProperty(t,e,n){if(o(t),e=s(e,!0),o(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){"use strict";var r=n(40);t.exports=function(t,e){var n=[][t];return!n||!r(function(){n.call(null,e||function(){throw 1},1)})}},function(t,e,n){"use strict";e.a=function noop(){}},function(t,e,n){"use strict";e.a=function of(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return Object(r.a)(n)?(t.pop(),Object(o.a)(t,n)):Object(i.a)(t)};var r=n(30),i=n(46),o=n(79)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(3),i=n(19),o=n(14),s=function(t){function AsyncSubject(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return r.a(AsyncSubject,t),AsyncSubject.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),o.a.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),o.a.EMPTY):t.prototype._subscribe.call(this,e)},AsyncSubject.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},AsyncSubject.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},AsyncSubject.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},AsyncSubject}(i.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r,i=n(29),o=n(66),s=n(90);r||(r={});var a=function(){function Notification(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return Notification.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},Notification.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},Notification.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},Notification.prototype.toObservable=function(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")},Notification.createNext=function(t){return void 0!==t?new Notification("N",t):Notification.undefinedValueNotification},Notification.createError=function(t){return new Notification("E",void 0,t)},Notification.createComplete=function(){return Notification.completeNotification},Notification.completeNotification=new Notification("C"),Notification.undefinedValueNotification=new Notification("N",void 0),Notification}()},function(t,e,n){"use strict";e.a=function isNumeric(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0};var r=n(17)},function(t,e,n){"use strict";e.a=function defaultIfEmpty(t){void 0===t&&(t=null);return function(e){return e.lift(new o(t))}};var r=n(3),i=n(5);var o=function(){function DefaultIfEmptyOperator(t){this.defaultValue=t}return DefaultIfEmptyOperator.prototype.call=function(t,e){return e.subscribe(new s(t,this.defaultValue))},DefaultIfEmptyOperator}(),s=function(t){function DefaultIfEmptySubscriber(e,n){var r=t.call(this,e)||this;return r.defaultValue=n,r.isEmpty=!0,r}return r.a(DefaultIfEmptySubscriber,t),DefaultIfEmptySubscriber.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},DefaultIfEmptySubscriber.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},DefaultIfEmptySubscriber}(i.a)},function(t,e,n){var r=n(40);t.exports=!r(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";e.a=function concat(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(i.a)()(r.a.apply(void 0,t))};var r=n(66),i=n(143)},function(t,e,n){"use strict";e.f=function documentReady(t){return new Promise(function(e,n){var r=function(){t.removeEventListener("DOMContentLoaded",r),e()};"complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState?e():t.addEventListener("DOMContentLoaded",r)})},e.b=function addStyleString(t,e){var n=t.createElement("style");n.innerHTML=e,t.body.appendChild(n)},e.j=function processStory(t,e,n,o,s,a){return l(this,void 0,void 0,function(){var u,l,h,d,_,b;return f(this,function(f){switch(f.label){case 0:return[4,Object(i.x)({timeout:50})];case 1:f.sent(),u=!1,l=5,f.label=2;case 2:return(h=l>0)?[4,ensureStoryLoaded(t,e)]:[3,4];case 3:h=!(u=f.sent()),f.label=4;case 4:return h?[4,Object(i.A)(1e3)]:[3,7];case 5:f.sent(),f.label=6;case 6:return l--,[3,2];case 7:return u||a.warn("Story isn't loaded!",t),d=e.isStorySponsored(t),_=r.m.tryExtractStoryEntityId(t),d||!_?[3,10]:[4,n];case 8:return[4,f.sent()(_)];case 9:(b=f.sent())&&b.isSponsored&&(a.error("This story is sponsored, but DOM detection thought it wasnt.... try again",t),d=!0),f.label=10;case 10:return d?[2,processSponsoredStory(e,t,o,s,n).then(function(t){return c(c({},t),{wasLoaded:u,isSponsered:!0})})]:[2,processRegularStory(e,t,o).then(function(t){t.diag;var e=p(t,["diag"]);return c(c({},e),{isSponsered:!1})})]}})})},e.k=selectorObserver,e.d=function desktopTryGetFbId(t){if("new"===Object(r.n)(t.documentElement)){var e=Object(r.p)(t.documentElement).id;if(!e)throw new Error("Failed to parse user id for new Facebook UI");return e}var n=t.querySelector("img[id*='profile_pic_header']");if(null!==n){if(!(n instanceof HTMLImageElement))throw new RangeError("profile image selector has no results");var i=(n.getAttribute("id")||"").match("profile_pic_header_([0-9]*)");if(null===i||2!==i.length)throw new RangeError("failed to parse profile image id: "+n.getAttribute("id"));return i[1]}throw new Error("Failed to parse user id for old Facebook UI")},e.c=function desktopNewsfeedObserver(t,e){return newsfeedObserverBase(t,e,"div#stream_pagelet")},e.e=function desktopTwitterFeedObserver(t){return selectorObserver(t.body,"#stream-items-id",!0)},e.h=function highlightPost(t,e,n,r){var i=t.createElement("pre");i.textContent=r;var o=t.createElement("span");o.textContent="Ï€";var s=t.createElement("span");s.classList.add("tooltiptext"),s.appendChild(i);var a=t.createElement("div");a.classList.add("tooltip"),a.appendChild(o),a.appendChild(s),e.appendChild(a),e.style.boxShadow="0px 0px 10px "+(n?"red":"green")},e.g=function getLocaleDesktop(t){if("new"===Object(r.n)(t.documentElement)){var e=Object(r.p)(t.documentElement).locale;if(!e)throw new Error("failed get locale for new UI");return e}var n=Array.from(t.body.classList).find(function(t){return t.startsWith("Locale")});if(null==n){var i=t.body.innerHTML.match(/"locale":"(\w+)"/);if(i&&i[1])return i[1]}var o=null;"string"==typeof n&&(o=n.replace("Locale_",""));if(null===o)throw new Error("failed get local");return o},n.d(e,"a",function(){return d});var r=n(42),i=n(16),o=n(60),s=n(20),a=n(34),u=n(403);n.d(e,"i",function(){return u.a});var c=this&&this.__assign||function(){return(c=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},l=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(t){try{step(r.next(t))}catch(t){o(t)}}function rejected(t){try{step(r.throw(t))}catch(t){o(t)}}function step(t){t.done?i(t.value):function adopt(t){return t instanceof n?t:new n(function(e){e(t)})}(t.value).then(fulfilled,rejected)}step((r=r.apply(t,e||[])).next())})},f=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(a){return function step(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},p=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function processRegularStory(t,e,n){return Promise.resolve().then(function(){var r=[],i=c(c({},t.parseRegularStory(e,r)),{fb_user_id:n});if(null===i.fb_post_entity_id)throw new Error("fb_post_entity_id is null");return{diag:r,dataToSend:i}})}function processSponsoredStory(t,e,n,r,i){if(null!==e.querySelector(".fbInternPreview"))throw new Error(".fbInternPreview");var o=[],s=t.parseSponsoredFeedStory(e,o);if(null===s.fb_post_entity_id)throw new Error("fb_post_entity_id is null");var a=window.getComputedStyle(e),u=null!==a.width?parseInt(a.width.replace("px",""),10):null,l=null!==a.height?parseInt(a.height.replace("px",""),10):null;null===u||isFinite(u)||(u=null),null===l||isFinite(l)||(l=null);var f=c(c({},s),{fb_post_width:u,fb_post_height:l,fb_user_id:n}),p=f.fb_post_entity_id;if(null===p)throw new RangeError("Unexpected branch");return Promise.resolve().then(function(){return i(p)}).then(function(e){return null!==e&&(f=function addReactData(t,e,n,r){var i=function createReactionMap(t,e){if(!t)return h;var n=t.edges.reduce(function(t,n){var r=null!=n.reaction_count?n.reaction_count:e(n.i18n_reaction_count);return t[n.node.reaction_type]=r,t},{});return c(c({},h),n)}(t.reactions,function(t){return n.parseStringedNumber(t,r)});return c(c({},e),{fb_post_engage_like:i.LIKE,fb_post_engage_love:i.LOVE,fb_post_engage_wow:i.WOW,fb_post_engage_angry:i.ANGER,fb_post_engage_haha:i.HAHA,fb_post_engage_sad:i.SORRY,fb_post_engage_comments:t.commentsReduced?t.commentsReduced:null,fb_post_engage_shares:t.shareCount,fb_post_video_views:t.viewCount&&Number.isFinite(t.viewCount)?t.viewCount:null,fb_post_this_video_views:t.postViewCount&&Number.isFinite(t.postViewCount)?t.postViewCount:null,fb_post_width:t.width})}(e,f,t,r)),{diag:o,dataToSend:f}})}function ensureStoryLoaded(t,e){return l(this,void 0,void 0,function(){var n,r;return f(this,function(i){switch(i.label){case 0:if(n=5,e.isStoryLoaded(t))return[2,!0];r=0,i.label=1;case 1:return r<n?[4,childListChangedOnce(t,500)]:[3,4];case 2:if(i.sent(),e.isStoryLoaded(t))return[2,!0];i.label=3;case 3:return r++,[3,1];case 4:return[2,!1]}})})}function childListChangedOnce(t,e){return l(this,void 0,void 0,function(){return f(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,new Promise(function(n,r){var o=new MutationObserver(function(t){o.disconnect(),s(),n()}),s=Object(i.z)(function(){o.disconnect(),r()},e);o.observe(t,{attributes:!1,childList:!0,characterData:!1,subtree:!1})})];case 1:return n.sent(),[2,!0];case 2:return n.sent(),[2,!1];case 3:return[2]}})})}function selectorObserver(t,e,n){return void 0===n&&(n=!0),new s.c(function(r){if(n)for(var i=0,o=Array.from(t.querySelectorAll(e));i<o.length;i++){var s=o[i];if(!(s instanceof HTMLElement))return;r.next(s)}var a=new MutationObserver(function(t){for(var n=0,i=t;n<i.length;n++)for(var o=i[n],s=0,a=Array.from(o.addedNodes);s<a.length;s++){var u=a[s];if(!(u instanceof HTMLElement))return;u.matches(e)&&r.next(u);for(var c=0,l=Array.from(u.querySelectorAll(e));c<l.length;c++){var f=l[c];if(!(f instanceof HTMLElement))return;r.next(f)}}});return a.observe(t,{attributes:!1,childList:!0,characterData:!1,subtree:!0}),function(){a.disconnect()}}).pipe(Object(a.h)(Object(i.s)()))}function newsfeedObserverBase(t,e,n){var r=!1;return selectorObserver(t.body,n,!0).pipe(Object(a.h)(function(t){return"hidden"!==getComputedStyle(t).visibility&&r!==t}),Object(a.d)(function(t){return t&&r?Object(s.m)(!1,t):Object(s.m)(t)}),Object(a.u)(function(t){r=t}))}var h=o.e.reduce(function(t,e){return t[e]=null,t},{});var d=function(){function AmazonFrameHandler(t){this.chromeRuntimeId=t,this.selectorMap=new Map([["ape_Detail_ams-detail-right-v2_Desktop_iframe","AMS"],["ape_Detail_hero-quick-promo_Desktop_iframe","Hero"]])}return AmazonFrameHandler.prototype.GetFrameType=function(t){return this.selectorMap.has(t)?this.selectorMap.get(t):null},AmazonFrameHandler.prototype.GetFrameSelectors=function(){return Array.from(this.selectorMap.keys())},AmazonFrameHandler.prototype.CreateMessageId=function(t){return i.e.salted_hash(t+"_"+this.chromeRuntimeId,o.b)},AmazonFrameHandler}()},function(t,e,n){"use strict";e.a=function canReportError(t){for(;t;){var e=t,n=e.closed,i=e.destination,o=e.isStopped;if(n||o)return!1;t=i&&i instanceof r.a?i:null}return!0};var r=n(5)},function(t,e,n){"use strict";e.a=function hostReportError(t){setTimeout(function(){throw t},0)}},function(t,e,n){"use strict";e.a=function isObject(t){return null!==t&&"object"==typeof t}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},function(t,e,n){"use strict";e.a=function scheduleArray(t,e){return new r.a(function(n){var r=new i.a,o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})};var r=n(6),i=n(14)},function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n(111),i=n(202),o=n(203),s=n(204),a=n(112),u=n(113),c=n(77),l=n(47),f=n(39),p=function(t){if(t&&"function"==typeof t[f.a])return Object(s.a)(t);if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return Object(i.a)(t);if(t&&"function"==typeof t[l.a])return Object(o.a)(t);var e=Object(c.a)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},function(t,e,n){"use strict";e.a=function extractStateOrCountry(t){var e,n=t.split(",");return(null===(e=n[n.length-1])||void 0===e?void 0:e.trim())||null},e.b=function fetchDocument(t){var e=t.fetchText,n=t.urlString,s=t.addId,a=void 0===s?"r":s,u=t.headers;return i(this,void 0,void 0,function(){var t,i,s;return o(this,function(o){switch(o.label){case 0:return t=new URL(n),!1!==a&&t.searchParams.append(a,Date.now().toString()),[4,e(t.toString(),u)];case 1:return i=o.sent(),s=Object(r.j)(i),Object(r.w)(s),[2,s]}})})};var r=n(16),i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(t){try{step(r.next(t))}catch(t){o(t)}}function rejected(t){try{step(r.throw(t))}catch(t){o(t)}}function step(t){t.done?i(t.value):function adopt(t){return t instanceof n?t:new n(function(e){e(t)})}(t.value).then(fulfilled,rejected)}step((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(a){return function step(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}},function(t,e,n){"use strict";var r=n(126);n.d(e,"j",function(){return r.a});var i=n(127);n.d(e,"i",function(){return i.a});var o=n(83);n.d(e,"a",function(){return o.a}),n.d(e,"b",function(){return o.b}),n.d(e,"c",function(){return o.c}),n.d(e,"d",function(){return o.d}),n.d(e,"e",function(){return o.e}),n.d(e,"f",function(){return o.f}),n.d(e,"g",function(){return o.g}),n.d(e,"h",function(){return o.h})},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"d",function(){return i}),n.d(e,"e",function(){return o}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"a",function(){return c}),n.d(e,"c",function(){return l}),n.d(e,"i",function(){return f});var r="div[data-testid=fbfeed_story][id^='hyperfeed_story_id']",i="form.commentable_item",o="input[name=ft_ent_identifier]",s="[data-testid='fb-ufi-likelink']",a="[data-testid='ufi_share_link_loaded']",u="[data-reaction]",c='a[data-hovercard]:not([href="#"])',l=".PageLikeButton",f="ArticleCacheKey"},function(t,e,n){"use strict";e.b=function isCometNewsFeed_viewer$stream$CometNewsFeed_viewer_news_feed(t){return"label"in t&&"CometNewsFeed_viewer$stream$CometNewsFeed_viewer_news_feed"===t.label},e.h=function isInitialData(t){return"viewer"in t.data&&t.data.viewer.news_feed&&Array.isArray(t.data.viewer.news_feed.edges)},e.j=function isSponsored(t){return"SPONSORED"===t.category},e.i=function isOrganic(t){return"ORGANIC"===t.category},e.f=function isFbRawInteractionResponse(t){var e=t;return Object(r.g)(function(){return!!e.data.feedback_react.feedback.viewer_feedback_reaction_info},!1)},n.d(e,"q",function(){return i}),n.d(e,"n",function(){return o}),n.d(e,"l",function(){return s}),n.d(e,"p",function(){return a}),n.d(e,"m",function(){return u}),n.d(e,"o",function(){return c}),n.d(e,"k",function(){return l}),n.d(e,"e",function(){return f}),n.d(e,"r",function(){return p}),n.d(e,"g",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return _}),n.d(e,"a",function(){return b});var r=n(27);function isGqlTypeGuardFactory(t){return function(e){if(!e||"object"!=typeof e)return!1;return"__typename"in e&&e.__typename===t}}var i=isGqlTypeGuardFactory("StoryAttachmentVideoStyleRenderer"),o=isGqlTypeGuardFactory("StoryAttachmentMultiShareStyleRenderer"),s=isGqlTypeGuardFactory("StoryAttachmentEventStyleRenderer"),a=isGqlTypeGuardFactory("StoryAttachmentShareStyleRenderer"),u=isGqlTypeGuardFactory("StoryAttachmentLeadGenLinkRenderer"),c=isGqlTypeGuardFactory("StoryAttachmentPhotoStyleRenderer"),l=isGqlTypeGuardFactory("StoryAttachmentAlbumStyleRenderer"),f=isGqlTypeGuardFactory("ExternalUrl"),p=isGqlTypeGuardFactory("Video"),h=isGqlTypeGuardFactory("GenericAttachmentMedia"),d=isGqlTypeGuardFactory("CometStoryAttachmentFooterGenericShareStrategy"),_=isGqlTypeGuardFactory("CometStoryAttachmentFooterGenericVideoStrategy"),b=(isGqlTypeGuardFactory("CometStoryAttachedStoryStrategy"),isGqlTypeGuardFactory("CometFeedStoryAudienceStrategy"))},function(t,e,n){var r=n(156),i=n(268);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(275);t.exports=Array.isArray||function isArray(t){return"Array"==r(t)}},function(t,e,n){var r=n(278),i=n(156),o=n(41),s=n(33),a=n(134),u=[].push,c=function(t){var e=1==t,n=2==t,c=3==t,l=4==t,f=6==t,p=5==t||f;return function(h,d,_,b){for(var v,y,m=o(h),g=i(m),w=r(d,_,3),S=s(g.length),O=0,x=b||a,E=e?x(h,S):n?x(h,0):void 0;S>O;O++)if((p||O in g)&&(y=w(v=g[O],O,m),t))if(e)E[O]=y;else if(y)switch(t){case 3:return!0;case 5:return v;case 6:return O;case 2:u.call(E,v)}else if(l)return!1;return f?-1:c||l?l:E}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},,function(t,e,n){"use strict";e.a=function pipe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return pipeFromArray(t)},e.b=pipeFromArray;var r=n(65);function pipeFromArray(t){return t?1===t.length?t[0]:function piped(e){return t.reduce(function(t,e){return e(t)},e)}:r.a}},function(t,e,n){"use strict";e.a=function throwError(t,e){return e?new r.a(function(n){return e.schedule(dispatch,0,{error:t,subscriber:n})}):new r.a(function(e){return e.error(t)})};var r=n(6);function dispatch(t){var e=t.error;t.subscriber.error(e)}},function(t,e,n){"use strict";e.a=function mergeAll(t){void 0===t&&(t=Number.POSITIVE_INFINITY);return Object(r.a)(i.a,t)};var r=n(59),i=n(43)},function(t,e,n){"use strict";e.a=function defer(t){return new r.a(function(e){var n;try{n=t()}catch(t){return void e.error(t)}var r=n?Object(i.a)(n):Object(o.b)();return r.subscribe(e)})};var r=n(6),i=n(31),o=n(29)},function(t,e,n){"use strict";e.a=function throwIfEmpty(t){void 0===t&&(t=defaultErrorFactory);return function(e){return e.lift(new s(t))}};var r=n(3),i=n(58),o=n(5);var s=function(){function ThrowIfEmptyOperator(t){this.errorFactory=t}return ThrowIfEmptyOperator.prototype.call=function(t,e){return e.subscribe(new a(t,this.errorFactory))},ThrowIfEmptyOperator}(),a=function(t){function ThrowIfEmptySubscriber(e,n){var r=t.call(this,e)||this;return r.errorFactory=n,r.hasValue=!1,r}return r.a(ThrowIfEmptySubscriber,t),ThrowIfEmptySubscriber.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},ThrowIfEmptySubscriber.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)},ThrowIfEmptySubscriber}(o.a);function defaultErrorFactory(){return new i.a}},function(t,e,n){"use strict";e.a=function reduce(t,e){if(arguments.length>=2)return function reduceOperatorFunctionWithSeed(n){return Object(s.a)(Object(r.a)(t,e),Object(i.a)(1),Object(o.a)(e))(n)};return function reduceOperatorFunction(e){return Object(s.a)(Object(r.a)(function(e,n,r){return t(e,n,r+1)}),Object(i.a)(1))(e)}};var r=n(118),i=n(117),o=n(70),s=n(89)},,,function(t,e,n){"use strict";e.a=function refCount(){return function refCountOperatorFunction(t){return t.lift(new o(t))}};var r=n(3),i=n(5);var o=function(){function RefCountOperator(t){this.connectable=t}return RefCountOperator.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},RefCountOperator}(),s=function(t){function RefCountSubscriber(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.a(RefCountSubscriber,t),RefCountSubscriber.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},RefCountSubscriber}(i.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(3),i=n(19),o=n(109),s=n(14),a=n(140),u=n(56),c=n(108),l=function(t){function ReplaySubject(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=t.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=e<1?1:e,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return r.a(ReplaySubject,t),ReplaySubject.prototype.nextInfiniteTimeWindow=function(e){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),t.prototype.next.call(this,e)},ReplaySubject.prototype.nextTimeWindow=function(e){this._events.push(new f(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},ReplaySubject.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new u.a;if(this.isStopped||this.hasError?e=s.a.EMPTY:(this.observers.push(t),e=new c.a(this,t)),i&&t.add(t=new a.a(t,i)),n)for(var l=0;l<o&&!t.closed;l++)t.next(r[l]);else for(l=0;l<o&&!t.closed;l++)t.next(r[l].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},ReplaySubject.prototype._getNow=function(){return(this.scheduler||o.a).now()},ReplaySubject.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r},ReplaySubject}(i.a),f=function(){return function ReplayEvent(t,e){this.time=t,this.value=e}}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(3),i=(n(30),n(17),n(10)),o=n(11),s=(n(46),{});var a=function(){function CombineLatestOperator(t){this.resultSelector=t}return CombineLatestOperator.prototype.call=function(t,e){return e.subscribe(new u(t,this.resultSelector))},CombineLatestOperator}(),u=function(t){function CombineLatestSubscriber(e,n){var r=t.call(this,e)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r.a(CombineLatestSubscriber,t),CombineLatestSubscriber.prototype._next=function(t){this.values.push(s),this.observables.push(t)},CombineLatestSubscriber.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Object(o.a)(this,r,r,n))}}},CombineLatestSubscriber.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},CombineLatestSubscriber.prototype.notifyNext=function(t,e,n,r,i){var o=this.values,a=o[n],u=this.toRespond?a===s?--this.toRespond:this.toRespond:0;o[n]=e,0===u&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},CombineLatestSubscriber.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},CombineLatestSubscriber}(i.a)},function(t,e,n){"use strict";e.b=function zip(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];"function"==typeof n&&t.pop();return Object(i.a)(t,void 0).lift(new l(n))},n.d(e,"a",function(){return l});var r=n(3),i=n(46),o=n(17),s=n(5),a=n(10),u=n(11),c=n(47);var l=function(){function ZipOperator(t){this.resultSelector=t}return ZipOperator.prototype.call=function(t,e){return e.subscribe(new f(t,this.resultSelector))},ZipOperator}(),f=function(t){function ZipSubscriber(e,n,r){void 0===r&&(r=Object.create(null));var i=t.call(this,e)||this;return i.iterators=[],i.active=0,i.resultSelector="function"==typeof n?n:null,i.values=r,i}return r.a(ZipSubscriber,t),ZipSubscriber.prototype._next=function(t){var e=this.iterators;Object(o.a)(t)?e.push(new h(t)):"function"==typeof t[c.a]?e.push(new p(t[c.a]())):e.push(new d(this.destination,this,t))},ZipSubscriber.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var n=0;n<e;n++){var r=t[n];if(r.stillUnsubscribed)this.destination.add(r.subscribe(r,n));else this.active--}}else this.destination.complete()},ZipSubscriber.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},ZipSubscriber.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++){if("function"==typeof(s=t[r]).hasValue&&!s.hasValue())return}var i=!1,o=[];for(r=0;r<e;r++){var s,a=(s=t[r]).next();if(s.hasCompleted()&&(i=!0),a.done)return void n.complete();o.push(a.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),i&&n.complete()},ZipSubscriber.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},ZipSubscriber}(s.a),p=function(){function StaticIterator(t){this.iterator=t,this.nextResult=t.next()}return StaticIterator.prototype.hasValue=function(){return!0},StaticIterator.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},StaticIterator.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},StaticIterator}(),h=function(){function StaticArrayIterator(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return StaticArrayIterator.prototype[c.a]=function(){return this},StaticArrayIterator.prototype.next=function(t){var e=this.index++,n=this.array;return e<this.length?{value:n[e],done:!1}:{value:null,done:!0}},StaticArrayIterator.prototype.hasValue=function(){return this.array.length>this.index},StaticArrayIterator.prototype.hasCompleted=function(){return this.array.length===this.index},StaticArrayIterator}(),d=function(t){function ZipBufferIterator(e,n,r){var i=t.call(this,e)||this;return i.parent=n,i.observable=r,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return r.a(ZipBufferIterator,t),ZipBufferIterator.prototype[c.a]=function(){return this},ZipBufferIterator.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},ZipBufferIterator.prototype.hasValue=function(){return this.buffer.length>0},ZipBufferIterator.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},ZipBufferIterator.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},ZipBufferIterator.prototype.notifyNext=function(t,e,n,r,i){this.buffer.push(e),this.parent.checkIterators()},ZipBufferIterator.prototype.subscribe=function(t,e){return Object(u.a)(this,this.observable,this,e)},ZipBufferIterator}(a.a)},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(71),i=n(62),o=n(155);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(72);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},,,function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(55),i=n(76),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function UnsubscriptionErrorImpl(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return UnsubscriptionErrorImpl.prototype=Object.create(Error.prototype),UnsubscriptionErrorImpl}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(3),i=function(t){function SubjectSubscription(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return r.a(SubjectSubscription,t),SubjectSubscription.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},SubjectSubscription}(n(14).a)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(189),i=new(n(191).a)(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function Scheduler(t,e){void 0===e&&(e=Scheduler.now),this.SchedulerAction=t,this.now=e}return Scheduler.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},Scheduler.now=function(){return Date.now()},Scheduler}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},function(t,e,n){"use strict";e.a=function isPromise(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}},function(t,e,n){"use strict";e.a=function scheduled(t,e){if(null!=t){if(Object(a.a)(t))return Object(r.a)(t,e);if(Object(u.a)(t))return Object(i.a)(t,e);if(Object(c.a)(t))return Object(o.a)(t,e);if(Object(l.a)(t)||"string"==typeof t)return Object(s.a)(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")};var r=n(205),i=n(206),o=n(79),s=n(207),a=n(208),u=n(113),c=n(112),l=n(209)},function(t,e,n){"use strict";var r=n(6),i=n(65);i.a},function(t,e,n){"use strict";e.a=function take(t){return function(e){return 0===t?Object(s.b)():e.lift(new a(t))}};var r=n(3),i=n(5),o=n(57),s=n(29);var a=function(){function TakeOperator(t){if(this.total=t,this.total<0)throw new o.a}return TakeOperator.prototype.call=function(t,e){return e.subscribe(new u(t,this.total))},TakeOperator}(),u=function(t){function TakeSubscriber(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return r.a(TakeSubscriber,t),TakeSubscriber.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},TakeSubscriber}(i.a)},function(t,e,n){"use strict";e.a=function takeLast(t){return function takeLastOperatorFunction(e){return 0===t?Object(s.b)():e.lift(new a(t))}};var r=n(3),i=n(5),o=n(57),s=n(29);var a=function(){function TakeLastOperator(t){if(this.total=t,this.total<0)throw new o.a}return TakeLastOperator.prototype.call=function(t,e){return e.subscribe(new u(t,this.total))},TakeLastOperator}(),u=function(t){function TakeLastSubscriber(e,n){var r=t.call(this,e)||this;return r.total=n,r.ring=new Array,r.count=0,r}return r.a(TakeLastSubscriber,t),TakeLastSubscriber.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},TakeLastSubscriber.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},TakeLastSubscriber}(i.a)},function(t,e,n){"use strict";e.a=function scan(t,e){var n=!1;arguments.length>=2&&(n=!0);return function scanOperatorFunction(r){return r.lift(new o(t,e,n))}};var r=n(3),i=n(5);var o=function(){function ScanOperator(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return ScanOperator.prototype.call=function(t,e){return e.subscribe(new s(t,this.accumulator,this.seed,this.hasSeed))},ScanOperator}(),s=function(t){function ScanSubscriber(e,n,r,i){var o=t.call(this,e)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return r.a(ScanSubscriber,t),Object.defineProperty(ScanSubscriber.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),ScanSubscriber.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},ScanSubscriber.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},ScanSubscriber}(i.a)},function(t,e,n){"use strict";e.a=function switchMap(t,e){if("function"==typeof e)return function(n){return n.pipe(switchMap(function(n,r){return Object(u.a)(t(n,r)).pipe(Object(a.a)(function(t,i){return e(n,t,r,i)}))}))};return function(e){return e.lift(new c(t))}};var r=n(3),i=n(10),o=n(35),s=n(11),a=n(26),u=n(31);var c=function(){function SwitchMapOperator(t){this.project=t}return SwitchMapOperator.prototype.call=function(t,e){return e.subscribe(new l(t,this.project))},SwitchMapOperator}(),l=function(t){function SwitchMapSubscriber(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return r.a(SwitchMapSubscriber,t),SwitchMapSubscriber.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},SwitchMapSubscriber.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new o.a(this,void 0,void 0);this.destination.add(i),this.innerSubscription=Object(s.a)(this,t,e,n,i)},SwitchMapSubscriber.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},SwitchMapSubscriber.prototype._unsubscribe=function(){this.innerSubscription=null},SwitchMapSubscriber.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},SwitchMapSubscriber.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},SwitchMapSubscriber}(i.a)},function(t,e,n){"use strict";e.a=function findClosingBracketMatchIndex(t,e){if("{"!==t[e])throw new Error("No '{' at index "+e);for(var n=1,r=e+1;r<t.length;r++)switch(t[r]){case"{":n++;break;case"}":if(0==--n)return r}return-1}},function(t,e,n){"use strict";e.a=function objectFromEntries(t){return Array.from(t).reduce(function(t,e){var n=e[0],r=e[1];return t[n]=r,t},{})}},function(t,e,n){"use strict";e.a=function createFbqProvider(t,e){return new Promise(function(n,r){!function(t,e,r,i){if(!t.fbq){var o=t.fbq=function(){o.callMethod?o.callMethod.apply(o,arguments):o.queue.push(arguments)};t._fbq||(t._fbq=o),o.push=o,o.loaded=!0,o.version="2.0",o.queue=[];var s=e.createElement(r);s.async=!0,s.src="https://connect.facebook.net/en_US/fbevents.js";var a=e.getElementsByTagName(r)[0];s.addEventListener("load",function(){n(t.fbq)}),a.parentNode.insertBefore(s,a)}}(t,e,"script")})}},function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n(16),i=n(239),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(t){try{step(r.next(t))}catch(t){o(t)}}function rejected(t){try{step(r.throw(t))}catch(t){o(t)}}function step(t){t.done?i(t.value):function adopt(t){return t instanceof n?t:new n(function(e){e(t)})}(t.value).then(fulfilled,rejected)}step((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(a){return function step(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},a={id:"",birthday:{month:null,year:null},gender:null,relationshipStatus:null,userNameOnlyForAnonymizingTheHTMLDoNotSend:null,locale:null,stateOrCountry:null},u=function(){function FacebookMetadataProvider(t,e,n){var r=this;this.fetchText=t,this.log=e,this.trafficRegisterFunction=n,this._currentRequestPromise=null,this.metadataFetched=function(t){return r.available.set(t.id,t),r._currentRequestPromise=null,t},this.metadataFetchFailed=function(t){r._currentRequestPromise=null,r.log.error(t)},this.available=new Map,this.currentRequestPromise.then()}return FacebookMetadataProvider.prototype.getInterests=function(){return o(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:return[4,this.getCurrentUserId()];case 1:return t=n.sent(),[4,Object(i.b)(this.fetchText)];case 2:return e=n.sent(),[2,{id:t,interests:e}]}})})},Object.defineProperty(FacebookMetadataProvider.prototype,"currentRequestPromise",{get:function(){var t=this;return this._currentRequestPromise instanceof Promise||(this._currentRequestPromise=Object(i.a)(this.fetchText,this.trafficRegisterFunction).catch(function(e){return Object(r.A)(500).then(function(){return Object(i.a)(t.fetchText,t.trafficRegisterFunction)})}),this._currentRequestPromise.then(this.metadataFetched,this.metadataFetchFailed)),this._currentRequestPromise},enumerable:!0,configurable:!0}),FacebookMetadataProvider.prototype.getCurrentUserId=function(){for(var t=this.available.values(),e=t.next();!e.done;)e=t.next();return void 0!==e.value?Promise.resolve(e.value.id):this.currentRequestPromise.then(function(t){return t.id})},FacebookMetadataProvider.prototype.getForUser=function(t){return this.available.has(t)?Promise.resolve(this.available.get(t)):this.currentRequestPromise.then(function(e){if(e.id===t)return e;throw new Error("The loggedin user is not the one that the metadata asked for. cant provide metadata")})},FacebookMetadataProvider}()},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r,i=n(125),o=(n.n(i),n(61)),s=n(82),a=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function __(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),u=function(t){function MobileParsedStory(e,n,r){var i=t.call(this,e,n,r)||this;i.log=n,i._dataStore=null,i._dataFt=null;for(var o=e,s=e;s&&!s.hasAttribute("data-store")&&s.parentElement;)s=s.parentElement;i._article=s,i._innerStory=o;var a=o.querySelector("div.story_body_container");return a&&(i._innerStory=a),i.parseInnerStory(),i}return a(MobileParsedStory,t),MobileParsedStory.prototype.init=function(){},MobileParsedStory.countOccurrencesInString=function(t,e){var n=t.match(new RegExp(e,"g"));return n?n.length:0},Object.defineProperty(MobileParsedStory.prototype,"entId",{get:function(){var t,e,n;if(!this._entId){var r=this.dataStore,i=this.dataFt;if((null===(t=i)||void 0===t?void 0:t.page_insights)&&i.top_level_post_id)this._isNestingStory=!0,this._entId=i.top_level_post_id;else if((null===(e=r)||void 0===e?void 0:e.share_id)&&r.share_id!=this.fb_post_advertiser_page_entity_id){var o=r.share_id.toString(),s=o.match("([0-9]*)");if(null!==s&&s[0]===o)this._entId=o;else{var a=o.match(".*:([0-9]*)");if(!a||1!=MobileParsedStory.countOccurrencesInString(o,":"))throw new RangeError("_entId can't be null");this._entId=a[1]}}else{if(null===(n=r)||void 0===n||!n.feedback_target)throw new RangeError("_entId can't be null");this._entId=""+r.feedback_target}}return this._entId},enumerable:!0,configurable:!0}),MobileParsedStory.extractDataStoreFromElement=function(t,e){var n=t.getAttribute(e);if(!n)return null;try{return JSON.parse(n)}catch(t){return null}},Object.defineProperty(MobileParsedStory.prototype,"dataStore",{get:function(){return this._dataStore||(this._dataStore=MobileParsedStory.extractDataStoreFromElement(this._article,"data-store")),this._dataStore},enumerable:!0,configurable:!0}),Object.defineProperty(MobileParsedStory.prototype,"dataFt",{get:function(){return this._dataFt||(this._dataFt=MobileParsedStory.extractDataStoreFromElement(this._article,"data-ft")),this._dataFt},enumerable:!0,configurable:!0}),MobileParsedStory.prototype.parseInnerStory=function(){if(void 0===this._header){this._header=null,this._footer=null,this._divs=[];for(var t=0,e=Array.from(this._innerStory.childNodes);t<e.length;t++){var n=e[t];n instanceof HTMLElement&&("header"===n.tagName.toLowerCase()?this._header=n:"footer"===n.tagName.toLowerCase()?this._footer=n:"div"===n.tagName.toLowerCase()&&this._divs.push(n))}}},Object.defineProperty(MobileParsedStory.prototype,"storyType",{get:function(){return this._postType||(this._postType="unknown",this._innerStory.querySelector("[data-sigil*='m-video-play-button']")?this._postType="video":this._divs.length>1&&(this._divs[1].querySelector(".scrollArea-horizontal")?this._postType="carousel":this._divs[1].querySelector("button")?this._postType="link":this._divs[1].querySelector("a >div > div >i")&&(this._postType="photo"))),this._postType},enumerable:!0,configurable:!0}),Object.defineProperty(MobileParsedStory.prototype,"fb_post_carousel_info",{get:function(){var t=this;if("carousel"===this.storyType){var e=this._innerStory.querySelector(".scrollAreaBody");if(null===e)throw new RangeError("missing scrollAreaBody inside carousel");return Array.from(e.children).map(function(e){var n=e.querySelector("i.img");if(null===n)throw new RangeError("Unexpected post structure. fb_post_carousel_info. id:"+t._entId);var r=n.style.backgroundImage&&n.style.backgroundImage.replace(/^url\(/,"").replace(/\)$/,"")||null,i=e.querySelector("header")&&e.querySelector("header").textContent||null,s=e.querySelector("a"),a=null;return null!==s&&(a=Object(o.a)(s.href)),{fb_post_carousel_actionlink_url:a,fb_post_carousel_text:i,fb_post_carousel_img_url:r}})}return null},enumerable:!0,configurable:!0}),MobileParsedStory.prototype.parseAdvertiserFields=function(){var t,e,n,r,o,s,a;this._fb_post_advertiser_page_pretty_name=null;var u=this.dataFt,c=null===(e=null===(t=this._divs[0])||void 0===t?void 0:t.querySelector("a"))||void 0===e?void 0:e.href,l=c&&i.parse(c)||{},f=null,p=l.id;if(p)f=p instanceof Array?p[0]:l.id;else{var h=null===(n=this._header)||void 0===n?void 0:n.querySelector("[class*='like_thumb_conta']");if(h){var d=MobileParsedStory.extractDataStoreFromElement(h,"data-store");d&&(f=d.pageID.toString())}else{var _=this._article.querySelector("[data-sigil='ufi-inline-actions'] > div:nth-child(2) > a");_ instanceof HTMLAnchorElement&&(f=(_.href.match("/([0-9]*)/posts")||[null,null])[1])}}if(f&&(f.match(/^[0-9]*$/)?this._fb_post_advertiser_page_entity_id=f:this._fb_post_advertiser_page_id=f),this._fb_post_advertiser_page_entity_id||u&&u.page_id&&(this._fb_post_advertiser_page_entity_id=u.page_id),this._header&&!this._fb_post_advertiser_page_id){var b=this._header.querySelector("a[href]:not([href^='/story'])");if(b instanceof HTMLAnchorElement){var v=b.href,y=void 0;(y=v.startsWith("http")?v.match("https?://"+document.location.host+"/(.*)/"):v.match("^/?(.*)/"))&&(this._fb_post_advertiser_page_id=y[1])}}var m=null===(o=null===(r=this._header)||void 0===r?void 0:r.querySelector("i"))||void 0===o?void 0:o.style.backgroundImage,g=null===(s=m)||void 0===s?void 0:s.match(/url\("(.*)"\)/);g||(g=null===(a=m)||void 0===a?void 0:a.match(/url\((.*)\)/)),g&&g[1]?this._fb_post_advertiser_thumbnail_url=g[1]:this._fb_post_advertiser_thumbnail_url=null},MobileParsedStory.prototype.initActionLink=function(){var t=this._divs[1].querySelector("button");if(t){var e=MobileParsedStory.extractDataStoreFromElement(t.parentElement,"data-store");e&&(this._fb_post_call_to_action_url=e.dest_uri||null),this._fb_post_call_to_action_text=t.textContent}else this._fb_post_call_to_action_url=null,this._fb_post_call_to_action_text=null},Object.defineProperty(MobileParsedStory.prototype,"fb_post_actionlink_url",{get:function(){if(void 0===!this._fb_post_actionlink_url){var t=this._divs[1].querySelector("a");if(t){var e=MobileParsedStory.extractDataStoreFromElement(t,"data-store");e&&(this._fb_post_actionlink_url=e.dest_uri||null)}else this._fb_post_actionlink_url=null}return this._fb_post_actionlink_url},enumerable:!0,configurable:!0}),Object.defineProperty(MobileParsedStory.prototype,"fb_post_img_url",{get:function(){if(!this._fb_post_img_url)if(this._fb_post_img_url=null,"album"===this.storyType||"photo"===this.storyType){var t=this._innerStory.querySelector("a[rel=theater] img");t instanceof HTMLImageElement&&(this._fb_post_img_url=t.src)}else{var e=this._innerStory.querySelector("div.fbStoryAttachmentImage > img");e instanceof HTMLImageElement?this._fb_post_img_url=e.src:this._diagnostics.push("can't parse, fb_post_img_url. expected selector not found")}return this._fb_post_img_url},enumerable:!0,configurable:!0}),MobileParsedStory}(s.i)},function(t,e,n){"use strict";const r=n(245),i=n(246),o=n(247);function validateArrayFormatSeparator(t){if("string"!=typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function encode(t,e){return e.encode?e.strict?r(t):encodeURIComponent(t):t}function decode(t,e){return e.decode?i(t):t}function removeHash(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function extract(t){const e=(t=removeHash(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function parseValue(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function parse(t,e){validateArrayFormatSeparator((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);const n=function parserForArrayFormat(t){let e;switch(t.arrayFormat){case"index":return(t,n,r)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=n):r[t]=n};case"bracket":return(t,n,r)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==r[t]?r[t]=[].concat(r[t],n):r[t]=[n]:r[t]=n};case"comma":case"separator":return(e,n,r)=>{const i="string"==typeof n&&n.split("").indexOf(t.arrayFormatSeparator)>-1?n.split(t.arrayFormatSeparator).map(e=>decode(e,t)):null===n?n:decode(n,t);r[e]=i};default:return(t,e,n)=>{void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=e}}}(e),r=Object.create(null);if("string"!=typeof t)return r;if(!(t=t.trim().replace(/^[?#&]/,"")))return r;for(const i of t.split("&")){let[t,s]=o(e.decode?i.replace(/\+/g," "):i,"=");s=void 0===s?null:["comma","separator"].includes(e.arrayFormat)?s:decode(s,e),n(decode(t,e),s,r)}for(const t of Object.keys(r)){const n=r[t];if("object"==typeof n&&null!==n)for(const t of Object.keys(n))n[t]=parseValue(n[t],e);else r[t]=parseValue(n,e)}return!1===e.sort?r:(!0===e.sort?Object.keys(r).sort():Object.keys(r).sort(e.sort)).reduce((t,e)=>{const n=r[e];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?t[e]=function keysSorter(t){return Array.isArray(t)?t.sort():"object"==typeof t?keysSorter(Object.keys(t)).sort((t,e)=>Number(t)-Number(e)).map(e=>t[e]):t}(n):t[e]=n,t},Object.create(null))}e.extract=extract,e.parse=parse,e.stringify=((t,e)=>{if(!t)return"";validateArrayFormatSeparator((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);const n=n=>e.skipNull&&(t=>null==t)(t[n])||e.skipEmptyString&&""===t[n],r=function encoderForArrayFormat(t){switch(t.arrayFormat){case"index":return e=>(n,r)=>{const i=n.length;return void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:null===r?[...n,[encode(e,t),"[",i,"]"].join("")]:[...n,[encode(e,t),"[",encode(i,t),"]=",encode(r,t)].join("")]};case"bracket":return e=>(n,r)=>void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:null===r?[...n,[encode(e,t),"[]"].join("")]:[...n,[encode(e,t),"[]=",encode(r,t)].join("")];case"comma":case"separator":return e=>(n,r)=>null==r||0===r.length?n:0===n.length?[[encode(e,t),"=",encode(r,t)].join("")]:[[n,encode(r,t)].join(t.arrayFormatSeparator)];default:return e=>(n,r)=>void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:null===r?[...n,encode(e,t)]:[...n,[encode(e,t),"=",encode(r,t)].join("")]}}(e),i={};for(const e of Object.keys(t))n(e)||(i[e]=t[e]);const o=Object.keys(i);return!1!==e.sort&&o.sort(e.sort),o.map(n=>{const i=t[n];return void 0===i?"":null===i?encode(n,e):Array.isArray(i)?i.reduce(r(n),[]).join("&"):encode(n,e)+"="+encode(i,e)}).filter(t=>t.length>0).join("&")}),e.parseUrl=((t,e)=>{e=Object.assign({decode:!0},e);const[n,r]=o(t,"#");return Object.assign({url:n.split("?")[0]||"",query:parse(extract(t),e)},e&&e.parseFragmentIdentifier&&r?{fragmentIdentifier:decode(r,e)}:{})}),e.stringifyUrl=((t,n)=>{n=Object.assign({encode:!0,strict:!0},n);const r=removeHash(t.url).split("?")[0]||"",i=e.extract(t.url),o=e.parse(i,{sort:!1}),s=Object.assign(o,t.query);let a=e.stringify(s,n);a&&(a=`?${a}`);let u=function getHash(t){let e="";const n=t.indexOf("#");return-1!==n&&(e=t.slice(n)),e}(t.url);return t.fragmentIdentifier&&(u=`#${encode(t.fragmentIdentifier,n)}`),`${r}${a}${u}`})},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r,i=n(27),o=n(61),s=n(83),a=n(127),u=n(248),c=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function __(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),l=function(){function Parser(t,e){if(this.log=t,this.extensionVersion=e,!t)throw new Error("You can't start a parser without a logger!")}return Parser.prototype.getNewCache=function(t,e){return new a.a(t,this.log,e)},Parser.prototype.getCache=function(t,e){return t[s.i]||(t[s.i]=this.getNewCache(t,e)),t[s.i]},Parser.prototype.storyTypeClassifier=function(t){return this.getCache(t,[]).storyType},Parser.prototype.getLocale=function(){var t=Array.from(document.body.classList).find(function(t){return t.startsWith("Locale")}),e=null;return"string"==typeof t&&(e=t.replace("Locale_","")),e},Parser.prototype.extractFirstPostInStoryText=function(t){var e=t.querySelector("p");return e instanceof HTMLParagraphElement&&e.parentElement?e.parentElement.textContent:""},Parser.prototype.isChildOf=function(t,e){return t instanceof Element&&t.contains(e)},Parser.prototype.parseRegularStory=function(t,e){var n=null,r=null!==t.querySelector("div[data-hover='tooltip'][data-tooltip-content='Shared with: Public']"),i=this.extractFirstPostInStoryText(t),o=["posts","videos","notes","permalink"],s=["comment_id"],a=o.map(function(t){return"[href*='/"+t+"/']:not("+s.map(function(t){return"[href*='"+t+"']"}).join(",")+")"});a.push("[href*='photo.php?fbid=']"),a.push("[href*='permalink.php?story_fbid=']"),a.push("[href*='/photos/a.']");var u=t.querySelector("form.commentable_item > input[name='ft_ent_identifier']");if(u instanceof HTMLInputElement&&(n=u.value,this.log.info("Found the entity id using the commentable_item "+n,t)),!n){var c=t.querySelector(a.join(","));if(!(c instanceof HTMLAnchorElement))throw new RangeError("can't parse fb_post_entity_id, expected selector not found");if(c.href.indexOf("/photos/a.")>-1)null===(l=c.href.match(/photos\/a[^\/]+\/([0-9]+)/))||2!==l.length?e.push("can't extract fb_post_entity_id from href, post type '/photos/a. ?type=3&theater':"+c.href):n=l[1];else if(c.href.indexOf("permalink.php?story_fbid=")>-1){null===(l=c.href.match(/permalink\.php\?story_fbid=([0-9]+)/))||2!==l.length?e.push("can't extract fb_post_entity_id from href, post type 'permalink and the publishing user dosn't have String handle':"+c.href):n=l[1]}else if(c.href.indexOf("photo.php?fbid=")>-1){null===(l=c.href.match(/photo\.php\?fbid=([0-9]+)/))||2!==l.length?e.push("can't extract fb_post_entity_id from href, post type photo:"+c.href):n=l[1]}else{var l;null===(l=c.href.match(new RegExp("("+o.join("|")+")/([0-9]+)/?")))||3!==l.length?e.push("can't extract fb_post_entity_id from href:"+c.href):n=l[2]}}if(null===n)throw new RangeError("can't parse fb_post_entity_id!!!");return{fb_post_entity_id:n,fb_post_text:i,fb_post_is_public:r,parser_type:"desktop",parser_version:this.extensionVersion}},Parser.prototype.isFeedbackTarget=function(t){return null!==t.querySelector(s.d)},Parser.prototype.parseSponsoredFeedStory=function(t,e){var n,r,i,o=this.getCache(t,e),a=this.sanityzePIIPostHtml(t.cloneNode(!0)).outerHTML,u=t.querySelector(s.d);if(!(u instanceof HTMLFormElement&&u.parentElement&&u.parentElement.previousElementSibling))throw new RangeError("The given element is not a feedback target:"+t.id);i=u.parentElement.previousElementSibling;var c=o.storyType,l=o.fb_post_carousel_info,f=o.fb_post_app_pretty_name,p=o.fb_post_app_id,h=o.fb_post_app_thumbnail_url,d=o.fb_post_advertiser_page_id,_=o.fb_post_advertiser_page_entity_id,b=o.fb_post_advertiser_page_pretty_name,v=o.fb_post_advertiser_thumbnail_url,y=o.fb_post_actionlink_url,m=o.fb_post_img_url,g=o.fb_post_call_to_action_url,w=o.fb_post_call_to_action_text,S=o.entId,O=null;"gif"===c?(O=(n=this.parseGifFields(i)).videoUrl,m=n.previewImageUrl):"video"===c&&(O=(r=this.parseVideoFields(i)).videoUrl,m=r.previewImageUrl);var x=(this.getLocale()||"").startsWith("en")?this.getEngagementScoreFromStory(u):null,E=x&&x.has("Angry")?x.get("Angry"):null,k=x&&x.has("Comments")?x.get("Comments"):null,j=x&&x.has("Haha")?x.get("Haha"):null,T=x&&x.has("Like")?x.get("Like"):null,I=x&&x.has("Love")?x.get("Love"):null,A=x&&x.has("Sad")?x.get("Sad"):null,C=x&&x.has("Shares")?x.get("Shares"):null,P=x&&x.has("Wow")?x.get("Wow"):null;return{fb_post_actionlink_url:y,fb_post_src:a,fb_post_text:this.extractFirstPostInStoryText(i),fb_post_type:c,fb_post_img_url:m,fb_post_video_url:O,fb_post_engage_sad:A,fb_post_engage_wow:P,fb_post_entity_id:S,fb_post_engage_haha:j,fb_post_engage_like:T,fb_post_engage_love:I,fb_post_video_views:null,fb_post_this_video_views:null,fb_post_engage_angry:E,fb_post_engage_shares:C,fb_post_engage_comments:k,fb_post_advertiser_page_id:d,fb_post_advertiser_page_entity_id:_,fb_post_call_to_action_url:g,fb_post_call_to_action_text:w,fb_post_advertiser_thumbnail_url:v,fb_post_advertiser_page_pretty_name:b,fb_post_app_pretty_name:f,fb_post_app_id:p,fb_post_app_thumbnail_url:h,fb_post_carousel_info:l,fb_post_caption:o.fb_post_caption,fb_post_attachment_description:o.fb_post_attachment_description,fb_post_attachment_title:o.fb_post_attachment_title,parser_type:"desktop",parser_version:this.extensionVersion,fb_post_ad_placement:"feed"}},Parser.prototype.parseVideoFields=function(t){var e=null,n=null,r=t.querySelectorAll("img.img:not([src*='emoji.php'])")[1];r instanceof HTMLImageElement&&""===(e=(r.style.backgroundImage||"").replace(/^url\(("|')?/,"").replace(/("|')?\)$/,""))&&(e=r.src);var i=t.querySelector("video");return i instanceof HTMLVideoElement&&i.hasAttribute("src")&&!i.src.startsWith("blob:")&&(n=i.src),{previewImageUrl:e,videoUrl:n}},Parser.prototype.parseGifFields=function(t){var e=null,n=null,r=null,i=t.querySelectorAll("img.img:not([src*='emoji.php'])")[1];i instanceof HTMLImageElement&&(e=i.src);var o=t.querySelector("video");o instanceof HTMLVideoElement&&(n=o.src);var s=t.querySelector("span > [target='_blank']");return s instanceof HTMLAnchorElement&&(r=s.href),{previewImageUrl:e,videoUrl:n,originalUrl:r}},Parser.prototype.getStorySelector=function(){return["×¡×™×¤×•×¨","Story","ActualitÃ©"].map(function(t){return"div[aria-label="+t+"]"}).join(", ")},Parser.prototype.removeZeroSizedFont=function(t){var e=window.getComputedStyle(t).fontSize;if(!e||0===e.length||"0px"===e||function hiddenFromSightHeuristics(t,e){var n=e.getComputedStyle(t);if("none"===n.display)return!0;if("0"===n.opacity&&"absolute"===n.position)return!0;return!1}(t,window))return null;if(!t.childElementCount)return t;for(var n=document.createElement(t.tagName),r=0;r<t.childElementCount;r++){var i=this.removeZeroSizedFont(t.children[r]);if(i){var o=i.cloneNode(!0);o.textContent=i.textContent,n.appendChild(o)}}return n},Parser.prototype.isStorySponsoredImpl=function(t,e){var n=this;return Array.from(t.querySelectorAll("s, [data-testid='story-subtilte'] > span, a, div[data-testid=story-subtitle], div[data-testid*=story-label] a")).map(function(r){var i,o,s=window.getComputedStyle(r);if(s.display&&s.display.match("none"))return{story:t,a:r,ok:!1,reason:"self-none",context:{}};if(null===(i=r.firstElementChild)||void 0===i?void 0:i.childElementCount){var a=Array.from(r.firstElementChild.children).filter(function(t){var e=t.getBoundingClientRect();return 0!==e.width&&0!==e.height}).map(function(t){return t.textContent}).join("").replace(new RegExp('"',"g"),"");if(a&&e.indexOf(trimTextContent(a))>-1)return{story:t,a:r,ok:!0,reason:"within rect overflow",context:a};var u=r.querySelector("span");if((null===(o=u)||void 0===o?void 0:o.children)&&(a=Array.from(u.children).flatMap(function(t){return function getLeaves(t){if(t.children.length)return Array.from(t.children).flatMap(function(t){return getLeaves(t)});return[t]}(t)}).filter(function(t){return["0px","auto"].includes(window.getComputedStyle(t).top)}).map(function(t){return t.textContent}).join("").replace(new RegExp('"',"g"),""))&&e.indexOf(trimTextContent(a))>-1)return{story:t,a:r,ok:!0,reason:"within rect overflow - using top attribute",context:a}}var c=Array.from(r.querySelectorAll("[data-content]")).filter(function(t){return"none"!==window.getComputedStyle(t).getPropertyValue("display")}).map(function(t){return window.getComputedStyle(t,"::after").getPropertyValue("content")}).join("").replace(new RegExp('"',"g"),"");if(c&&e.indexOf(trimTextContent(c))>-1)return{story:t,a:r,ok:!0,reason:"after-content",context:c};var l=window.getComputedStyle(r,":after").content;if(l){var f=l.match(/\"(.*)\"/);f&&(l=f[1])}var p=n.removeZeroSizedFont(r);return getParentsUpTo(r,t).some(function(t){return"none"===window.getComputedStyle(t).display})?{story:t,a:r,ok:!1,reason:"parent-none",context:getParentsUpTo(r,t).find(function(t){return"none"===window.getComputedStyle(t).display})}:p&&p.textContent&&e.indexOf(trimTextContent(p.textContent))>-1?{story:t,a:r,ok:!0,reason:"element && anchorPossibleText",context:{elementWithoutZeroSize:p}}:l&&e.indexOf(l)>-1?{story:t,a:r,ok:!0,reason:"cssAfterContent && anchorPossibleText",context:{cssAfterContent:l,elementWithoutZeroSize:p}}:{story:t,a:r,ok:r.textContent&&e.indexOf(trimTextContent(r.textContent))>-1||!1,reason:"legacy",context:{cssAfterContent:l,elementWithoutZeroSize:p}}}).some(function(t){return t.ok})},Parser.prototype.isStorySponsored=function(t){return this.isStorySponsoredImpl(t,["Sponsored","×ž×ž×•×ž×Ÿ","SponsorisÃ©","Sponsorizzata","Ø¥Ø¹Ù„Ø§Ù† Ù…ÙÙ…ÙˆÙ‘ÙŽÙ„","Publicidad","Patrocinado","Gesponsert","RÄ—mÄ—jai","5p4m","Ð ÐµÐºÐ»Ð°Ð¼Ð°","Sponsorowane"])},Parser.prototype.parseStringedNumber=function(t,e){var n=new Set(["en_US","en_GB","en_CA","he_IL","fr_FR","fr_CA","it_IT","de_DE","es_ES","es_LA"]),r=new Map([["k",1e3],["mil",1e3],["m",1e6],["mill.",1e6],["mln",1e6],["mio.",1e6],["b",1e9],["g",1e9]]);if(!n.has(e)&&/[^0-9]/.test(t))return null;var o=t.toLowerCase().replace(",",".").match(new RegExp("^([0-9]+\\.?[0-9]*)( ?("+Array.from(r.keys()).map(function(t){return Object(i.d)(t)}).join("|")+"))?$"));return null!==o&&function isNumeric(t){return!isNaN(parseFloat(t))&&isFinite(t)}(o[1])?parseFloat(o[1])*(r.has(o[3])?r.get(o[3]):-1!==["de_DE","it_IT"].indexOf(e)?1e3:1):null},Parser.prototype.parseVerbAndNumber=function(t,e){var n=t.match(/([0-9]*(\.|,)?[0-9]*)(.*)\ (.*)/),r=-1,i="";this.log.captureBreadcrumb({message:"parseVerbAndNumber",data:{splitText:n}}),n&&("m"===n[3].toLowerCase()||"k"===n[3].toLowerCase()?r=parseFloat(n[1])*("k"==n[3].toLowerCase()?1e3:1e6):","===n[2]?r=parseInt(n[1].replace(",","")):n[2]?this.log.error("Found an unknown multiplier"):r=parseInt(n[1]),i=n[4]),-1!=r?(e.set(i,r),this.log.debug("Found new verb: "+i+" with a number of: "+r)):(this.log.captureBreadcrumb({message:"content-parsing-error",level:"error",data:{verb:i,splitText:n}}),this.log.error("content-parsing-error"))},Parser.prototype.getEngagementScoreFromStory=function(t){var e=new Map;try{this.log.debug("Start getting engage scores....");var n=t.querySelectorAll("span[role*='toolbar'] a");this.log.info("Found "+n.length+" feelings...");for(var r=0;r<n.length;r++)try{var i=n[r].getAttribute("aria-label")||"";this.parseVerbAndNumber(i,e)}catch(t){this.log.error("Error while parsing a verb from feelings!"+t)}var o=t.querySelectorAll("a[aria-live='polite'], span[aria-live='polite']");this.log.info("Found "+o.length+" in comment and share section.");for(var s=0;s<o.length;s++)try{this.parseVerbAndNumber(o[s].textContent||"",e)}catch(t){this.log.error("Error while parsing a verb from comments and shares!"+t)}}catch(t){}return e},Parser.prototype.isStoryLoaded=function(t){var e=t.getBoundingClientRect(),n=e.width,r=e.height;return null!==t.querySelector(".fbUserContent, input[name=ft_ent_identifier], .userContentWrapper, i.profpic")&&0!==n&&0!==r},Parser.prototype.isSuggestedPageStory=function(t,e){t.innerHTML},Parser.prototype.getNestingType=function(t,e){return"unknown"},Parser.prototype.parseInstreamAd=function(t){var e;if(!0===t.isEmpty)return null;var n=t.instreamVideoAdBreakVideoID;if(!n)throw new f("Unable to find ad entity id for instream video. Raw response:",t);var r=document.createElement("div");r.innerHTML=t.videoAdStory.__html;var o=r.firstElementChild.dataset.xt;if(!o)return null;var s=Object(i.h)(o)[0],a=Object.values(s)[0];return{fb_post_entity_id:Object(i.g)(function(){return a.post_context.story_fbid[0]},n).toString(),fb_post_advertiser_page_entity_id:(e=a.page_id,null!=e?e:a.actor_id).toString()}},Parser.tryExtractStoryEntityId=function(t){var e,n=t.querySelector(s.e);return n instanceof HTMLInputElement?n.value:null!=(e=Object(i.g)(function(){return JSON.parse(t.dataset.store).feedback_target},null))?e:Object(i.g)(function(){return JSON.parse(t.querySelector("article[data-store]").dataset.store).share_id},null)},Parser.prototype.sanityzePIIPostHtml=function(t){if(t.parentElement)throw new Error("don't pass elements from living document! it hurt the page. you must pass only clones");for(var e=0,n=Array.from(t.querySelectorAll(u.a.join(",")));e<n.length;e++){var r=n[e];this.log.info("will remove",[r]),r.remove()}return t},Parser.extractLinkFromFbRedirector=o.a,Parser}();function getParentsUpTo(t,e){if(!e.contains(t))throw new Error("el is not decendent of upto");for(var n=[],r=t;r.parentElement!==e&&null!==r.parentElement;)n.push(r.parentElement),r=r.parentElement;return n}function trimTextContent(t){return t.replace(" Â· ","")}var f=function(t){function InsteamAdParseError(e,n){var r=t.call(this,e)||this;return r.rawResponse=n,Object.setPrototypeOf(r,InsteamAdParseError.prototype),r}return c(InsteamAdParseError,t),InsteamAdParseError}(Error)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(27),i=n(61),o=n(83),s=n(126),a=function(){function ParsedStory(t,e,n){this.log=e,this._fb_post_actionlink_url=null,this._fb_post_img_url=null,this._fb_post_call_to_action_url=null,this._fb_post_call_to_action_text=null,this._fb_post_carousel_info=null,this._fb_post_advertiser_page_pretty_name=null,this._fb_post_advertiser_page_id=null,this._fb_post_advertiser_page_entity_id=null,this._fb_post_advertiser_thumbnail_url=null,this._fb_post_app_id=null,this._fb_post_app_pretty_name=null,this._fb_post_app_thumbnail_url=null,this._diagnostics=n||[],this._article=t,this.init()}return ParsedStory.prototype.init=function(){var t=this._article.querySelector(o.d);if(!(t instanceof HTMLFormElement))throw new RangeError("The given element is not a feedback target:"+this._article.id);this._commentsForm=t,null!==this._commentsForm.parentElement&&null!==this._commentsForm.parentElement.previousElementSibling?this._innerStory=this._commentsForm.parentElement.previousElementSibling:this._innerStory=this._article,this.is_app_post=null!==this._innerStory.querySelector("a[data-hovercard*='application.php'][href*='apps.facebook.com']")},Object.defineProperty(ParsedStory.prototype,"entId",{get:function(){if(!this._entId){var t=s.a.tryExtractStoryEntityId(this._commentsForm);if(!t)throw new Error("can't parse fb_post_entity_id, expected selector not found");this._entId=t}return this._entId},enumerable:!0,configurable:!0}),Object.defineProperty(ParsedStory.prototype,"nestType",{get:function(){return this._nestType||(this._nestType="unknown"),this._nestType},enumerable:!0,configurable:!0}),Object.defineProperty(ParsedStory.prototype,"isNestingStory",{get:function(){return this._isNestingStory||(this._isNestingStory=!1),this._isNestingStory},enumerable:!0,configurable:!0}),Object.defineProperty(ParsedStory.prototype,"fb_post_caption",{get:function(){if(void 0===this._fb_post_caption){var t=this._innerStory.querySelector("div._6lz._6mb.ellipsis");t&&""!==t.textContent?this._fb_post_caption=t.textContent:this._fb_post_caption=null}return this._fb_post_caption},enumerable:!0,configurable:!0}),Object.defineProperty(ParsedStory.prototype,"fb_post_attachment_title",{get:function(){if(void 0===this._fb_post_attachment_title){var t=this._innerStory.querySelector(".mbs._6m6._2cnj._5s6c > a");t&&""!==t.textContent?this._fb_post_attachment_title=t.textContent:this._fb_post_attachment_title=null}return this._fb_post_attachment_title},enumerable:!0,configurable:!0}),Object.defineProperty(ParsedStory.prototype,"fb_post_attachment_description",{get:function(){if(void 0===this._fb_post_attachment_description){var t=this._innerStory.querySelector("._6m7._3bt9");t&&""!==t.textContent?this._fb_post_attachment_description=t.textContent:this._fb_post_attachment_description=null}return this._fb_post_attachment_description},enumerable:!0,configurable:!0}),Object.defineProperty(ParsedStory.prototype,"fb_post_carousel_info",{get:function(){var t=this;if("carousel"===this.storyType){var e=this._innerStory.querySelector("ul.uiList");if(null===e)throw new RangeError("missing ul inside carousel");var n=Array.from(e.children).map(function(e){var n=e.querySelector("img:nth-of-type(1)");if(null===n)throw new RangeError("Unexpected post structure. missing img in li. fb_post_carousel_info. id:"+t._entId);var r=n.style.backgroundImage&&n.style.backgroundImage.replace(/^url\(\"/,"").replace(/\"\)$/,"")||n.src,o=e.children[0],s=e.children[1],a=o instanceof HTMLAnchorElement?o:s instanceof HTMLAnchorElement?s:null;if(a instanceof HTMLAnchorElement){var u=Object(i.a)(a.href),c=a.cloneNode(!0);Array.from(c.querySelectorAll("button")).forEach(function(t){t.remove()});var l=e.querySelector("div._1032"),f=e.querySelector("div._1m-h"),p=l?l.textContent:c.textContent;return f&&(p+=" "+f.textContent),{fb_post_carousel_actionlink_url:u,fb_post_carousel_text:p,fb_post_carousel_img_url:r}}throw new RangeError("Unexpected post structure. fb_post_carousel_info. id:"+t._entId)});return""===n[n.length-1].fb_post_carousel_text&&(n[n.length-1].fb_post_carousel_text=e.children[e.children.length-1].textContent),n}return null},enumerable:!0,configurable:!0}),Object.defineProperty(ParsedStory.prototype,"storyType",{get:function(){if(!this._postType){this._postType="unknown";var t=this._innerStory.querySelectorAll("a[rel=theater] img");if(t.length>0)1===t.length?this._postType="photo":this._postType="album";else if(null!==this._innerStory.querySelector("a[href*='/offers/url/?offer_id']"))this._postType="offer";else if(null!==this._innerStory.querySelector('a[href*="/events/"][data-hover=tooltip]'))this._postType="event";else{var e=this._innerStory.querySelector("ul.uiList");if(this._innerStory.querySelector('[data-testid="multishare_pager_next"]')||e instanceof HTMLUListElement&&e.nextElementSibling&&e.nextElementSibling.querySelector("div > a > div > i"))this._postType="carousel";else if(this._innerStory.querySelector("video")instanceof HTMLVideoElement)this._innerStory.querySelector("[role=progressbar]")instanceof HTMLSpanElement?this._postType="video":this._postType="gif";else if(null!==this._innerStory.querySelector(".fbStoryAttachmentImage.uiScaledImageContainer"))null!==this._innerStory.querySelector("button[type='submit']:not(.PageLikeButton)")?this._postType="lead":this._postType="link";else{var n=this._innerStory.querySelector("div.userContent"),r=!!n&&n.nextElementSibling instanceof HTMLDivElement&&n.nextElementSibling;r&&null===r.querySelector("img")&&(this._postType="text")}}}return this._postType},enumerable:!0,configurable:!0}),Object.defineProperty(ParsedStory.prototype,"fb_post_actionlink_url",{get:function(){if(!this._fb_post_actionlink_url){this._fb_post_actionlink_url=null;var t=this._innerStory.querySelector("a[rel*=nofollow][target=_blank],a[rel*=noopener][target=_blank]");t instanceof HTMLAnchorElement?this._fb_post_actionlink_url=Object(i.a)(t.href):this._diagnostics.push("can't parse fb_post_actionlink_url, the expected selector not found")}return this._fb_post_actionlink_url},enumerable:!0,configurable:!0}),Object.defineProperty(ParsedStory.prototype,"fb_post_img_url",{get:function(){if(!this._fb_post_img_url)if(this._fb_post_img_url=null,"album"===this.storyType||"photo"===this.storyType){var t=this._innerStory.querySelector("a[rel=theater] img");t instanceof HTMLImageElement&&(this._fb_post_img_url=t.src)}else{var e=this._innerStory.querySelector("div.fbStoryAttachmentImage > img");e instanceof HTMLImageElement?this._fb_post_img_url=e.src:this._diagnostics.push("can't parse, fb_post_img_url. expected selector not found")}return this._fb_post_img_url},enumerable:!0,configurable:!0}),Object.defineProperty(ParsedStory.prototype,"fb_post_call_to_action_url",{get:function(){return this._fb_post_call_to_action_url||this.initActionLink(),this._fb_post_call_to_action_url},enumerable:!0,configurable:!0}),Object.defineProperty(ParsedStory.prototype,"fb_post_call_to_action_text",{get:function(){return this._fb_post_call_to_action_text||this.initActionLink(),this._fb_post_call_to_action_text},enumerable:!0,configurable:!0}),Object.defineProperty(ParsedStory.prototype,"fb_post_advertiser_page_pretty_name",{get:function(){return this._fb_post_advertiser_page_pretty_name||this.parseAdvertiserFields(),this._fb_post_advertiser_page_pretty_name},enumerable:!0,configurable:!0}),Object.defineProperty(ParsedStory.prototype,"fb_post_advertiser_page_entity_id",{get:function(){return this._fb_post_advertiser_page_entity_id||this.parseAdvertiserFields(),this._fb_post_advertiser_page_entity_id},enumerable:!0,configurable:!0}),Object.defineProperty(ParsedStory.prototype,"fb_post_advertiser_page_id",{get:function(){return this._fb_post_advertiser_page_id||this.parseAdvertiserFields(),this._fb_post_advertiser_page_id},enumerable:!0,configurable:!0}),Object.defineProperty(ParsedStory.prototype,"fb_post_advertiser_thumbnail_url",{get:function(){return this._fb_post_advertiser_thumbnail_url||this.parseAdvertiserFields(),this._fb_post_advertiser_thumbnail_url},enumerable:!0,configurable:!0}),ParsedStory.prototype.parseAdvertiserFields=function(){var t;if(this._fb_post_advertiser_page_pretty_name=null,this._fb_post_advertiser_page_id=null,this._fb_post_advertiser_thumbnail_url=null,!this.is_app_post){var e=this._innerStory.querySelectorAll(o.a),n=null!=(t=e[1])?t:e[0];if(n instanceof HTMLAnchorElement){this._fb_post_advertiser_page_pretty_name=n.textContent;var r=Object(i.a)(n.href);if(-1===r.indexOf("profile.php?id=")){var s=document.createElement("a");s.href=r,this._fb_post_advertiser_page_id=decodeURIComponent(s.pathname.substr(1).replace(/\/$/,""))}else{var a=r.match(/profile\.php\?id\=([0-9]+)/);a instanceof Array?this._fb_post_advertiser_page_id=a[1]:this._diagnostics.push("Couldn't parse fb_post_advertiser_page_id from the a element")}}else this._diagnostics.push("Couldn't parse fb_post_advertiser_page_id, fb_post_advertiser_page_pretty_name. the expected selector not found");var u=e[0];if(u instanceof HTMLAnchorElement){var c=u.querySelector("img");c instanceof HTMLImageElement?this._fb_post_advertiser_thumbnail_url=c.src:this._diagnostics.push("can't parse fb_post_advertiser_thumbnail_url, expected selector not found")}else this._diagnostics.push("can't parse fb_post_advertiser_thumbnail_url, expected selector not found")}},Object.defineProperty(ParsedStory.prototype,"fb_post_app_id",{get:function(){return this._fb_post_app_id||this.parseFbAppStoryFields(),this._fb_post_app_id},enumerable:!0,configurable:!0}),Object.defineProperty(ParsedStory.prototype,"fb_post_app_pretty_name",{get:function(){return this._fb_post_app_pretty_name||this.parseFbAppStoryFields(),this._fb_post_app_pretty_name},enumerable:!0,configurable:!0}),Object.defineProperty(ParsedStory.prototype,"fb_post_app_thumbnail_url",{get:function(){return this._fb_post_app_thumbnail_url||this.parseFbAppStoryFields(),this._fb_post_app_thumbnail_url},enumerable:!0,configurable:!0}),ParsedStory.prototype.parseFbAppStoryFields=function(){if(this._fb_post_app_id=null,this._fb_post_app_pretty_name=null,this._fb_post_app_thumbnail_url=null,this.is_app_post){var t=this._innerStory.querySelectorAll(o.a),e=t[0];if(e instanceof HTMLAnchorElement){var n=e.querySelector("img");n instanceof HTMLImageElement?this._fb_post_app_thumbnail_url=n.src:this._diagnostics.push("failed with fb_post_app_thumbnail_url. expected selector not found")}else this._diagnostics.push("failed with fb_post_app_thumbnail_url. expected selector not found");var r=t[1];if(r instanceof HTMLAnchorElement){this._fb_post_app_pretty_name=r.textContent;var s=Object(i.a)(r.href).match(/apps\.facebook\.com\/([^\/]+)\//);null!==s&&2===s.length?this._fb_post_app_id=s[1]:this._diagnostics.push("failed with fb_post_app_id. failed extract id from href")}else this._diagnostics.push("failed with fb_post_app_pretty_name. expected selector not found")}},ParsedStory.prototype.initActionLink=function(){if("lead"===this.storyType){var t=this._innerStory.querySelector('button[type="submit"]:not([class*="Like"])');this._fb_post_call_to_action_url=null,t instanceof HTMLButtonElement?this._fb_post_call_to_action_text=t.textContent:(this._diagnostics.push("cant parse fb_post_call_to_action_url, expected selector not found"),this._fb_post_call_to_action_text=null)}else if("offer"===this.storyType){var e=this._innerStory.querySelector("a[href*='/offers/url/?offer_id'][role=button]");e instanceof HTMLAnchorElement&&(this._fb_post_call_to_action_text=e.text,this._fb_post_call_to_action_url=e.href.replace("http://localhost",""))}else if("carousel"===this.storyType){var n=this._innerStory.querySelector("button[type=submit]:not(.PageLikeButton)");if(n instanceof HTMLButtonElement||(n=this._innerStory.querySelector("a[role='button'][rel*='nofollow'],a[role='button'][rel*='noopener']")),n instanceof HTMLElement&&this._innerStory instanceof HTMLElement){this._fb_post_call_to_action_text=n.textContent;var o=Object(r.b)(n,"a",this._innerStory);o instanceof HTMLAnchorElement&&(this._fb_post_call_to_action_url=Object(i.a)(o.href))}}else{var s=this._innerStory.querySelector("a[role=button][rel*=nofollow],a[role=button][rel*=noopener]");s instanceof HTMLAnchorElement?(this._fb_post_call_to_action_url=Object(i.a)(s.href),this._fb_post_call_to_action_text=s.textContent):(this._diagnostics.push("cant parse fb_post_call_to_action_url, expected selector not found"),this._fb_post_call_to_action_url=null,this._fb_post_call_to_action_text=null)}},ParsedStory}()},function(t,e){var n=t.exports=function(t){return new Traverse(t)};function Traverse(t){this.value=t}function walk(t,e,n){var a=[],u=[],c=!0;return function walker(t){var l=n?copy(t):t,f={},p=!0,h={node:l,node_:t,path:[].concat(a),parent:u[u.length-1],parents:u,key:a.slice(-1)[0],isRoot:0===a.length,level:a.length,circular:null,update:function(t,e){h.isRoot||(h.parent.node[h.key]=t),h.node=t,e&&(p=!1)},delete:function(t){delete h.parent.node[h.key],t&&(p=!1)},remove:function(t){i(h.parent.node)?h.parent.node.splice(h.key,1):delete h.parent.node[h.key],t&&(p=!1)},keys:null,before:function(t){f.before=t},after:function(t){f.after=t},pre:function(t){f.pre=t},post:function(t){f.post=t},stop:function(){c=!1},block:function(){p=!1}};if(!c)return h;function updateState(){if("object"==typeof h.node&&null!==h.node){h.keys&&h.node_===h.node||(h.keys=r(h.node)),h.isLeaf=0==h.keys.length;for(var e=0;e<u.length;e++)if(u[e].node_===t){h.circular=u[e];break}}else h.isLeaf=!0,h.keys=null;h.notLeaf=!h.isLeaf,h.notRoot=!h.isRoot}updateState();var d=e.call(h,h.node);return void 0!==d&&h.update&&h.update(d),f.before&&f.before.call(h,h.node),p?("object"!=typeof h.node||null===h.node||h.circular||(u.push(h),updateState(),o(h.keys,function(t,e){a.push(t),f.pre&&f.pre.call(h,h.node[t],t);var r=walker(h.node[t]);n&&s.call(h.node,t)&&(h.node[t]=r.node),r.isLast=e==h.keys.length-1,r.isFirst=0==e,f.post&&f.post.call(h,r),a.pop()}),u.pop()),f.after&&f.after.call(h,h.node),h):h}(t).node}function copy(t){if("object"==typeof t&&null!==t){var e;if(i(t))e=[];else if(function isDate(t){return"[object Date]"===toS(t)}(t))e=new Date(t.getTime?t.getTime():t);else if(function isRegExp(t){return"[object RegExp]"===toS(t)}(t))e=new RegExp(t);else if(function isError(t){return"[object Error]"===toS(t)}(t))e={message:t.message};else if(function isBoolean(t){return"[object Boolean]"===toS(t)}(t))e=new Boolean(t);else if(function isNumber(t){return"[object Number]"===toS(t)}(t))e=new Number(t);else if(function isString(t){return"[object String]"===toS(t)}(t))e=new String(t);else if(Object.create&&Object.getPrototypeOf)e=Object.create(Object.getPrototypeOf(t));else if(t.constructor===Object)e={};else{var n=t.constructor&&t.constructor.prototype||t.__proto__||{},s=function(){};s.prototype=n,e=new s}return o(r(t),function(n){e[n]=t[n]}),e}return t}Traverse.prototype.get=function(t){for(var e=this.value,n=0;n<t.length;n++){var r=t[n];if(!e||!s.call(e,r)){e=void 0;break}e=e[r]}return e},Traverse.prototype.has=function(t){for(var e=this.value,n=0;n<t.length;n++){var r=t[n];if(!e||!s.call(e,r))return!1;e=e[r]}return!0},Traverse.prototype.set=function(t,e){for(var n=this.value,r=0;r<t.length-1;r++){var i=t[r];s.call(n,i)||(n[i]={}),n=n[i]}return n[t[r]]=e,e},Traverse.prototype.map=function(t){return walk(this.value,t,!0)},Traverse.prototype.forEach=function(t){return this.value=walk(this.value,t,!1),this.value},Traverse.prototype.reduce=function(t,e){var n=1===arguments.length,r=n?this.value:e;return this.forEach(function(e){this.isRoot&&n||(r=t.call(this,r,e))}),r},Traverse.prototype.paths=function(){var t=[];return this.forEach(function(e){t.push(this.path)}),t},Traverse.prototype.nodes=function(){var t=[];return this.forEach(function(e){t.push(this.node)}),t},Traverse.prototype.clone=function(){var t=[],e=[];return function clone(n){for(var i=0;i<t.length;i++)if(t[i]===n)return e[i];if("object"==typeof n&&null!==n){var s=copy(n);return t.push(n),e.push(s),o(r(n),function(t){s[t]=clone(n[t])}),t.pop(),e.pop(),s}return n}(this.value)};var r=Object.keys||function keys(t){var e=[];for(var n in t)e.push(n);return e};function toS(t){return Object.prototype.toString.call(t)}var i=Array.isArray||function isArray(t){return"[object Array]"===Object.prototype.toString.call(t)},o=function(t,e){if(t.forEach)return t.forEach(e);for(var n=0;n<t.length;n++)e(t[n],n,t)};o(r(Traverse.prototype),function(t){n[t]=function(e){var n=[].slice.call(arguments,1),r=new Traverse(e);return r[t].apply(r,n)}});var s=Object.hasOwnProperty||function(t,e){return e in t}},function(t,e,n){"use strict";(function(e){var r=n(32),i=n(385),o={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s={adapter:function getDefaultAdapter(){var t;return"undefined"!=typeof XMLHttpRequest?t=n(171):void 0!==e&&(t=n(171)),t}(),transformRequest:[function transformRequest(t,e){return i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(setContentTypeIfUnset(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(setContentTypeIfUnset(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function transformResponse(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function validateStatus(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function forEachMethodNoData(t){s.headers[t]={}}),r.forEach(["post","put","patch"],function forEachMethodWithData(t){s.headers[t]=r.merge(o)}),t.exports=s}).call(e,n(4))},function(t,e,n){(function(e){var r=n(178),i="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function isUndefined(t){return void 0===t}function isPlainObject(t){return"[object Object]"===Object.prototype.toString.call(t)}function isString(t){return"[object String]"===Object.prototype.toString.call(t)}function isArray(t){return"[object Array]"===Object.prototype.toString.call(t)}function supportsFetch(){if(!("fetch"in i))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function each(t,e){var n,r;if(isUndefined(t.length))for(n in t)hasKey(t,n)&&e.call(null,n,t[n]);else if(r=t.length)for(n=0;n<r;n++)e.call(null,n,t[n])}function truncate(t,e){if("number"!=typeof e)throw new Error("2nd argument to `truncate` function should be a number");return"string"!=typeof t||0===e?t:t.length<=e?t:t.substr(0,e)+"â€¦"}function hasKey(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function joinRegExp(t){for(var e,n=[],r=0,i=t.length;r<i;r++)isString(e=t[r])?n.push(e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):e&&e.source&&n.push(e.source);return new RegExp(n.join("|"),"i")}function htmlElementAsString(t){var e,n,r,i,o,s=[];if(!t||!t.tagName)return"";if(s.push(t.tagName.toLowerCase()),t.id&&s.push("#"+t.id),(e=t.className)&&isString(e))for(n=e.split(/\s+/),o=0;o<n.length;o++)s.push("."+n[o]);var a=["type","name","title","alt"];for(o=0;o<a.length;o++)r=a[o],(i=t.getAttribute(r))&&s.push("["+r+'="'+i+'"]');return s.join("")}function isOnlyOneTruthy(t,e){return!!(!!t^!!e)}function isSameStacktrace(t,e){if(isOnlyOneTruthy(t,e))return!1;var n,r,i=t.frames,o=e.frames;if(i.length!==o.length)return!1;for(var s=0;s<i.length;s++)if(n=i[s],r=o[s],n.filename!==r.filename||n.lineno!==r.lineno||n.colno!==r.colno||n.function!==r.function)return!1;return!0}var o=3,s=51200,a=40;function jsonSize(t){return function utf8Length(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(t))}function serializeValue(t){if("string"==typeof t){return truncate(t,40)}if("number"==typeof t||"boolean"==typeof t||void 0===t)return t;var e=Object.prototype.toString.call(t);return"[object Object]"===e?"[Object]":"[object Array]"===e?"[Array]":"[object Function]"===e?t.name?"[Function: "+t.name+"]":"[Function]":t}t.exports={isObject:function isObject(t){return"object"==typeof t&&null!==t},isError:function isError(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return t instanceof Error}},isErrorEvent:function isErrorEvent(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)},isDOMError:function isDOMError(t){return"[object DOMError]"===Object.prototype.toString.call(t)},isDOMException:function isDOMException(t){return"[object DOMException]"===Object.prototype.toString.call(t)},isUndefined:isUndefined,isFunction:function isFunction(t){return"function"==typeof t},isPlainObject:isPlainObject,isString:isString,isArray:isArray,isEmptyObject:function isEmptyObject(t){if(!isPlainObject(t))return!1;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},supportsErrorEvent:function supportsErrorEvent(){try{return new ErrorEvent(""),!0}catch(t){return!1}},supportsDOMError:function supportsDOMError(){try{return new DOMError(""),!0}catch(t){return!1}},supportsDOMException:function supportsDOMException(){try{return new DOMException(""),!0}catch(t){return!1}},supportsFetch:supportsFetch,supportsReferrerPolicy:function supportsReferrerPolicy(){if(!supportsFetch())return!1;try{return new Request("pickleRick",{referrerPolicy:"origin"}),!0}catch(t){return!1}},supportsPromiseRejectionEvent:function supportsPromiseRejectionEvent(){return"function"==typeof PromiseRejectionEvent},wrappedCallback:function wrappedCallback(t){return function dataCallback(e,n){var r=t(e)||e;return n&&n(r)||r}},each:each,objectMerge:function objectMerge(t,e){return e?(each(e,function(e,n){t[e]=n}),t):t},truncate:truncate,objectFrozen:function objectFrozen(t){return!!Object.isFrozen&&Object.isFrozen(t)},hasKey:hasKey,joinRegExp:joinRegExp,urlencode:function urlencode(t){var e=[];return each(t,function(t,n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.join("&")},uuid4:function uuid4(){var t=i.crypto||i.msCrypto;if(!isUndefined(t)&&t.getRandomValues){var e=new Uint16Array(8);t.getRandomValues(e),e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;var n=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return n(e[0])+n(e[1])+n(e[2])+n(e[3])+n(e[4])+n(e[5])+n(e[6])+n(e[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},htmlTreeAsString:function htmlTreeAsString(t){for(var e,n=[],r=0,i=0,o=" > ".length;t&&r++<5&&!("html"===(e=htmlElementAsString(t))||r>1&&i+n.length*o+e.length>=80);)n.push(e),i+=e.length,t=t.parentNode;return n.reverse().join(" > ")},htmlElementAsString:htmlElementAsString,isSameException:function isSameException(t,e){return!isOnlyOneTruthy(t,e)&&(t=t.values[0],e=e.values[0],t.type===e.type&&t.value===e.value&&!function isBothUndefined(t,e){return isUndefined(t)&&isUndefined(e)}(t.stacktrace,e.stacktrace)&&isSameStacktrace(t.stacktrace,e.stacktrace))},isSameStacktrace:isSameStacktrace,parseUrl:function parseUrl(t){if("string"!=typeof t)return{};var e=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/),n=e[6]||"",r=e[8]||"";return{protocol:e[2],host:e[4],path:e[5],relative:e[5]+n+r}},fill:function fill(t,e,n,r){if(null!=t){var i=t[e];t[e]=n(i),t[e].__raven__=!0,t[e].__orig__=i,r&&r.push([t,e,i])}},safeJoin:function safeJoin(t,e){if(!isArray(t))return"";for(var n=[],r=0;r<t.length;r++)try{n.push(String(t[r]))}catch(t){n.push("[value cannot be serialized]")}return n.join(e)},serializeException:function serializeException(t,e,n){if(!isPlainObject(t))return t;n="number"!=typeof(e="number"!=typeof e?o:e)?s:n;var i=function serializeObject(t,e){return 0===e?serializeValue(t):isPlainObject(t)?Object.keys(t).reduce(function(n,r){return n[r]=serializeObject(t[r],e-1),n},{}):Array.isArray(t)?t.map(function(t){return serializeObject(t,e-1)}):serializeValue(t)}(t,e);return jsonSize(r(i))>n?serializeException(t,e-1):i},serializeKeysForMessage:function serializeKeysForMessage(t,e){if("number"==typeof t||"string"==typeof t)return t.toString();if(!Array.isArray(t))return"";if(0===(t=t.filter(function(t){return"string"==typeof t})).length)return"[object has no keys]";if(e="number"!=typeof e?a:e,t[0].length>=e)return t[0];for(var n=t.length;n>0;n--){var r=t.slice(0,n).join(", ");if(!(r.length>e))return n===t.length?r:r+"â€¦"}return""},sanitize:function sanitize(t,e){if(!isArray(e)||isArray(e)&&0===e.length)return t;var n,i=joinRegExp(e),o="********";try{n=JSON.parse(r(t))}catch(e){return t}return function sanitizeWorker(t){return isArray(t)?t.map(function(t){return sanitizeWorker(t)}):isPlainObject(t)?Object.keys(t).reduce(function(e,n){return i.test(n)?e[n]=o:e[n]=sanitizeWorker(t[n]),e},{}):t}(n)}}}).call(e,n(36))},function(t,e,n){var r=n(101),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(271),i=n(62),o=n(155);t.exports=function(t,e,n){var s=r(e);s in t?i.f(t,s,o(0,n)):t[s]=n}},function(t,e,n){var r=n(72),i=n(86),o=n(37)("species");t.exports=function(t,e){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){var r=n(40),i=n(37),o=n(438),s=i("species");t.exports=function(t){return o>=51||!r(function(){var e=[];return(e.constructor={})[s]=function(){return{foo:1}},1!==e[t](Boolean).foo})}},,function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(3),i=n(19),o=n(6),s=n(5),a=n(14),u=n(97),c=function(t){function ConnectableObservable(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.a(ConnectableObservable,t),ConnectableObservable.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},ConnectableObservable.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},ConnectableObservable.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new a.a).add(this.source.subscribe(new f(this.getSubject(),this))),t.closed&&(this._connection=null,t=a.a.EMPTY)),t},ConnectableObservable.prototype.refCount=function(){return Object(u.a)()(this)},ConnectableObservable}(o.a),l=function(){var t=c.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),f=function(t){function ConnectableSubscriber(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.a(ConnectableSubscriber,t),ConnectableSubscriber.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},ConnectableSubscriber.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},ConnectableSubscriber.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},ConnectableSubscriber}(i.b);s.a},function(t,e,n){"use strict";var r=n(3),i=n(5),o=n(14),s=n(6),a=n(19);i.a;var u=function(t){function GroupDurationSubscriber(e,n,r){var i=t.call(this,n)||this;return i.key=e,i.group=n,i.parent=r,i}return r.a(GroupDurationSubscriber,t),GroupDurationSubscriber.prototype._next=function(t){this.complete()},GroupDurationSubscriber.prototype._unsubscribe=function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)},GroupDurationSubscriber}(i.a),c=function(t){function GroupedObservable(e,n,r){var i=t.call(this)||this;return i.key=e,i.groupSubject=n,i.refCountSubscription=r,i}return r.a(GroupedObservable,t),GroupedObservable.prototype._subscribe=function(t){var e=new o.a,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&e.add(new l(n)),e.add(r.subscribe(t)),e},GroupedObservable}(s.a),l=function(t){function InnerRefCountSubscription(e){var n=t.call(this)||this;return n.parent=e,e.count++,n}return r.a(InnerRefCountSubscription,t),InnerRefCountSubscription.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},InnerRefCountSubscription}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(3),i=n(19),o=n(56),s=function(t){function BehaviorSubject(e){var n=t.call(this)||this;return n._value=e,n}return r.a(BehaviorSubject,t),Object.defineProperty(BehaviorSubject.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),BehaviorSubject.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},BehaviorSubject.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.a;return this._value},BehaviorSubject.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},BehaviorSubject}(i.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(3),i=n(5),o=n(68);var s=function(t){function ObserveOnSubscriber(e,n,r){void 0===r&&(r=0);var i=t.call(this,e)||this;return i.scheduler=n,i.delay=r,i}return r.a(ObserveOnSubscriber,t),ObserveOnSubscriber.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},ObserveOnSubscriber.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(ObserveOnSubscriber.dispatch,this.delay,new a(t,this.destination)))},ObserveOnSubscriber.prototype._next=function(t){this.scheduleMessage(o.a.createNext(t))},ObserveOnSubscriber.prototype._error=function(t){this.scheduleMessage(o.a.createError(t)),this.unsubscribe()},ObserveOnSubscriber.prototype._complete=function(){this.scheduleMessage(o.a.createComplete()),this.unsubscribe()},ObserveOnSubscriber}(i.a),a=function(){return function ObserveOnMessage(t,e){this.notification=t,this.destination=e}}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(192),i=new(n(194).a)(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function TimeoutErrorImpl(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return TimeoutErrorImpl.prototype=Object.create(Error.prototype),TimeoutErrorImpl}()},function(t,e,n){"use strict";e.a=function concatAll(){return Object(r.a)(1)};var r=n(91)},function(t,e,n){"use strict";e.a=function merge(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,a=null,u=t[t.length-1];Object(i.a)(u)?(a=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof u&&(n=t.pop());if(null===a&&1===t.length&&t[0]instanceof r.a)return t[0];return Object(o.a)(n)(Object(s.a)(t,a))};var r=n(6),i=n(30),o=n(91),s=n(46)},function(t,e,n){"use strict";e.a=function not(t,e){function notPred(){return!notPred.pred.apply(notPred.thisArg,arguments)}return notPred.pred=t,notPred.thisArg=e,notPred}},function(t,e,n){"use strict";e.a=function race(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){if(!Object(i.a)(t[0]))return t[0];t=t[0]}return Object(o.a)(t,void 0).lift(new u)};var r=n(3),i=n(17),o=n(46),s=n(10),a=n(11);var u=function(){function RaceOperator(){}return RaceOperator.prototype.call=function(t,e){return e.subscribe(new c(t))},RaceOperator}(),c=function(t){function RaceSubscriber(e){var n=t.call(this,e)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return r.a(RaceSubscriber,t),RaceSubscriber.prototype._next=function(t){this.observables.push(t)},RaceSubscriber.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=t[n],i=Object(a.a)(this,r,r,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},RaceSubscriber.prototype.notifyNext=function(t,e,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(e)},RaceSubscriber}(s.a)},function(t,e,n){"use strict";e.a=function timer(t,e,n){void 0===t&&(t=0);var a=-1;Object(o.a)(e)?a=Number(e)<1?1:Number(e):Object(s.a)(e)&&(n=e);Object(s.a)(n)||(n=i.a);return new r.a(function(e){var r=Object(o.a)(t)?t:+t-n.now();return n.schedule(dispatch,r,{index:0,period:a,subscriber:e})})};var r=n(6),i=n(21),o=n(69),s=n(30);function dispatch(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}},function(t,e,n){"use strict";n(122);var r=n(237);n.d(e,"j",function(){return r.a});var i=n(238);n.d(e,"b",function(){return i.a});var o=n(123);n.d(e,"c",function(){return o.a});var s=n(260);n.d(e,"d",function(){return s.a});var a=n(261);n.d(e,"e",function(){return a.a});var u=n(262);n.d(e,"f",function(){return u.a});var c=n(263);n.d(e,"g",function(){return c.a});var l=n(264);n.d(e,"h",function(){return l.a});n(265);var f=n(266);n.d(e,"a",function(){return f.a}),n.d(e,"i",function(){return f.b});var p=n(267);n.d(e,"k",function(){return p.a})},,,,,,,function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(40),i=n(275),o="".split;t.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},function(t,e,n){var r=n(431),i=n(49),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t])||o(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},,function(t,e,n){"use strict";e.a=function audit(t){return function auditOperatorFunction(e){return e.lift(new s(t))}};var r=n(3),i=n(10),o=n(11);var s=function(){function AuditOperator(t){this.durationSelector=t}return AuditOperator.prototype.call=function(t,e){return e.subscribe(new a(t,this.durationSelector))},AuditOperator}(),a=function(t){function AuditSubscriber(e,n){var r=t.call(this,e)||this;return r.durationSelector=n,r.hasValue=!1,r}return r.a(AuditSubscriber,t),AuditSubscriber.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=void 0;try{e=(0,this.durationSelector)(t)}catch(t){return this.destination.error(t)}var n=Object(o.a)(this,e);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}},AuditSubscriber.prototype.clearThrottle=function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))},AuditSubscriber.prototype.notifyNext=function(t,e,n,r){this.clearThrottle()},AuditSubscriber.prototype.notifyComplete=function(){this.clearThrottle()},AuditSubscriber}(i.a)},function(t,e,n){"use strict";e.a=function concatMap(t,e){return Object(r.a)(t,e,1)};var r=n(59)},function(t,e,n){"use strict";e.a=function isDate(t){return t instanceof Date&&!isNaN(+t)}},function(t,e,n){"use strict";e.a=function distinctUntilChanged(t,e){return function(n){return n.lift(new o(t,e))}};var r=n(3),i=n(5);var o=function(){function DistinctUntilChangedOperator(t,e){this.compare=t,this.keySelector=e}return DistinctUntilChangedOperator.prototype.call=function(t,e){return e.subscribe(new s(t,this.compare,this.keySelector))},DistinctUntilChangedOperator}(),s=function(t){function DistinctUntilChangedSubscriber(e,n,r){var i=t.call(this,e)||this;return i.keySelector=r,i.hasKey=!1,"function"==typeof n&&(i.compare=n),i}return r.a(DistinctUntilChangedSubscriber,t),DistinctUntilChangedSubscriber.prototype.compare=function(t,e){return t===e},DistinctUntilChangedSubscriber.prototype._next=function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(t){return this.destination.error(t)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(t){return this.destination.error(t)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))},DistinctUntilChangedSubscriber}(i.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(3),i=n(5);var o=function(){function FindValueOperator(t,e,n,r){this.predicate=t,this.source=e,this.yieldIndex=n,this.thisArg=r}return FindValueOperator.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},FindValueOperator}(),s=function(t){function FindValueSubscriber(e,n,r,i,o){var s=t.call(this,e)||this;return s.predicate=n,s.source=r,s.yieldIndex=i,s.thisArg=o,s.index=0,s}return r.a(FindValueSubscriber,t),FindValueSubscriber.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete(),this.unsubscribe()},FindValueSubscriber.prototype._next=function(t){var e=this.predicate,n=this.thisArg,r=this.index++;try{e.call(n||this,t,r,this.source)&&this.notifyComplete(this.yieldIndex?r:t)}catch(t){this.destination.error(t)}},FindValueSubscriber.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},FindValueSubscriber}(i.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(3),i=n(10),o=n(11),s={leading:!0,trailing:!1};i.a},function(t,e,n){"use strict";e.a=function timeoutWith(t,e,n){void 0===n&&(n=i.a);return function(r){var i=Object(o.a)(t),s=i?+t-n.now():Math.abs(t);return r.lift(new u(s,i,e,n))}};var r=n(3),i=n(21),o=n(162),s=n(10),a=n(11);var u=function(){function TimeoutWithOperator(t,e,n,r){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=r}return TimeoutWithOperator.prototype.call=function(t,e){return e.subscribe(new c(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},TimeoutWithOperator}(),c=function(t){function TimeoutWithSubscriber(e,n,r,i,o){var s=t.call(this,e)||this;return s.absoluteTimeout=n,s.waitFor=r,s.withObservable=i,s.scheduler=o,s.action=null,s.scheduleTimeout(),s}return r.a(TimeoutWithSubscriber,t),TimeoutWithSubscriber.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(Object(a.a)(t,e))},TimeoutWithSubscriber.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(TimeoutWithSubscriber.dispatchTimeout,this.waitFor,this))},TimeoutWithSubscriber.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},TimeoutWithSubscriber.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},TimeoutWithSubscriber}(s.a)},function(t,e,n){"use strict";e.b=function getDelay(t,e){return Math.min(t,e)},e.a=function exponentialBackoffDelay(t,e){return Math.pow(2,t)*e}},function(t,e,n){"use strict";var r=n(381);n.d(e,"c",function(){return r.a});var i=n(400);n.d(e,"e",function(){return i.a});var o=n(401);n.d(e,"h",function(){return o.a});var s=n(402);n.d(e,"a",function(){return s.a});var a=n(406);n.d(e,"b",function(){return a.a});var u=n(407);n.d(e,"f",function(){return u.a});var c=n(169);n.d(e,"m",function(){return c.a});var l=n(408);n.d(e,"n",function(){return l.a});var f=n(175);n.d(e,"d",function(){return f.a}),n.d(e,"k",function(){return f.b});var p=n(409);n.d(e,"j",function(){return p.a});var h=n(412);n.d(e,"g",function(){return h.a});n(176);var d=n(413);n.d(e,"l",function(){return d.a});n(177);var _=n(414);n.d(e,"i",function(){return _.a});n(415)},function(t,e,n){"use strict";e.a=function setupAnalyticsVars(t,e,n,r,i,o,s,a){t("set","dimension1",r),t("set","dimension2",""),t("set","dimension3",o),t("set","dimension4",e),s&&t("set","dimension5",s);t("set","dimension6",i),a&&t("set","dimension7",a);t("set","dimension8",n)}},function(t,e,n){"use strict";t.exports=function bind(t,e){return function wrap(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";(function(e){var r=n(32),i=n(386),o=n(388),s=n(389),a=n(390),u=n(172),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(391);t.exports=function xhrAdapter(t){return new Promise(function dispatchXhrRequest(l,f){var p=t.data,h=t.headers;r.isFormData(p)&&delete h["Content-Type"];var d=new XMLHttpRequest,_="onreadystatechange",b=!1;if("test"===e.env.NODE_ENV||"undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||a(t.url)||(d=new window.XDomainRequest,_="onload",b=!0,d.onprogress=function handleProgress(){},d.ontimeout=function handleTimeout(){}),t.auth){var v=t.auth.username||"",y=t.auth.password||"";h.Authorization="Basic "+c(v+":"+y)}if(d.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d[_]=function handleLoad(){if(d&&(4===d.readyState||b)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var e="getAllResponseHeaders"in d?s(d.getAllResponseHeaders()):null,n={data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:e,config:t,request:d};i(l,f,n),d=null}},d.onerror=function handleError(){f(u("Network Error",t,null,d)),d=null},d.ontimeout=function handleTimeout(){f(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var m=n(392),g=(t.withCredentials||a(t.url))&&t.xsrfCookieName?m.read(t.xsrfCookieName):void 0;g&&(h[t.xsrfHeaderName]=g)}if("setRequestHeader"in d&&r.forEach(h,function setRequestHeader(t,e){void 0===p&&"content-type"===e.toLowerCase()?delete h[e]:d.setRequestHeader(e,t)}),t.withCredentials&&(d.withCredentials=!0),t.responseType)try{d.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function onCanceled(t){d&&(d.abort(),f(t),d=null)}),void 0===p&&(p=null),d.send(p)})}}).call(e,n(4))},function(t,e,n){"use strict";var r=n(387);t.exports=function createError(t,e,n,i,o){var s=new Error(t);return r(s,e,n,i,o)}},function(t,e,n){"use strict";t.exports=function isCancel(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";function Cancel(t){this.message=t}Cancel.prototype.toString=function toString(){return"Cancel"+(this.message?": "+this.message:"")},Cancel.prototype.__CANCEL__=!0,t.exports=Cancel},function(t,e,n){"use strict";n.d(e,"a",function(){return s}),e.b=onBeforeSendHeaders;var r=n(16),i=n(20),o=n(176),s=function(){function ChromeExtensionEnvironmentServicesImpl(t,e,n,r,o){this.chromeEnv=t,this.storage=e,this.iconPath=n,this.updateEventHandler=r,this.log=o,this.auditEvents=new i.d,this.envEvents=function envEventsProvider(t){return new i.c(function(e){var n=function(t){"install"===t.reason?e.next("install"):"update"===t.reason?e.next("update"):e.next("env_update")};return t.addListener(n),function unsubscribe(){t.removeListener(n)}})}(r),this.crossMessage=function crossMessageProvider(t){var e=["NewSponsoredPost","Post","Analytics","Interaction","Config","IsBackgroundReady","NewPromotedTweet","AmazonProduct","AmazonSponsored","LinkedInSponsored","FacebookNewFeedUi","AdBlockerStatus","Navigation"];return new i.c(function(n){var r=function(t,r,i){return-1!==e.indexOf(t.type)&&(n.next(t),!1)};return t.runtime.onMessage.addListener(r),function unsubscribe(){t.runtime.onMessage.removeListener(r)}})}(this.chromeEnv)}return ChromeExtensionEnvironmentServicesImpl.prototype.hideOrigin=function(t,e){var n=this;onBeforeSendHeaders(function(t){if(t.requestHeaders){for(var r=0,i=t.requestHeaders;r<i.length;r++){var o=i[r];o.value&&"Origin"===o.name&&o.value.match(n.chromeEnv.extension.getURL("/"))&&(n.log.info("Request to "+t.url+" Change origin from "+o.value+" to https://www.facebook.com"),o.value=e,!0)}t.requestHeaders.push({name:"Origin",value:e})}return{requestHeaders:t.requestHeaders}},{urls:[t]},["blocking","requestHeaders","extraHeaders"])},ChromeExtensionEnvironmentServicesImpl.prototype.sendMessageToContent=function(t){var e=this;this.chromeEnv.tabs.query({},function(n){for(var r=0,i=n;r<i.length;r++){var o=i[r].id;o&&e.chromeEnv.tabs.sendMessage(o,t)}})},ChromeExtensionEnvironmentServicesImpl.prototype.getAllCookies=function(t){return Object(o.a)(this.chromeEnv,t)},ChromeExtensionEnvironmentServicesImpl.prototype.onConfigRequest=function(t){var e=this,n=function(e,n,r){return"Config"===e.type&&r(t()),!1};return this.chromeEnv.runtime.onMessage.addListener(n),function(){e.chromeEnv.runtime.onMessage.removeListener(n)}},ChromeExtensionEnvironmentServicesImpl}();function onBeforeSendHeaders(t,e,n){var i,o,s,a,u=Object(r.o)(),c=new Set(u&&u<72?["extraHeaders"]:[]);return null===(s=null===(o=null===(i=chrome)||void 0===i?void 0:i.webRequest)||void 0===o?void 0:o.onBeforeSendHeaders)||void 0===s||s.addListener(t,e,null===(a=n)||void 0===a?void 0:a.filter(function(t){return!c.has(t)})),function(){var e,n,r;null===(r=null===(n=null===(e=chrome)||void 0===e?void 0:e.webRequest)||void 0===n?void 0:n.onBeforeSendHeaders)||void 0===r||r.removeListener(t)}}},function(t,e,n){"use strict";e.a=function chromeCookiesGetAll(t,e){return new Promise(function(n,r){t.cookies.getAll(e,n)})}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(20),i=n(34);var o="undefined"!=typeof chrome&&chrome?{tabs:chrome.tabs&&{query:chrome.tabs.query&&Object(r.f)(chrome.tabs.query),onCreated:chrome.tabs.onCreated&&Object(r.j)(function(t){return chrome.tabs.onCreated.addListener(t)},function(t){return chrome.tabs.onCreated.removeListener(t)}).pipe(Object(i.i)(function(t){return{tab:t[0]}})),onUpdated:chrome.tabs.onUpdated&&Object(r.j)(function(t){return chrome.tabs.onUpdated.addListener(t)},function(t){return chrome.tabs.onUpdated.removeListener(t)}).pipe(Object(i.i)(function(t){return{tabId:t[0],changeInfo:t[1],tab:t[2]}}))},browserAction:chrome.browserAction&&{onClicked:chrome.browserAction.onClicked&&Object(r.j)(function(t){return chrome.browserAction.onClicked.addListener(t)},function(t){return chrome.browserAction.onClicked.removeListener(t)}).pipe(Object(i.i)(function(t){return{tab:t[0]}}))}}:null},function(t,e){function indexOf(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}function serializer(t,e){var n=[],r=[];return null==e&&(e=function(t,e){return n[0]===e?"[Circular ~]":"[Circular ~."+r.slice(0,indexOf(n,e)).join(".")+"]"}),function(i,o){if(n.length>0){var s=indexOf(n,this);~s?n.splice(s+1):n.push(this),~s?r.splice(s,1/0,i):r.push(i),~indexOf(n,o)&&(o=e.call(this,i,o))}else n.push(o);return null==t?o instanceof Error?function stringifyError(t){var e={stack:t.stack,message:t.message,name:t.name};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(o):o:t.call(this,i,o)}}(t.exports=function stringify(t,e,n,r){return JSON.stringify(t,serializer(e,r),n)}).getSerialize=serializer},,,,,,,,,function(t,e,n){"use strict";var r,i;n.d(e,"a",function(){return r}),e.c=function setLevel(t){o=t},function(t){t[t.None=0]="None",t[t.Error=1]="Error",t[t.Warn=2]="Warn",t[t.Info=3]="Info",t[t.Debug=4]="Debug",t[t.Log=5]="Log"}(r||(r={})),function(t){t[t.none=0]="none",t[t.error=1]="error",t[t.warn=2]="warn",t[t.info=3]="info",t[t.debug=4]="debug",t[t.log=5]="log"}(i||(i={}));var o=r.None;for(var s={},a=function(t){Object.defineProperty(s,t,{get:function(){var e=t;if(e in console||"debug"!==e||(e="log"),e in console&&"function"==typeof console[e]){var n=5;return e in i&&(n=i[e]),o<n?function(){}:console[e].bind(console)}return console[e]}})},u=0,c=["assert","dir","error","info","log","time","timeEnd","trace","warn","debug"];u<c.length;u++){a(c[u])}e.b=s},function(t,e,n){"use strict";e.a=function toSubscriber(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}if(!t&&!e&&!n)return new r.a(o.a);return new r.a(t,e,n)};var r=n(5),i=n(78),o=n(106)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(3),i=function(t){function QueueAction(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return r.a(QueueAction,t),QueueAction.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},QueueAction.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},QueueAction.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},QueueAction}(n(44).a)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(3),i=function(t){function Action(e,n){return t.call(this)||this}return r.a(Action,t),Action.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},Action}(n(14).a)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(3),i=function(t){function QueueScheduler(){return null!==t&&t.apply(this,arguments)||this}return r.a(QueueScheduler,t),QueueScheduler}(n(45).a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(3),i=n(193),o=function(t){function AsapAction(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return r.a(AsapAction,t),AsapAction.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=i.a.setImmediate(e.flush.bind(e,null))))},AsapAction.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(i.a.clearImmediate(n),e.scheduled=void 0)},AsapAction}(n(44).a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=1,i={};var o={setImmediate:function(t){var e=r++;return i[e]=t,Promise.resolve().then(function(){return function runIfPresent(t){var e=i[t];e&&e()}(e)}),e},clearImmediate:function(t){delete i[t]}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(3),i=function(t){function AsapScheduler(){return null!==t&&t.apply(this,arguments)||this}return r.a(AsapScheduler,t),AsapScheduler.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}},AsapScheduler}(n(45).a)},function(t,e,n){"use strict";var r=n(196);r.a},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(3),i=function(t){function AnimationFrameAction(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return r.a(AnimationFrameAction,t),AnimationFrameAction.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(function(){return e.flush(null)})))},AnimationFrameAction.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(cancelAnimationFrame(n),e.scheduled=void 0)},AnimationFrameAction}(n(44).a)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(3),i=function(t){function AnimationFrameScheduler(){return null!==t&&t.apply(this,arguments)||this}return r.a(AnimationFrameScheduler,t),AnimationFrameScheduler.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}},AnimationFrameScheduler}(n(45).a)},function(t,e,n){"use strict";var r=n(3),i=n(44),o=(n(45).a,function(t){function VirtualAction(e,n,r){void 0===r&&(r=e.index+=1);var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i.index=r,i.active=!0,i.index=e.index=r,i}return r.a(VirtualAction,t),VirtualAction.prototype.schedule=function(e,n){if(void 0===n&&(n=0),!this.id)return t.prototype.schedule.call(this,e,n);this.active=!1;var r=new VirtualAction(this.scheduler,this.work);return this.add(r),r.schedule(e,n)},VirtualAction.prototype.requestAsyncId=function(t,e,n){void 0===n&&(n=0),this.delay=t.frame+n;var r=t.actions;return r.push(this),r.sort(VirtualAction.sortActions),!0},VirtualAction.prototype.recycleAsyncId=function(t,e,n){void 0===n&&(n=0)},VirtualAction.prototype._execute=function(e,n){if(!0===this.active)return t.prototype._execute.call(this,e,n)},VirtualAction.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},VirtualAction}(i.a))},function(t,e,n){"use strict";n(6)},function(t,e,n){"use strict";e.a=function bindCallback(t,e,n){if(e){if(!Object(u.a)(e))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return bindCallback(t,n).apply(void 0,r).pipe(Object(o.a)(function(t){return Object(a.a)(t)?e.apply(void 0,t):e(t)}))};n=e}return function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var a,u=this,c={context:u,subject:a,callbackFunc:t,scheduler:n};return new r.a(function(r){if(n){var o={args:e,subscriber:r,params:c};return n.schedule(dispatch,0,o)}if(!a){a=new i.a;try{t.apply(u,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a.next(t.length<=1?t[0]:t),a.complete()}]))}catch(t){Object(s.a)(a)?a.error(t):console.warn(t)}}return a.subscribe(r)})}};var r=n(6),i=n(67),o=n(26),s=n(75),a=n(17),u=n(30);function dispatch(t){var e=this,n=t.args,r=t.subscriber,o=t.params,s=o.callbackFunc,a=o.context,u=o.scheduler,c=o.subject;if(!c){c=o.subject=new i.a;try{s.apply(a,n.concat([function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.length<=1?t[0]:t;e.add(u.schedule(dispatchNext,0,{value:r,subject:c}))}]))}catch(t){c.error(t)}}this.add(c.subscribe(r))}function dispatchNext(t){var e=t.value,n=t.subject;n.next(e),n.complete()}},function(t,e,n){"use strict";n(6),n(67),n(26),n(75),n(30),n(17)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(76),i=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,r.a),e}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(47),i=function(t){return function(e){for(var n=t[r.a]();;){var i=n.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(39),i=function(t){return function(e){var n=t[r.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}}},function(t,e,n){"use strict";e.a=function scheduleObservable(t,e){return new r.a(function(n){var r=new i.a;return r.add(e.schedule(function(){var i=t[o.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r})};var r=n(6),i=n(14),o=n(39)},function(t,e,n){"use strict";e.a=function schedulePromise(t,e){return new r.a(function(n){var r=new i.a;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r})};var r=n(6),i=n(14)},function(t,e,n){"use strict";e.a=function scheduleIterable(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(function(n){var r,s=new i.a;return s.add(function(){r&&"function"==typeof r.return&&r.return()}),s.add(e.schedule(function(){r=t[o.a](),s.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}}))})),s})};var r=n(6),i=n(14),o=n(47)},function(t,e,n){"use strict";e.a=function isInteropObservable(t){return t&&"function"==typeof t[r.a]};var r=n(39)},function(t,e,n){"use strict";e.a=function isIterable(t){return t&&"function"==typeof t[r.a]};var r=n(47)},function(t,e,n){"use strict";n(6),n(17),n(26),n(77),n(31)},function(t,e,n){"use strict";e.a=function fromEvent(t,e,n,a){Object(o.a)(n)&&(a=n,n=void 0);if(a)return fromEvent(t,e,n).pipe(Object(s.a)(function(t){return Object(i.a)(t)?a.apply(void 0,t):a(t)}));return new r.a(function(r){!function setupSubscription(t,e,n,r,i){var o;if(function isEventTarget(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var s=t;t.addEventListener(e,n,i),o=function(){return s.removeEventListener(e,n,i)}}else if(function isJQueryStyleEventEmitter(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var a=t;t.on(e,n),o=function(){return a.off(e,n)}}else if(function isNodeStyleEventEmitter(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){var u=t;t.addListener(e,n),o=function(){return u.removeListener(e,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var c=0,l=t.length;c<l;c++)setupSubscription(t[c],e,n,r,i)}r.add(o)}(t,e,function handler(t){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(t)},r,n)})};var r=n(6),i=n(17),o=n(50),s=n(26)},function(t,e,n){"use strict";e.a=function fromEventPattern(t,e,n){if(n)return fromEventPattern(t,e).pipe(Object(s.a)(function(t){return Object(i.a)(t)?n.apply(void 0,t):n(t)}));return new r.a(function(n){var r,i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.next(1===t.length?t[0]:t)};try{r=t(i)}catch(t){return void n.error(t)}if(Object(o.a)(e))return function(){return e(i,r)}})};var r=n(6),i=n(17),o=n(50),s=n(26)},function(t,e,n){"use strict";n(6),n(43),n(30)},function(t,e,n){"use strict";e.a=function iif(t,e,n){void 0===e&&(e=i.a);void 0===n&&(n=i.a);return Object(r.a)(function(){return t()?e:n})};var r=n(92),i=n(29)},function(t,e,n){"use strict";n(6),n(21),n(69)},function(t,e,n){"use strict";n(6),n(31),n(17),n(29)},function(t,e,n){"use strict";n(6),n(14)},function(t,e,n){"use strict";n(145),n(80),n(51),n(6)},function(t,e,n){"use strict";n(6)},function(t,e,n){"use strict";n(6),n(31),n(29)},function(t,e,n){"use strict";e.a=function getChromeMajorVersion(t){void 0===t&&(t=navigator.userAgent);var e=t.match(/Chrome\/(\d+)/);return e&&parseInt(e[1],10)||null}},function(t,e,n){"use strict";e.a=function randomString(){return Math.random().toString(16)}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function Sha1(){}return Sha1.salted_hash=function(t,e){return Sha1.hash(e+t)},Sha1.hash=function(t){t=this.utf8Encode(t);var e,n=[1518500249,1859775393,2400959708,3395469782],r=(t+=String.fromCharCode(128)).length/4+2,i=Math.ceil(r/16),o=new Array(i);for(e=0;e<i;e++){o[e]=new Array(16);for(var s=0;s<16;s++)o[e][s]=t.charCodeAt(64*e+4*s)<<24|t.charCodeAt(64*e+4*s+1)<<16|t.charCodeAt(64*e+4*s+2)<<8|t.charCodeAt(64*e+4*s+3)}o[i-1][14]=8*(t.length-1)/Math.pow(2,32),o[i-1][14]=Math.floor(o[i-1][14]),o[i-1][15]=8*(t.length-1)&4294967295;var a,u,c,l,f,p=1732584193,h=4023233417,d=2562383102,_=271733878,b=3285377520,v=new Array(80);for(e=0;e<i;e++){var y;for(y=0;y<16;y++)v[y]=o[e][y];for(y=16;y<80;y++)v[y]=Sha1.rotl(v[y-3]^v[y-8]^v[y-14]^v[y-16],1);for(a=p,u=h,c=d,l=_,f=b,y=0;y<80;y++){var m=Math.floor(y/20),g=Sha1.rotl(a,5)+Sha1.f(m,u,c,l)+f+n[m]+v[y]&4294967295;f=l,l=c,c=Sha1.rotl(u,30),u=a,a=g}p=p+a&4294967295,h=h+u&4294967295,d=d+c&4294967295,_=_+l&4294967295,b=b+f&4294967295}return Sha1.toHexStr(p)+Sha1.toHexStr(h)+Sha1.toHexStr(d)+Sha1.toHexStr(_)+Sha1.toHexStr(b)},Sha1.f=function(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}throw new TypeError("Something was wrong with the input")},Sha1.rotl=function(t,e){return t<<e|t>>>32-e},Sha1.toHexStr=function(t){for(var e="",n=7;n>=0;n--)e+=(t>>>4*n&15).toString(16);return e},Sha1.utf8Encode=function(t){return window.unescape(encodeURIComponent(t))},Sha1.utf8Decode=function(t){return window.decodeURIComponent(window.escape(t))},Sha1}()},function(t,e,n){"use strict";var r=n(225);n.d(e,"a",function(){return r.a});var i=n(226);n.d(e,"b",function(){return i.a});var o=n(227);n.d(e,"c",function(){return o.a});var s=n(228);n.d(e,"d",function(){return s.a});var a=n(120);n.d(e,"e",function(){return a.a});var u=n(229);n.d(e,"f",function(){return u.a});var c=n(230);n.d(e,"g",function(){return c.a});var l=n(231);n.d(e,"h",function(){return l.a});var f=n(232);n.d(e,"i",function(){return f.a});var p=n(121);n.d(e,"j",function(){return p.a});var h=n(233);n.d(e,"k",function(){return h.a});var d=n(234);n.d(e,"l",function(){return d.a});var _=n(235);n.d(e,"m",function(){return _.a})},function(t,e,n){"use strict";e.a=function assertNever(t,e){if(e)return t;throw new Error("Unhandled discriminated union member: "+JSON.stringify(t))}},function(t,e,n){"use strict";e.a=function closestUpTo(t,e,n){if(!n.contains(t))throw new RangeError("startFrom is not descendant of upTo");if(t.matches(e))return t;var r=t;for(;r!==n&&!r.matches(e)&&null!==r.parentElement;)r=r.parentElement;return r.matches(e)?r:null}},function(t,e,n){"use strict";e.a=function domStringToDomTree(t){var e=document.createElement("html");return t=t.replace(/\<\!\-\-/g,""),e.innerHTML=t,e}},function(t,e,n){"use strict";e.a=function escapeRegexChars(t){if("string"!=typeof t)throw new TypeError("Expected a string");return t.replace(r,"\\$&")};var r=/[|\\{}()[\]^$+*?.]/g},function(t,e,n){"use strict";e.a=function firstResult(t,e,n){for(var r=0,i=t;r<i.length;r++){var o=i[r],s=e(o);if(void 0!==s)return s}return n}},function(t,e,n){"use strict";e.a=function getOrDefault(t,e){try{return t()}catch(t){return e}}},function(t,e,n){"use strict";e.a=function getTopLevelObjectsFromString(t){var e=[],n=t;for(;n.length>0;){var i=n.indexOf("{");if(-1===i)break;var o=Object(r.a)(n,i),s=n.slice(i,o+1);e.push(JSON.parse(s)),n=n.slice(o+1)}return e};var r=n(120)},function(t,e,n){"use strict";e.a=function isNonNullable(t){return null!=t}},function(t,e,n){"use strict";e.a=function omit(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return Object(r.a)(Object.entries(t).filter(function(t){var n=t[0];t[1];return!e.includes(n)}))};var r=n(121)},function(t,e,n){"use strict";e.a=function typedObjectEntries(t){return Object.entries(t)}},function(t,e,n){"use strict";e.a=function uniqBy(t,e){var n=new Set(t.map(e));return Array.from(n).map(function(n){return t.find(function(t){return e(t)===n})})}},function(t,e,n){"use strict";e.a=function isKnownChannel(t){return"string"==typeof t&&r.includes(t)};var r=["facebook","twitter","youtube","linkedin","amazon"]},function(t,e,n){"use strict";e.a=function createGaProvider(t,e,n){void 0===n&&(n=!1);return new Promise(function(n){t.GoogleAnalyticsObject="_____private_ga____";var r=e.createElement("script");r.src="https://www.google-analytics.com/analytics.js",r.async=!0,r.addEventListener("load",function(){n(t._____private_ga____)}),e.head.appendChild(r)})}},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(60),i=n(123),o=n(16),s=this&&this.__assign||function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(t){try{step(r.next(t))}catch(t){o(t)}}function rejected(t){try{step(r.throw(t))}catch(t){o(t)}}function step(t){t.done?i(t.value):function adopt(t){return t instanceof n?t:new n(function(e){e(t)})}(t.value).then(fulfilled,rejected)}step((r=r.apply(t,e||[])).next())})},u=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(a){return function step(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},c=function(){function EventsEnricher(t,e,n,r,i,o,s,a,u,c,l){this.locationService=t,this.facebookMetadataProvider=e,this.deviceId=n,this.extensionId=r,this.extensionVersion=i,this.userAgent=o,this.thirdPartyId=s,this.thirdPartyCookie=a,this.errorReporter=u,this.secret_local_salt=c,this.extensionPlatform=l}return EventsEnricher.prototype.getFacebookMetadataForUserOrNulls=function(t){var e=this;return this.facebookMetadataProvider.getForUser(t).catch(function(n){return e.errorReporter(n),s(s({},i.b),{id:t})})},EventsEnricher.prototype.updateThirdPartyInfo=function(t,e){this.thirdPartyId=t,this.thirdPartyCookie=e},EventsEnricher.prototype.enrichAuditEvent=function(t,e){return a(this,void 0,void 0,function(){var n,r,i,o;return u(this,function(a){switch(a.label){case 0:return n=new Date,[4,Promise.all([this.locationService.getLocation(),this.getFinalUserId()])];case 1:return r=a.sent(),i=r[0],o=r[1],[2,s(s({event_time:n},EventsEnricher.geoData(i)),{fb_user_hashed_id:o,third_party_id:this.thirdPartyId,third_party_cookie:this.thirdPartyCookie,device_id:this.deviceId,user_agent:this.userAgent,extension_id:this.extensionId,extension_version:this.extensionVersion,browser_time_zone:n.getTimezoneOffset()/60*-1,navigated_to:t,adblocker_enabled:e,platform:this.extensionPlatform})]}})})},EventsEnricher.prototype.enrichInteraction=function(t){return a(this,void 0,void 0,function(){var e,n,i,o,a,c,l,f,p,h,d,_,b,v;return u(this,function(u){switch(u.label){case 0:return e=new Date,[4,Promise.all([this.getFacebookMetadataForUserOrNulls(t.fb_user_id),this.locationService.getLocation()])];case 1:return n=u.sent(),i=n[0],o=n[1],t.fb_post_src=this.annonimizeSponsoredPostHTML(t.fb_post_src,t.fb_user_id,i.userNameOnlyForAnonymizingTheHTMLDoNotSend),a=t.fb_post_interaction_type,c=t.fb_post_entity_id,l=t.fb_post_interaction_text,f=t.fb_post_interaction_url,p=t.fb_post_interaction_click_origin,h=t.fb_post_src,d=t.original_event_time,_=t.fb_post_advertiser_page_entity_id,b=t.fb_post_advertiser_page_id,v=t.fb_user_id,[2,s(s(s(s(s({event_time:e,fb_post_interaction_type:a,fb_post_interaction_text:l,fb_post_interaction_url:f,fb_post_interaction_click_origin:p,fb_post_entity_id:c,fb_post_src:h,browser_time_zone:e.getTimezoneOffset()/60*-1},this.interactionHash({fb_user_id:v,fb_post_entity_id:c},r.c)),EventsEnricher.facebookMetadata(i)),EventsEnricher.geoData(o)),EventsEnricher.googleData()),{third_party_id:this.thirdPartyId,third_party_cookie:this.thirdPartyCookie,device_id:this.deviceId,user_agent:this.userAgent,extension_id:this.extensionId,extension_version:this.extensionVersion,original_event_time:d,fb_post_advertiser_page_entity_id:_,fb_post_advertiser_page_id:b})]}})})},EventsEnricher.prototype.enrichInterestsEvent=function(t){return a(this,void 0,void 0,function(){var e,n,r,i;return u(this,function(o){switch(o.label){case 0:return e=new Date,[4,Promise.all([this.getFacebookMetadataForUserOrNulls(t.fb_user_id),this.locationService.getLocation()])];case 1:return n=o.sent(),r=n[0],i=n[1],[2,s(s(s(s(s({fb_user_interests:t.fb_user_interests,event_time:e,browser_time_zone:e.getTimezoneOffset()/60*-1},EventsEnricher.facebookMetadata(r)),EventsEnricher.geoData(i)),this.getUserHashes(t.fb_user_id)),EventsEnricher.googleData()),{third_party_id:this.thirdPartyId,third_party_cookie:this.thirdPartyCookie,device_id:this.deviceId,user_agent:this.userAgent,extension_id:this.extensionId,extension_version:this.extensionVersion})]}})})},EventsEnricher.prototype.enrichYTAdVideo=function(t){return a(this,void 0,void 0,function(){var e,n,r,i,o;return u(this,function(a){switch(a.label){case 0:return e=new Date,[4,Promise.all([this.getFinalUserId(),this.getFacebookDataOrNulls(),this.locationService.getLocation()])];case 1:return n=a.sent(),r=n[0],i=n[1],o=n[2],[2,s(s(s(s({yt_video_id:t.id,yt_host_type:t.host_type,event_time:e,browser_time_zone:e.getTimezoneOffset()/60*-1,fb_user_hashed_id:r},i),EventsEnricher.geoData(o)),EventsEnricher.googleData()),{third_party_id:this.thirdPartyId,third_party_cookie:this.thirdPartyCookie,device_id:this.deviceId,user_agent:this.userAgent,extension_id:this.extensionId,extension_version:this.extensionVersion})]}})})},EventsEnricher.prototype.enrichAmazonSponsored=function(t){return a(this,void 0,void 0,function(){var e,n,r,i,o;return u(this,function(a){switch(a.label){case 0:return e=new Date,[4,Promise.all([this.getFinalUserId(),this.getFacebookDataOrNulls(),this.locationService.getLocation()])];case 1:return n=a.sent(),r=n[0],i=n[1],o=n[2],[2,s(s(s(s(s({},t),{event_time:e,browser_time_zone:e.getTimezoneOffset()/60*-1,fb_user_hashed_id:r,third_party_id:this.thirdPartyId,third_party_cookie:this.thirdPartyCookie,device_id:this.deviceId,user_agent:this.userAgent,extension_id:this.extensionId,extension_version:this.extensionVersion}),EventsEnricher.geoData(o)),EventsEnricher.googleData()),i)]}})})},EventsEnricher.prototype.enrichLinkedInSponsored=function(t){return a(this,void 0,void 0,function(){var e,n,r,i,o;return u(this,function(a){switch(a.label){case 0:return e=new Date,[4,Promise.all([this.getFinalUserId(),this.getFacebookDataOrNulls(),this.locationService.getLocation()])];case 1:return n=a.sent(),r=n[0],i=n[1],o=n[2],[2,s(s(s(s(s({},t),{event_time:e,browser_time_zone:e.getTimezoneOffset()/60*-1,fb_user_hashed_id:r,third_party_id:this.thirdPartyId,third_party_cookie:this.thirdPartyCookie,device_id:this.deviceId,user_agent:this.userAgent,extension_id:this.extensionId,extension_version:this.extensionVersion}),EventsEnricher.geoData(o)),EventsEnricher.googleData()),i)]}})})},EventsEnricher.prototype.enrichTweet=function(t){return a(this,void 0,void 0,function(){var e,n,r,i,o;return u(this,function(a){switch(a.label){case 0:return e=new Date,[4,Promise.all([this.getFinalUserId(),this.getFacebookDataOrNulls(),this.locationService.getLocation()])];case 1:return n=a.sent(),r=n[0],i=n[1],o=n[2],[2,s(s(s(s(s({event_time:e,browser_time_zone:e.getTimezoneOffset()/60*-1,fb_user_hashed_id:r},i),EventsEnricher.geoData(o)),EventsEnricher.googleData()),t),{third_party_id:this.thirdPartyId,third_party_cookie:this.thirdPartyCookie,device_id:this.deviceId,user_agent:this.userAgent,extension_id:this.extensionId,extension_version:this.extensionVersion})]}})})},EventsEnricher.prototype.enrichRegularStory=function(t){return a(this,void 0,void 0,function(){var e,n,i,o;return u(this,function(a){switch(a.label){case 0:return e=new Date,[4,Promise.all([this.getFacebookMetadataForUserOrNulls(t.fb_user_id),this.locationService.getLocation()])];case 1:return n=a.sent(),i=n[0],o=n[1],[2,s(s(s(s(s({event_time:e,browser_time_zone:e.getTimezoneOffset()/60*-1},EventsEnricher.facebookMetadata(i)),EventsEnricher.geoData(o)),this.getRegularStoryHashes(t,r.c)),EventsEnricher.googleData()),{third_party_id:this.thirdPartyId,third_party_cookie:this.thirdPartyCookie,device_id:this.deviceId,user_agent:this.userAgent,extension_id:this.extensionId,extension_version:t.parser_version,fb_post_is_sponsored:!1,parser_version:t.parser_version})]}})})},EventsEnricher.prototype.enrichSponsoredStory=function(t){return a(this,void 0,void 0,function(){var e,n,i,o;return u(this,function(a){switch(a.label){case 0:return e=new Date,[4,Promise.all([this.getFacebookMetadataForUserOrNulls(t.fb_user_id),this.locationService.getLocation()])];case 1:return n=a.sent(),i=n[0],o=n[1],t.fb_post_src=this.annonimizeSponsoredPostHTML(t.fb_post_src,t.fb_user_id,i.userNameOnlyForAnonymizingTheHTMLDoNotSend),[2,s(s(s(s(s(s({browser_time_zone:e.getTimezoneOffset()/60*-1},EventsEnricher.pickFieldsToSendSponsored(t)),EventsEnricher.facebookMetadata(i)),EventsEnricher.geoData(o)),this.getStoryHashes(t,r.c)),EventsEnricher.googleData()),{third_party_id:this.thirdPartyId,third_party_cookie:this.thirdPartyCookie,event_time:e,device_id:this.deviceId,user_agent:this.userAgent,extension_id:this.extensionId,extension_version:t.parser_version,fb_post_is_sponsored:!0,parser_version:t.parser_version,parser_type:t.parser_type})]}})})},EventsEnricher.prototype.getFacebookDataOrNulls=function(){return a(this,void 0,void 0,function(){var t,e,n,r;return u(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),t=[{}],n=(e=EventsEnricher).facebookMetadata,r=this.getFacebookMetadataForUserOrNulls,[4,this.facebookMetadataProvider.getCurrentUserId()];case 1:return[4,r.apply(this,[i.sent()])];case 2:return[2,s.apply(void 0,t.concat([n.apply(e,[i.sent()])]))];case 3:return i.sent(),[2,{fb_meta_gender:null,fb_meta_dob_month:null,fb_meta_dob_year:null,fb_meta_relationship_status:null,fb_meta_user_locale:null,fb_meta_current_state_or_country:null}];case 4:return[2]}})})},EventsEnricher.prototype.getFinalUserId=function(){return a(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.facebookMetadataProvider.getCurrentUserId()];case 1:return t=e.sent(),[2,this.getUserHashes(t).fb_user_hashed_id];case 2:return e.sent(),[2,("unkn_"+this.deviceId).substring(0,45)];case 3:return[2]}})})},EventsEnricher.prototype.enrichNewFacebookUiEvent=function(t){return a(this,void 0,void 0,function(){var e,n,r;return u(this,function(i){switch(i.label){case 0:return[4,Promise.all([this.getFinalUserId(),this.locationService.getLocation()])];case 1:return e=i.sent(),n=e[0],r=e[1],[2,{event_type:"fb_new_feed_ui",event_content:{fb_user_hashed_id:n,device_id:this.deviceId,fb_is_beta_member:"new"===t,geo_current_country_iso:EventsEnricher.geoData(r).geo_current_location_country_iso,extension_id:this.extensionId,extension_version:this.extensionVersion}}]}})})},EventsEnricher.prototype.annonimizeSponsoredPostHTML=function(t,e,n){if(null===t)return null;if(null===n){var r=new Error("Cloudn't get user name");this.errorReporter(r)}else t.match(new RegExp(Object(o.k)(n),"ig"))&&(t=t.replace(new RegExp(Object(o.k)(n),"ig"),"--annonimized-un--"));return t.replace(new RegExp(e,"g"),"--annonimized--")},EventsEnricher.pickFieldsToSendSponsored=function(t){var e=t.fb_post_actionlink_url,n=t.fb_post_advertiser_page_pretty_name,r=t.fb_post_advertiser_page_id,i=t.fb_post_advertiser_thumbnail_url,o=t.fb_post_call_to_action_text,a=t.fb_post_call_to_action_url,u=t.fb_post_img_url,c=t.fb_post_src,l=t.fb_post_text,f=t.fb_post_type,p=t.fb_post_video_url,h=t.fb_post_video_views,d=t.fb_post_this_video_views,_=t.fb_post_entity_id,b=t.fb_post_engage_angry,v=t.fb_post_engage_comments,y=t.fb_post_engage_haha,m=t.fb_post_engage_like,g=t.fb_post_engage_love,w=t.fb_post_engage_sad,S=t.fb_post_engage_shares,O=t.fb_post_engage_wow,x=t.fb_post_width,E=t.fb_post_height,k=t.fb_post_app_id,j=t.fb_post_app_pretty_name,T=t.fb_post_app_thumbnail_url,I=t.fb_post_carousel_info,A=t.fb_post_attachment_description,C=t.fb_post_attachment_title,P=t.fb_post_caption,M=t.fb_post_advertiser_page_entity_id,L=t.fb_post_ad_placement,F="fb_post_anonymized_edge"in t?t.fb_post_anonymized_edge:void 0;return s({fb_post_actionlink_url:e,fb_post_advertiser_page_pretty_name:n,fb_post_advertiser_page_id:r,fb_post_advertiser_thumbnail_url:i,fb_post_call_to_action_text:o,fb_post_call_to_action_url:a,fb_post_img_url:u,fb_post_src:c,fb_post_text:l,fb_post_type:f,fb_post_video_url:p,fb_post_video_views:h,fb_post_this_video_views:d,fb_post_entity_id:_,fb_post_engage_angry:b,fb_post_engage_comments:v,fb_post_engage_haha:y,fb_post_engage_like:m,fb_post_engage_love:g,fb_post_engage_sad:w,fb_post_engage_shares:S,fb_post_engage_wow:O,fb_post_width:x,fb_post_height:E,fb_post_app_id:k,fb_post_app_pretty_name:j,fb_post_app_thumbnail_url:T,fb_post_carousel_info:I,fb_post_attachment_description:A,fb_post_attachment_title:C,fb_post_caption:P,fb_post_advertiser_page_entity_id:M,fb_post_ad_placement:L},F&&{fb_post_anonymized_edge:F})},EventsEnricher.googleData=function(){return{google_meta_dob:null,google_meta_gender:null}},EventsEnricher.isFacebookRedirectorUrl=function(t){return t.startsWith("https://l.facebook.com/")||t.startsWith("http://l.facebook.com/")},EventsEnricher.getUrlPartAfterDomain=function(t){var e=document.createElement("a");return e.href=t,e.pathname+e.search+e.hash},EventsEnricher.prototype.getStoryHashes=function(t,e){var n=new Set(["fb_post_advertiser_page_id","fb_post_app_id","fb_post_call_to_action_text","fb_post_text","fb_post_type"]),r=Array.from(n.keys()).filter(function(e){return null!==t[e]}).map(function(e){return t[e]});return{fb_post_hashed_content:o.e.hash(""+r.join(",")),fb_post_hashed_entity_id:o.e.salted_hash(t.fb_post_entity_id,e),fb_user_hashed_id:o.e.salted_hash(t.fb_user_id,this.secret_local_salt)}},EventsEnricher.prototype.getUserHashes=function(t){return{fb_user_hashed_id:o.e.salted_hash(t,this.secret_local_salt)}},EventsEnricher.prototype.getRegularStoryHashes=function(t,e){return{fb_post_hashed_entity_id:o.e.salted_hash(t.fb_post_entity_id,e),fb_post_hashed_content:o.e.hash(t.fb_post_text||""),fb_user_hashed_id:o.e.salted_hash(t.fb_user_id,this.secret_local_salt)}},EventsEnricher.prototype.interactionHash=function(t,e){return{fb_post_hashed_entity_id:o.e.salted_hash(t.fb_post_entity_id,e),fb_user_hashed_id:this.getUserHashes(t.fb_user_id).fb_user_hashed_id}},EventsEnricher.facebookMetadata=function(t){return{fb_meta_gender:t.gender,fb_meta_dob_month:t.birthday.month,fb_meta_dob_year:t.birthday.year,fb_meta_relationship_status:t.relationshipStatus,fb_meta_user_locale:t.locale,fb_meta_current_state_or_country:t.stateOrCountry}},EventsEnricher.geoData=function(t){var e=t.countryIso2,n=t.state;return{geo_current_location_country:t.country,geo_current_location_country_iso:e,geo_current_location_state:n,geo_current_location_region:t.region,geo_current_location_metro_code:t.metro_code}},EventsEnricher}()},function(t,e,n){"use strict";e.a=function facebookMetadataFetcher(t,e){return a(this,void 0,void 0,function(){var n,r,i,o,s,a,c,l,f;return u(this,function(u){switch(u.label){case 0:return[4,getMetadata(t,e)];case 1:if(n=u.sent(),r=n.id,i=n.userNameOnlyForAnonymizingTheHTMLDoNotSend,o=n.locale,!r)throw new Error("Failed to get facebook user id");return[4,getBasicInfo(t)];case 2:return s=u.sent(),a=s.birthday,c=s.gender,l=s.stateOrCountry,[4,getRelationship(t)];case 3:return f=u.sent(),[2,{id:r,birthday:a,gender:c,locale:o,relationshipStatus:f,userNameOnlyForAnonymizingTheHTMLDoNotSend:i,stateOrCountry:l}]}})})},e.b=function getInterests(t){return s.b(t)};var r=n(48),i=n(240),o=n(241),s=n(242),a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(t){try{step(r.next(t))}catch(t){o(t)}}function rejected(t){try{step(r.throw(t))}catch(t){o(t)}}function step(t){t.done?i(t.value):function adopt(t){return t instanceof n?t:new n(function(e){e(t)})}(t.value).then(fulfilled,rejected)}step((r=r.apply(t,e||[])).next())})},u=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(a){return function step(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};function getMetadata(t,e){return a(this,void 0,void 0,function(){var n,a,c,l,f;return u(this,function(u){switch(u.label){case 0:return u.trys.push([0,5,,8]),function isMobile(){return"m.facebook.com"===window.location.hostname}()?[4,o.a(t)]:[3,2];case 1:return n=u.sent(),[3,4];case 2:return[4,s.a(t,e)];case 3:n=u.sent(),u.label=4;case 4:return[2,n];case 5:return(a=u.sent())instanceof r.a&&"logged-out"!==a.reason?[4,i.b(t)]:[3,7];case 6:return c=u.sent(),l=c.id,f=c.userNameOnlyForAnonymizingTheHTMLDoNotSend,[2,{id:l,userNameOnlyForAnonymizingTheHTMLDoNotSend:f,locale:null}];case 7:throw a;case 8:return[2]}})})}function getBasicInfo(t){var e,n;return a(this,void 0,void 0,function(){var r,s,a,c,l,f,p,h;return u(this,function(u){switch(u.label){case 0:return[4,i.a(t)];case 1:return r=u.sent(),s=r.birthday,a=r.gender,c=r.stateOrCountry,null!==a&&null!==s.month&&null!==s.year&&null!==c?[3,3]:[4,o.b(t)];case 2:return l=u.sent(),f=l.birthday,p=l.gender,h=l.stateOrCountry,[2,{gender:a||p,birthday:{year:s.year||(null===(e=f)||void 0===e?void 0:e.year)||null,month:s.month||(null===(n=f)||void 0===n?void 0:n.month)||null},stateOrCountry:c||h}];case 3:return[2,{birthday:s,gender:a,stateOrCountry:c}]}})})}function getRelationship(t){return o.c(t)}},function(t,e,n){"use strict";e.a=function getMetadata(t){return s(this,void 0,void 0,function(){var e,n,r,o,s,u;return a(this,function(a){switch(a.label){case 0:return[4,getAboutPage(t)];case 1:return e=a.sent(),(r=function getGender(t){var e=getTextValueByEdit(t,"gender");if(!e)return null;var n=e.toLowerCase();if("male"===n)return"Male";if("female"===n)return"Female";return null}(e))?[3,3]:[4,getGenderFromEditProfile(t)];case 2:r=a.sent(),a.label=3;case 3:return n=r,(s=function getBirthday(t){var e=getTextValueByEdit(t,"birthday");if(!e||isNaN(Date.parse(e)))return null;var n=new Date(e);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1}}(e))?[3,5]:[4,getBirthdayFromEditProfile(t)];case 4:s=a.sent(),a.label=5;case 5:return o=s,(u=function getStateOrCountry(t){var e=getTextValueByEdit(t,"current_city");if(!e)return null;return Object(i.a)(e)}(e))?[3,7]:[4,getStateOrCountryFromEditProfile(t)];case 6:u=a.sent(),a.label=7;case 7:return[2,{gender:n,birthday:o,stateOrCountry:u}]}})})},e.b=function getUserIdAndName(t){return s(this,void 0,void 0,function(){var e,n,i;return a(this,function(s){switch(s.label){case 0:return[4,getAboutPage(t)];case 1:if(e=s.sent(),!(n=function getId(t){var e,n;return null!==(n=null!==(e=function getIdFromPhoto(){var e=t.querySelector("a[href^='/photo.php']");return Object(r.p)(function(){return new URL(e.href).searchParams.get("id")},void 0)}())&&void 0!==e?e:function getIdFromEditCoverPhotoLink(){var e=t.querySelector("a[href^='/cover_photo/']");return Object(r.p)(function(){return new URL(e.href).searchParams.get("profile_id")},void 0)}())&&void 0!==n?n:function getIdFromActivityLogLink(){var e,n=t.querySelector("a[href$='/allactivity']"),r=null===(e=n)||void 0===e?void 0:e.href.match(/(\d+)\/allactivity/);if(r&&r[1])return r[1]}()}(e))){if(e.querySelector("#login_top_banner"))throw new o.a("logged-out","mbasic");throw new o.a("other","mbasic")}return i=function getName(t){var e,n;return null!==(n=null!==(e=function getNameFromProfilePictureAlt(){var e=t.querySelector("a[href^='/photo.php'] > img[alt]");if(e instanceof HTMLImageElement&&e.alt)return e.alt}())&&void 0!==e?e:function getNameFromLogoutButton(){var e,n=t.querySelector("#mbasic_logout_button");if(n instanceof HTMLAnchorElement){var r=null===(e=n.textContent)||void 0===e?void 0:e.match(/\(([^)]+)\)/);if(r&&r[1])return r[1]}}())&&void 0!==n?n:function getNameFromTitle(){return t.title}()}(e),[2,{id:n,userNameOnlyForAnonymizingTheHTMLDoNotSend:i}]}})})};var r=n(16),i=n(81),o=n(48),s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(t){try{step(r.next(t))}catch(t){o(t)}}function rejected(t){try{step(r.throw(t))}catch(t){o(t)}}function step(t){t.done?i(t.value):function adopt(t){return t instanceof n?t:new n(function(e){e(t)})}(t.value).then(fulfilled,rejected)}step((r=r.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(a){return function step(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};function getAboutPage(t){return s(this,void 0,void 0,function(){return a(this,function(e){return[2,Object(i.b)({fetchText:t,urlString:"https://mbasic.facebook.com/me/about"})]})})}function getTextValueByEdit(t,e){var n=Array.from(t.querySelectorAll("tr")).filter(function(t){return t.querySelector('a[href="/editprofile.php?type=basic&edit='+e+'"]')}).flatMap(function(t){return Array.from(t.querySelectorAll("td"))});return 2!==n.length?null:n[1].textContent}function getBirthdayFromEditProfile(t){return s(this,void 0,void 0,function(){var e,n,r;return a(this,function(o){switch(o.label){case 0:return[4,Object(i.b)({fetchText:t,urlString:"https://mbasic.facebook.com/editprofile.php?type=basic&edit=birthday"})];case 1:return e=o.sent(),n=function(){var t=e.querySelector("select[name=year]");if(!t)return null;if(!t.value)return null;var n=Number.parseInt(t.value,10);return Number.isNaN(n)?null:n}(),r=function(){var t=e.querySelector("select[name=month]");if(!t)return null;if(!t.value)return null;var n=Number.parseInt(t.value,10);return Number.isNaN(n)?null:n}(),[2,{year:n,month:r}]}})})}function getStateOrCountryFromEditProfile(t){return s(this,void 0,void 0,function(){var e,n;return a(this,function(r){switch(r.label){case 0:return[4,Object(i.b)({fetchText:t,urlString:"https://mbasic.facebook.com/editprofile.php?type=basic&edit=current_city"})];case 1:return e=r.sent(),(n=e.querySelector('input[name="current_city[]"]'))?[2,Object(i.a)(n.value)]:[2,null]}})})}function getGenderFromEditProfile(t){var e;return s(this,void 0,void 0,function(){var n,r;return a(this,function(o){switch(o.label){case 0:return[4,Object(i.b)({fetchText:t,urlString:"https://mbasic.facebook.com/editprofile.php?type=basic&edit=gender"})];case 1:return n=o.sent(),!!n.querySelector('select[name="preferred_pronoun"]')?[2,"Other"]:(r=(null===(e=n.querySelector('input[name="new_info"][checked]'))||void 0===e?void 0:e.value)||null)?"1"===r?[2,"Female"]:"2"===r?[2,"Male"]:[2,"Other"]:[2,null]}})})}},function(t,e,n){"use strict";e.a=function getIdAndLocaleAndName(t){return o(this,void 0,void 0,function(){var e,n,o,a,u,c,l,f;return s(this,function(s){switch(s.label){case 0:return[4,Object(i.b)({fetchText:t,urlString:"https://m.facebook.com/me?_rdr",addId:"b"})];case 1:if(e=s.sent(),n=e.outerHTML.match('"USER_ID"..([0-9]*)'),o=null,!n)throw new r.a("other","mobile");return o=n[1],a=null,(u=e.querySelector("#cover-name-root"))&&((c=u.querySelector(".alternate_name"))&&c.remove(),a=u.textContent&&u.textContent.replace(/(^\W+)|(\W+$)/,"")),[4,getLocaleMobile(t)];case 2:return null===(l=s.sent())&&(f=e.childNodes[1].outerHTML.match("LOCALE...([a-z,_,A-Z]*)"),l=f?f[1]:null),[2,{id:o,locale:l,userNameOnlyForAnonymizingTheHTMLDoNotSend:a}]}})})},e.b=function getMetadata(t){return o(this,void 0,void 0,function(){var e,n,r,i;return s(this,function(o){switch(o.label){case 0:return[4,getEditBasicInfoDocument(t)];case 1:return e=o.sent(),n=function getGenderViaEditBasicInfo(t){var e=t.querySelector("input[name=gender][type=radio][checked]");if(e instanceof HTMLInputElement)return"1"===e.value?"Female":"2"===e.value?"Male":"Other";return null}(e),r=function getBirthdayViaEditBasicInfo(t){var e=t.querySelector('select[name="birthday_month"]'),n=t.querySelector('select[name="birthday_year"]');if(!e||!n)return null;return{year:parseInt(n.value,10),month:parseInt(e.value,10)}}(e),[4,getStateOrCountry(t)];case 2:return i=o.sent(),[2,{gender:n,birthday:r,stateOrCountry:i}]}})})},e.c=function getRelationship(t){return function getRelationshipViaEdit(t){return o(this,void 0,void 0,function(){var e,n;return s(this,function(r){switch(r.label){case 0:return[4,Object(i.b)({fetchText:t,urlString:"https://m.facebook.com/profile/edit/infotab/section/forms/?info_surface=info&section=relationship",headers:[],addId:!1})];case 1:return e=r.sent(),(n=e.querySelector("select[name=relationship_status]"))instanceof HTMLSelectElement?a.has(n.value)?[2,a.get(n.value)]:[2,n.value]:[2,null]}})})}(t)};var r=n(48),i=n(81),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(t){try{step(r.next(t))}catch(t){o(t)}}function rejected(t){try{step(r.throw(t))}catch(t){o(t)}}function step(t){t.done?i(t.value):function adopt(t){return t instanceof n?t:new n(function(e){e(t)})}(t.value).then(fulfilled,rejected)}step((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(a){return function step(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},a=new Map([["0","Unspecified"],["1","Single"],["2","In a relationship"],["5","Engaged"],["4","Married"],["10","In a civil union"],["11","In a domestic partnership"],["3","In an open relationship"],["6","It's complicated"],["8","Separated"],["9","Divorced"],["7","Widowed"]]);function getStateOrCountry(t){return function getStateOrCountryViaEdit(t){return o(this,void 0,void 0,function(){var e,n,r;return s(this,function(o){switch(o.label){case 0:return[4,Object(i.b)({fetchText:t,urlString:"https://m.facebook.com/profile/edit/infotab/section/forms/?info_surface=info&section=living",headers:[],addId:!1})];case 1:return e=o.sent(),(n=e.querySelector('input[name="current_city_text"]'))instanceof HTMLInputElement&&(r=n.value)?[2,Object(i.a)(r)]:[2,null]}})})}(t)}function getLocaleMobile(t){return o(this,void 0,void 0,function(){var e,n,r;return s(this,function(i){switch(i.label){case 0:return[4,t("https://m.facebook.com/language.php?r="+Date.now())];case 1:return e=i.sent(),(n=e.match(/"?currentLocale"?: ?(\{[^}]+?\})/))&&n[1]&&(r=n[1].match(/"?locale_code"?: ?"([^"]+?)"/))&&r[1]?[2,r[1]]:[2,null]}})})}function getEditBasicInfoDocument(t){return o(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,Object(i.b)({fetchText:t,urlString:"https://m.facebook.com/profile/edit/infotab/section/forms/?section=basic-info",addId:!1})];case 1:return[2,e.sent()]}})})}},function(t,e,n){"use strict";var r=n(243);n.d(e,"a",function(){return r.a}),n.d(e,"b",function(){return r.b})},function(t,e,n){"use strict";e.a=function getIdAndLocaleAndName(t,e){return u(this,void 0,void 0,function(){var n,u;return c(this,function(c){switch(c.label){case 0:return[4,Object(a.a)(t,e)()];case 1:return n=c.sent(),"new"!==Object(r.n)(n)?[3,3]:[4,i.a(n)];case 2:if(!(u=c.sent()).id)throw new s.a("other","web-ui");return[2,u];case 3:return[2,o.a(n)]}})})},e.b=function getInterests(t){return o.b(t)};var r=n(42),i=n(257),o=n(258),s=n(48),a=n(259),u=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(t){try{step(r.next(t))}catch(t){o(t)}}function rejected(t){try{step(r.throw(t))}catch(t){o(t)}}function step(t){t.done?i(t.value):function adopt(t){return t instanceof n?t:new n(function(e){e(t)})}(t.value).then(fulfilled,rejected)}step((r=r.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(a){return function step(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}},function(t,e,n){"use strict";n(124);var r=n(249);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";t.exports=(t=>encodeURIComponent(t).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`))},function(t,e,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),i=new RegExp("(%[a-f0-9]{2})+","gi");function decodeComponents(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],decodeComponents(n),decodeComponents(r))}function decode(t){try{return decodeURIComponent(t)}catch(i){for(var e=t.match(r),n=1;n<e.length;n++)e=(t=decodeComponents(e,n).join("")).match(r);return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function customDecodeURIComponent(t){for(var e={"%FE%FF":"ï¿½ï¿½","%FF%FE":"ï¿½ï¿½"},n=i.exec(t);n;){try{e[n[0]]=decodeURIComponent(n[0])}catch(t){var r=decode(n[0]);r!==n[0]&&(e[n[0]]=r)}n=i.exec(t)}e["%C2"]="ï¿½";for(var o=Object.keys(e),s=0;s<o.length;s++){var a=o[s];t=t.replace(new RegExp(a,"g"),e[a])}return t}(t)}}},function(t,e,n){"use strict";t.exports=((t,e)=>{if("string"!=typeof t||"string"!=typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===e)return[t];const n=t.indexOf(e);return-1===n?[t]:[t.slice(0,n),t.slice(n+e.length)]})},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=["h5._1qbu._14f3._14f5._5pbw._5vra","input[name=fb_dtsg]"]},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r,i=n(27),o=n(82),s=n(124),a=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function __(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),u=function(t){function MobileParser(){return null!==t&&t.apply(this,arguments)||this}return a(MobileParser,t),MobileParser.prototype.getCache=function(e,n){return t.prototype.getCache.call(this,e,n)},MobileParser.prototype.isStorySponsoredImpl=function(t,e){return Array.from(t.querySelectorAll("span")).some(function(t){return null!==t.textContent&&e.indexOf(t.textContent)>-1})},MobileParser.prototype.getNewCache=function(t,e){return new s.a(t,this.log,e)},MobileParser.prototype.getNestingType=function(t,e){return this.getCache(t,e).nestType},MobileParser.prototype.getEntId=function(t,e){return this.getCache(t,e).entId},MobileParser.prototype.parseRegularStory=function(t,e){return{fb_post_entity_id:this.getEntId(t,e),fb_post_text:this.extractFirstPostInStoryText(t),parser_type:"mobile",parser_version:this.extensionVersion}},MobileParser.prototype.sanitizePIIPostHtmlMobile=function(t){if(t.parentElement)throw new Error("don't pass elements from living document! it hurt the page. you must pass only clones");var e=Object(i.g)(function(){return JSON.parse(t.dataset.store)},null);e&&(t.dataset.store=JSON.stringify(Object(i.k)(e,"actor_id")));var n=t.querySelector("a[data-store]");if(n&&n.dataset.store){var r=Object(i.g)(function(){return JSON.parse(n.dataset.store)},null);r&&(n.dataset.store=JSON.stringify(Object(i.k)(r,"user_id")))}return t},MobileParser.prototype.parseSponsoredFeedStory=function(t,e){var n,r,i=this.getCache(t,e),o=this.sanitizePIIPostHtmlMobile(i._article.cloneNode(!0)).outerHTML,s=i.storyType,a=i.fb_post_img_url,u=null,c=i.entId,l=i.fb_post_app_pretty_name,f=i.fb_post_app_id,p=i.fb_post_app_thumbnail_url,h=i.fb_post_advertiser_page_id,d=i.fb_post_advertiser_page_entity_id,_=i.fb_post_advertiser_page_pretty_name,b=i.fb_post_advertiser_thumbnail_url,v=i.fb_post_actionlink_url,y=i.fb_post_call_to_action_url,m=i.fb_post_call_to_action_text,g=i.fb_post_carousel_info;"gif"===s?(u=(n=this.parseGifFields(i._article)).videoUrl,a=n.previewImageUrl):"video"===s&&(u=(r=this.parseVideoFields(i._article)).videoUrl,a=r.previewImageUrl);this.getLocale();return{fb_post_actionlink_url:v,fb_post_src:o,fb_post_text:this.extractFirstPostInStoryText(i._article),fb_post_type:s,fb_post_img_url:a,fb_post_video_url:u,fb_post_engage_sad:null,fb_post_engage_wow:null,fb_post_entity_id:c,fb_post_engage_haha:null,fb_post_engage_like:null,fb_post_engage_love:null,fb_post_video_views:null,fb_post_this_video_views:null,fb_post_engage_angry:null,fb_post_engage_shares:null,fb_post_engage_comments:null,fb_post_advertiser_page_id:h,fb_post_advertiser_page_entity_id:d,fb_post_call_to_action_url:y,fb_post_call_to_action_text:m,fb_post_advertiser_thumbnail_url:b,fb_post_advertiser_page_pretty_name:_,fb_post_app_pretty_name:l,fb_post_app_id:f,fb_post_app_thumbnail_url:p,fb_post_carousel_info:g,fb_post_caption:null,fb_post_attachment_description:null,fb_post_attachment_title:null,fb_post_ad_placement:"feed",parser_type:"mobile",parser_version:this.extensionVersion}},MobileParser}(o.j)},function(t,e,n){"use strict";var r=n(251);n.d(e,"i",function(){return r.a}),n.d(e,"j",function(){return r.b}),n.d(e,"k",function(){return r.c}),n.d(e,"m",function(){return r.d}),n.d(e,"n",function(){return r.e}),n.d(e,"o",function(){return r.f}),n.d(e,"p",function(){return r.g}),n.d(e,"q",function(){return r.h}),n.d(e,"r",function(){return r.i}),n.d(e,"s",function(){return r.j});var i=n(82);n.d(e,"a",function(){return i.a}),n.d(e,"b",function(){return i.b}),n.d(e,"c",function(){return i.c}),n.d(e,"d",function(){return i.d}),n.d(e,"e",function(){return i.e}),n.d(e,"f",function(){return i.f}),n.d(e,"g",function(){return i.g}),n.d(e,"h",function(){return i.h}),n.d(e,"l",function(){return i.j})},function(t,e,n){"use strict";var r=n(84);n.d(e,"g",function(){return r.b}),n.d(e,"h",function(){return r.h}),n.d(e,"i",function(){return r.i}),n.d(e,"j",function(){return r.j});var i=n(252);n.d(e,"a",function(){return i.a}),n.d(e,"c",function(){return i.b}),n.d(e,"d",function(){return i.c});var o=n(253);n.d(e,"b",function(){return o.a});var s=n(256);n.d(e,"e",function(){return s.a}),n.d(e,"f",function(){return s.b})},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i}),e.c=function getFacebookUiKind(t){if(t.querySelector(i))return"old";if(t.querySelector(r))return"new";return null};var r="div#mount_0_0",i="#pagelet_bluebar"},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r,i=n(27),o=n(84),s=n(254),a=n(255),u=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function __(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),c=this&&this.__assign||function(){return(c=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},l=function(){function NewFeedParser(t,e,n){if(this.log=t,this.options=n,!t)throw new Error("You can't start a parser without a logger!");this.parserVersion="4."+e.split(".").slice(1).join(".")}return NewFeedParser.prototype.anonymizeEdge=function(t){return Object(s.a)(t)},NewFeedParser.prototype.parseOrganicEdge=function(t){return c(c({},this.parseEdgeCommon(t)),{fb_post_is_public:Object(a.m)(t)})},NewFeedParser.prototype.parseSponsoredEdge=function(t){var e,n,r,i,o,s,u,l,f,p,h,d,_=this,b=this.parseEdgeCommon(t),v=this.createGetValueOrDefault(b.fb_post_entity_id),y=v(function(){return Object(a.r)(t)});return c(c({},b),{fb_post_call_to_action_text:v(function(){return Object(a.h)(t)}),fb_post_call_to_action_url:v(function(){return Object(a.i)(t)}),fb_post_actionlink_url:v(function(){return Object(a.a)(t)}),fb_post_engage_haha:(n=null===(e=y)||void 0===e?void 0:e.HAHA,null!=n?n:null),fb_post_engage_wow:(i=null===(r=y)||void 0===r?void 0:r.WOW,null!=i?i:null),fb_post_engage_angry:(s=null===(o=y)||void 0===o?void 0:o.ANGRY,null!=s?s:null),fb_post_engage_like:(l=null===(u=y)||void 0===u?void 0:u.LIKE,null!=l?l:null),fb_post_engage_love:(p=null===(f=y)||void 0===f?void 0:f.LOVE,null!=p?p:null),fb_post_engage_sad:(d=null===(h=y)||void 0===h?void 0:h.SAD,null!=d?d:null),fb_post_engage_comments:v(function(){return Object(a.k)(t)}),fb_post_attachment_description:v(function(){return Object(a.f)(t)}),fb_post_advertiser_page_pretty_name:v(function(){return Object(a.d)(t)}),fb_post_advertiser_page_id:v(function(){var e;return Object(a.c)(t,null===(e=_.options)||void 0===e?void 0:e.URLConstructor)}),fb_post_caption:v(function(){return Object(a.n)(t)}),fb_post_src:null,fb_post_engage_shares:v(function(){return Object(a.s)(t)}),fb_post_video_url:v(function(){return Object(a.v)(t)}),fb_post_video_url_hd:v(function(){return Object(a.u)(t)}),fb_post_carousel_info:v(function(){var e,n;return null!=(n=null===(e=Object(a.j)(t))||void 0===e?void 0:e.map(function(t){return{fb_post_carousel_text:t.text,fb_post_carousel_img_url:t.img_url,fb_post_carousel_actionlink_url:t.actionlink_url}}))?n:null}),fb_post_type:v(function(){return Object(a.q)(t)},"unknown"),fb_post_this_video_views:v(function(){return Object(a.t)(t)}),fb_post_video_views:v(function(){return Object(a.w)(t)}),fb_post_attachment_title:v(function(){return Object(a.g)(t)}),fb_post_img_url:v(function(){return Object(a.l)(t)}),fb_post_advertiser_page_entity_id:v(function(){return Object(a.b)(t)}),fb_post_advertiser_thumbnail_url:v(function(){return Object(a.e)(t)}),fb_post_app_id:null,fb_post_app_pretty_name:null,fb_post_app_thumbnail_url:null})},NewFeedParser.prototype.tryParseFeedPage=function(t){return"string"==typeof t&&(!!t.includes("$CometNewsFeed_viewer_news_feed")&&Object(i.h)(t))},NewFeedParser.prototype.tryParseEngagementInteractionResponse=function(t){if(!t)return!1;if("string"!=typeof t||"object"!=typeof t)return!1;try{var e="string"==typeof t?JSON.parse(t):t;if(Object(o.f)(e))return e}catch(t){return!1}return!1},NewFeedParser.prototype.parseEdgeCommon=function(t){var e=this.createGetValueOrDefault()(function(){return Object(a.o)(t)});if(!e)throw new f("Couldn't get post entity id for edge",t);var n=this.createGetValueOrDefault(e);try{return{parser_type:"desktop-v2",parser_version:this.parserVersion,fb_post_text:n(function(){return Object(a.p)(t)}),fb_post_entity_id:e}}catch(e){if(this.log.error("failed to parse common part of edge",t),e instanceof Error)throw new f(e.message,t);throw e}},NewFeedParser.prototype.createGetValueOrDefault=function(t){var e=this.log;return function getValueOrDefault(n,r){void 0===r&&(r=null);try{return n()}catch(n){return t&&e.captureBreadcrumb({message:"Failed to parse value in edge",data:{entityId:t}}),e.error("[New Facebook UI] Failed to parse value in edge",n),r}}},NewFeedParser}(),f=function(t){function ParseError(e,n){var r=t.call(this,e)||this;return r.edge=n,Object.setPrototypeOf(r,ParseError.prototype),r}return u(ParseError,t),ParseError}(Error)},function(t,e,n){"use strict";e.a=function anonymizeEdge(t){var e=i.map(t,function(){isUserObject(this.node)&&this.update(o,!0);var t=/"(viewer|context_id)":(\d+)/gi;"string"==typeof this.node&&this.node.match(t)&&this.update(this.node.replace(t,"$1"+o.id))}),n=Object(r.m)(i.nodes(t).filter(isUserObject),function(t){return t.id}).flatMap(function(t){return[{searchValue:t.id,replaceValue:o.id},{searchValue:t.name,replaceValue:o.name},{searchValue:t.url,replaceValue:o.url}].filter(function(t){return t.searchValue})});return JSON.parse(n.reduce(function(t,e){var n=e.searchValue,r=e.replaceValue;return t.replace(new RegExp(n,"g"),r)},JSON.stringify(e)))};var r=n(27),i=n(128);n.n(i);function isUserObject(t){return t&&"object"==typeof t&&"__typename"in t&&"User"===t.__typename}var o={__typename:"User",id:"123456789",name:"ANONYMIZED_NAME",url:"https://www.facebook.com/anonymized.name"}},function(t,e,n){"use strict";e.o=function getPostEntityId(t){var e=[function(t){var e;return null===(e=t.comet_sections.feedback)||void 0===e?void 0:e.story.feedback_context.feedback_target_with_context.top_level_comment_list_renderer.feedback.share_fbid},function(t){var e;return null===(e=t.comet_sections.feedback)||void 0===e?void 0:e.story.feedback_context.feedback_target_with_context.top_level_comment_list_renderer.feedback.subscription_target_id},function(t){var e;return null===(e=t.comet_sections.feedback)||void 0===e?void 0:e.story.feedback_context.feedback_target_with_context.share_fbid},function(t){var e;return null===(e=t.comet_sections.feedback)||void 0===e?void 0:e.story.feedback_context.feedback_target_with_context.subscription_target_id},function(t){if(t.comet_sections.feedback)try{var e=JSON.parse(t.comet_sections.feedback.story.feedback_context.feedback_target_with_context.top_level_comment_list_renderer.feedback.content_based_comment_list_renderer.feedback.mentions_datasource_js_constructor_args_json)[0];return e.queryData.post_fbid}catch(t){return}},function(t){var e;if(null===(e=t.comet_sections.content.story.comet_sections.aggregated_stories)||void 0===e?void 0:e.story.interesting_substories)return Object(r.f)(t.comet_sections.content.story.comet_sections.aggregated_stories.story.interesting_substories.edges,function(t){return getPostEntityId(t)||void 0})}];return Object(r.f)(e,function(e){return e(t.node)},null)},e.p=function getPostText(t){var e,n,r;return null!==(r=null===(n=null===(e=t.node.comet_sections.content.story.comet_sections.message)||void 0===e?void 0:e.story)||void 0===n?void 0:n.message.text)&&void 0!==r?r:null},e.m=function getIsPublic(t){function getFromCometFeedStoryAudienceStrategy(t){return"everyone"===t.story.privacy_scope.icon_image.name}var e=[function(t){return function getFromCometFeedStoryDefaultContextLayoutStrategy(t){if(t.story.comet_sections.audience)return getFromCometFeedStoryAudienceStrategy(t.story.comet_sections.audience)}(t.comet_sections.context_layout)},function(t){var e=[];if(i.forEach(t,function(){Object(s.a)(this.node)&&e.push(this.node)}),e.length>0)return e.map(getFromCometFeedStoryAudienceStrategy).every(Boolean)}];try{return Object(r.f)(e,function(e){return e(t.node)})}catch(e){console.error("couldn't get isPublic for edge",t)}},e.r=function getReactions(t){var e,n,i,o,s,a,c,l=null===(e=t.node.comet_sections.feedback)||void 0===e?void 0:e.story.feedback_context.feedback_target_with_context,f=null!==(i=null===(n=l)||void 0===n?void 0:n.top_reactions)&&void 0!==i?i:null===(s=null===(o=l)||void 0===o?void 0:o.comet_ufi_summary_and_actions_renderer)||void 0===s?void 0:s.feedback.top_reactions;return function getReactionsFromEdges(t){var e=t.reduce(function(t,e){return t.set(e.node.key,e.reaction_count),t},new Map),n=Object(r.l)(u).map(function(t){var n,r=t[0],i=t[1];return[r,(n=e.get(i),null!=n?n:null)]});return Object(r.j)(n)}(null!==(c=null===(a=f)||void 0===a?void 0:a.edges)&&void 0!==c?c:[])},e.k=function getCommentsCount(t){var e;return(null===(e=t.node.comet_sections.feedback)||void 0===e?void 0:e.story.feedback_context.feedback_target_with_context.comment_count.total_count)||0},e.d=function getAdvertiserPagePrettyName(t){var e;return(null===(e=t.node.comet_sections.context_layout.story.comet_sections.title.story.actors[0])||void 0===e?void 0:e.name)||null},e.c=function getAdvertiserPageId(t,e){void 0===e&&(e=URL);var n=Object(r.f)([function(t){var e;return null===(e=t.comet_sections.context_layout.story.comet_sections.title.story.actors[0])||void 0===e?void 0:e.url},function(t){var e;return null===(e=t.comet_sections.context_layout.story.actors[0])||void 0===e?void 0:e.url}],function(e){return e(t.node)});if(!n)return null;var i=new e(n).pathname.match(/\/?([^\/"]+)\/?/);if(!i)return null;return i[1]||null},e.b=function getAdvertiserPageEntityId(t){return Object(r.f)([function(t){var e;return null===(e=t.comet_sections.context_layout.story.actors[0])||void 0===e?void 0:e.id},function(t){var e;return null===(e=t.comet_sections.context_layout.story.comet_sections.actor_photo.story.actors[0])||void 0===e?void 0:e.id},function(t){var e;return null===(e=t.comet_sections.context_layout.story.comet_sections.title.story.actors[0])||void 0===e?void 0:e.id},function(t){if(t.comet_sections.feedback)return t.comet_sections.feedback.story.feedback_context.feedback_target_with_context.top_level_comment_list_renderer.feedback.owning_profile.id},function(t){if(t.comet_sections.feedback)return t.comet_sections.feedback.story.feedback_context.feedback_target_with_context.top_level_comment_list_renderer.feedback.content_based_comment_list_renderer.feedback.owning_profile.id}],function(e){return e(t.node)},null)},e.n=function getPostCaption(t){var e=[function(t){var e,n,r,i=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.comet_footer_renderer;if(Object(s.c)(i))return null===(r=i.attachment.source)||void 0===r?void 0:r.text},function(t){var e,n,r,i=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(s.q)(i)&&(null===(r=i.attachment.cta_screen_renderer)||void 0===r?void 0:r.action_link)&&"link_display"in i.attachment.cta_screen_renderer.action_link)return i.attachment.cta_screen_renderer.action_link.link_display},function(t){var e,n,i=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(s.n)(i))return Object(r.f)(i.attachment.subattachments,function(t){return t.cta_screen_renderer.action_link.link_display})},function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(s.l)(r))return r.attachment.target.name},function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(s.l)(r))return r.attachment.title}];return Object(r.f)(e,function(e){return e(t.node)},null)},e.s=function getShareCount(t){var e,n,r,i,o,s,a,u=null===(e=t.node.comet_sections.feedback)||void 0===e?void 0:e.story.feedback_context.feedback_target_with_context;return null!==(a=null===(s=null!==(r=null===(n=u)||void 0===n?void 0:n.share_count)&&void 0!==r?r:null===(o=null===(i=u)||void 0===i?void 0:i.comet_ufi_summary_and_actions_renderer)||void 0===o?void 0:o.feedback.share_count)||void 0===s?void 0:s.count)&&void 0!==a?a:0},e.g=function getAttachmentTitle(t){var e=[function(t){var e,n,r,i=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(s.p)(i))return null===(r=i.attachment.title_with_entities)||void 0===r?void 0:r.text},function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.comet_footer_renderer;if(Object(s.c)(r))return r.attachment.title_with_entities.text},function(t){var e,n,i=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.comet_footer_renderer;if(Object(s.d)(i))return Object(r.f)(i.attachment.action_links,getOpenActionLinkTitle)},function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(s.l)(r))return r.attachment.target.name},function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(s.l)(r))return r.attachment.title}];return Object(r.f)(e,function(e){return e(t.node)},null)},e.f=function getAttachmentDescription(t){var e=[function(t){var e,n,r,i=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.comet_footer_renderer;if(Object(s.c)(i))return null===(r=i.attachment.description)||void 0===r?void 0:r.text},function(t){var e,n,i=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.comet_footer_renderer;if(Object(s.d)(i))return Object(r.f)(i.attachment.action_links,getOpenActionLinkDescription)},function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(s.l)(r))return r.attachment.description.text}];return Object(r.f)(e,function(e){return e(t.node)},null)},e.h=function getCallToActionText(t){var e=[function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.comet_footer_renderer;if(Object(s.c)(r)&&r.attachment.call_to_action_renderer)return getOpenActionLinkTitle(r.attachment.call_to_action_renderer.action_link)},function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(s.q)(r)&&r.attachment.cta_screen_renderer)return getOpenActionLinkTitle(r.attachment.cta_screen_renderer.action_link)},function(t){var e,n,i=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(s.n)(i))return Object(r.f)(i.attachment.subattachments,function(t){if(t.call_to_action_renderer)return getOpenActionLinkTitle(t.call_to_action_renderer.action_link)})},function(t){var e,n,i,o=null===(i=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.comet_footer_renderer)||void 0===i?void 0:i.attachment.story_attachment_link_renderer.attachment.action_links;if(o)return Object(r.f)(o,getOpenActionLinkTitle)}];return Object(r.f)(e,function(e){return e(t.node)},null)},e.i=function getCallToActionUrl(t){var e=[function(t){var e,n,r,i=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.comet_footer_renderer;if(Object(s.c)(i))return null===(r=i.attachment.target)||void 0===r?void 0:r.external_url},function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(s.q)(r)&&r.attachment.cta_screen_renderer){var i=getOpenActionLinkUrl(r.attachment.cta_screen_renderer.action_link);if(i)return Object(o.a)(i)}},function(t){var e,n,i=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(s.n)(i))return Object(r.f)(i.attachment.subattachments,function(t){if(t.call_to_action_renderer){var e=getOpenActionLinkUrl(t.call_to_action_renderer.action_link);return e?Object(o.a)(e):void 0}})},function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(s.l)(r))return r.attachment.url},function(t){var e,n,i,o=null===(i=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.comet_footer_renderer)||void 0===i?void 0:i.attachment.story_attachment_link_renderer.attachment.action_links;if(o)return Object(r.f)(o,getOpenActionLinkUrl)}];return Object(r.f)(e,function(e){return e(t.node)},null)},e.a=function getActionlinkUrl(t){var e=[function(t){var e,n,r,i=null===(r=null===(n=null===(e=t.comet_sections.content.story.comet_sections.message)||void 0===e?void 0:e.story)||void 0===n?void 0:n.message.ranges[0])||void 0===r?void 0:r.entity;if(Object(s.e)(i))return i.external_url},function(t){var e,n,r,i=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.comet_footer_renderer;if(Object(s.c)(i))return null===(r=i.attachment.target)||void 0===r?void 0:r.external_url},function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(s.q)(r)&&r.attachment.cta_screen_renderer){var i=getOpenActionLinkUrl(r.attachment.cta_screen_renderer.action_link);if(i)return Object(o.a)(i)}}];return Object(r.f)(e,function(e){return e(t.node)},null)},e.e=function getAdvertiserThumbnailUrl(t){return Object(r.f)([function(t){var e,n;return null===(n=null===(e=t.comet_sections.context_layout.story.comet_sections.actor_photo.story.actors[0])||void 0===e?void 0:e.profile_picture)||void 0===n?void 0:n.uri}],function(e){return e(t.node)},null)},e.v=function getVideoUrl(t){var e=[function(t){var e,n,r,i,o,a=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(s.q)(a)&&Object(s.r)(a.attachment.media)||(a=null===(o=null===(i=null===(r=t.comet_sections.content.story.attached_story)||void 0===r?void 0:r.attachments)||void 0===i?void 0:i[0])||void 0===o?void 0:o.style_type_renderer),Object(s.q)(a)&&Object(s.r)(a.attachment.media))return a.attachment.media.playable_url}];return Object(r.f)(e,function(e){return e(t.node)},null)},e.u=function getVideoHdUrl(t){var e=[function(t){var e,n,r,i,o,a=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(s.q)(a)&&Object(s.r)(a.attachment.media)||(a=null===(o=null===(i=null===(r=t.comet_sections.content.story.attached_story)||void 0===r?void 0:r.attachments)||void 0===i?void 0:i[0])||void 0===o?void 0:o.style_type_renderer),Object(s.q)(a)&&Object(s.r)(a.attachment.media))return a.attachment.media.playable_url_quality_hd}];return Object(r.f)(e,function(e){return e(t.node)},null)},e.w=function getVideoViewsCount(t){var e=[function(t){var e,n,r,i=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(s.q)(i)&&t.comet_sections.feedback)return t.comet_sections.feedback.story.feedback_context.feedback_target_with_context.video_view_count||(null===(r=t.comet_sections.feedback.story.feedback_context.feedback_target_with_context.comet_ufi_summary_and_actions_renderer)||void 0===r?void 0:r.feedback.video_view_count)}];return Object(r.f)(e,function(e){return e(t.node)},null)},e.t=function getThisVideoViewsCount(t){var e=[function(t){var e,n,r,i=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(s.q)(i)&&t.comet_sections.feedback)return t.comet_sections.feedback.story.feedback_context.feedback_target_with_context.video_post_view_count||(null===(r=t.comet_sections.feedback.story.feedback_context.feedback_target_with_context.comet_ufi_summary_and_actions_renderer)||void 0===r?void 0:r.feedback.video_post_view_count)}];return Object(r.f)(e,function(e){return e(t.node)},null)},e.l=function getImageUrl(t){var e=[function(t){var e,n,i,o,a,u=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(s.n)(u)||(u=null===(a=null===(o=null===(i=t.comet_sections.content.story.attached_story)||void 0===i?void 0:i.attachments)||void 0===o?void 0:o[0])||void 0===a?void 0:a.style_type_renderer),Object(s.n)(u))return Object(r.f)(u.attachment.subattachments,function(t){return getImageUri(t.media)})},function(t){var e,n,r,i,o,a=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(s.p)(a)&&Object(s.g)(a.attachment.media)||(a=null===(o=null===(i=null===(r=t.comet_sections.content.story.attached_story)||void 0===r?void 0:r.attachments)||void 0===i?void 0:i[0])||void 0===o?void 0:o.style_type_renderer),Object(s.p)(a)&&Object(s.g)(a.attachment.media))return getImageUri(a.attachment.media)},function(t){var e,n,r,i,o,a=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer,u=null;if(!Object(s.q)(a)||Object(s.r)(a.attachment.media)){var c=null===(o=null===(i=null===(r=t.comet_sections.content.story.attached_story)||void 0===r?void 0:r.attachments)||void 0===i?void 0:i[0])||void 0===o?void 0:o.style_type_renderer;u=c||a}if(u&&Object(s.q)(u)&&Object(s.r)(u.attachment.media))return u.attachment.media.preferred_thumbnail.image.uri},function(t){var e,n,r,i,o,a=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(s.o)(a)||(a=null===(o=null===(i=null===(r=t.comet_sections.content.story.attached_story)||void 0===r?void 0:r.attachments)||void 0===i?void 0:i[0])||void 0===o?void 0:o.style_type_renderer),Object(s.o)(a))return getPhotoImageUri(a.attachment.media)},function(t){var e,n,r,i,o,a,u,c,l,f,p=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(s.l)(p)||(p=null===(o=null===(i=null===(r=t.comet_sections.content.story.attached_story)||void 0===r?void 0:r.attachments)||void 0===i?void 0:i[0])||void 0===o?void 0:o.style_type_renderer),Object(s.l)(p))return null!=(c=null===(u=null===(a=p.attachment.media)||void 0===a?void 0:a.fallback_image)||void 0===u?void 0:u.uri)?c:null===(f=null===(l=p.attachment.media)||void 0===l?void 0:l.image)||void 0===f?void 0:f.uri},function(t){var e,n,r,i,o,a=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(s.k)(a)||(a=null===(o=null===(i=null===(r=t.comet_sections.content.story.attached_story)||void 0===r?void 0:r.attachments)||void 0===i?void 0:i[0])||void 0===o?void 0:o.style_type_renderer),Object(s.k)(a))return getPhotoImageUri(a.attachment.all_subattachments.nodes[0].media)}];return Object(r.f)(e,function(e){return e(t.node)},null)},e.j=function getCarouselCardsInfos(t){var e,n,i,u,c;function getActionlinkUrl(t){var e=[function(t){if(t.call_to_action_renderer)return getOpenActionLinkUrl(t.call_to_action_renderer.action_link)},function(t){if(t.story_attachment_link_renderer.attachment.action_links[0])return getOpenActionLinkUrl(t.story_attachment_link_renderer.attachment.action_links[0])},function(t){return t.story_attachment_link_renderer.attachment.url},function(t){var e,n;return null===(n=null===(e=t.cta_screen_renderer)||void 0===e?void 0:e.action_link)||void 0===n?void 0:n.url}];return Object(r.f)(e,function(e){return e(t)},null)}var l=null===(n=null===(e=t.node.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;Object(s.n)(l)||(l=null===(c=null===(u=null===(i=t.node.comet_sections.content.story.attached_story)||void 0===i?void 0:i.attachments)||void 0===u?void 0:u[0])||void 0===c?void 0:c.style_type_renderer);if(Object(s.n)(l))return l.attachment.subattachments.map(function(t){var e;return{text:t.card_title.text,actionlink_url:getActionlinkUrl(t),img_url:(e=getImageUri(t.media),null!=e?e:null)}}).map(function(t){var e=t.actionlink_url?Object(o.a)(t.actionlink_url):t.actionlink_url;return a(a({},t),{actionlink_url:e})})},e.q=function getPostType(t){var e,n,r,i,o,a,u,c,l,f=t.node.comet_sections.content.story,p=f.attachments;if(!(null===(e=p)||void 0===e?void 0:e.length)&&!(null===(r=null===(n=f.attached_story)||void 0===n?void 0:n.attachments)||void 0===r?void 0:r.length))return"text";var h=null!==(a=null===(o=null===(i=p)||void 0===i?void 0:i[0])||void 0===o?void 0:o.style_type_renderer)&&void 0!==a?a:null===(l=null===(c=null===(u=f.attached_story)||void 0===u?void 0:u.attachments)||void 0===c?void 0:c[0])||void 0===l?void 0:l.style_type_renderer;if(h){if(Object(s.q)(h))return"video";if(Object(s.l)(h))return"event";if(Object(s.n)(h))return"carousel";if(Object(s.k)(h))return"album";if(Object(s.o)(h))return"photo";if(Object(s.p)(h))return Object(s.m)(h.attachment.story_attachment_link_renderer)?"lead":"link"}return"unknown"};var r=n(27),i=n(128),o=(n.n(i),n(61)),s=n(84),a=this&&this.__assign||function(){return(a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};var u={LIKE:1,ANGRY:8,HAHA:4,LOVE:2,SAD:7,WOW:3};function getOpenActionLinkTitle(t){return"title"in t&&t.title||"link_title"in t&&t.link_title||void 0}function getOpenActionLinkDescription(t){return"link_description"in t&&t.link_description||void 0}function getOpenActionLinkUrl(t){return"url"in t?t.url:void 0}function getImageUri(t){var e,n,r,i,o,s,a;return null!=(s=null!=(i=null!=(n=null===(e=t.flexible_height_share_image)||void 0===e?void 0:e.uri)?n:null===(r=t.large_share_image)||void 0===r?void 0:r.uri)?i:null===(o=t.card_image)||void 0===o?void 0:o.uri)?s:null===(a=t.image)||void 0===a?void 0:a.uri}function getPhotoImageUri(t){return"photo_image"in t?t.photo_image.uri:"image"in t?t.image.uri:void 0}},function(t,e,n){"use strict";e.b=getUserIdAndLocaleAndNameSync,e.a=function getUserIdAndLocaleAndName(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){switch(n.label){case 0:return"function"!=typeof t?[3,2]:[4,getMe(t)];case 1:return e=n.sent(),[3,3];case 2:e=t,n.label=3;case 3:return[2,getUserIdAndLocaleAndNameSync(e)]}})})};var r=n(27),i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(t){try{step(r.next(t))}catch(t){o(t)}}function rejected(t){try{step(r.throw(t))}catch(t){o(t)}}function step(t){t.done?i(t.value):function adopt(t){return t instanceof n?t:new n(function(e){e(t)})}(t.value).then(fulfilled,rejected)}step((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(a){return function step(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};function getFirstMatch(t,e,n){for(var r=0,i=e;r<i.length;r++){var o=i[r],s=t.match(o),a=s&&n(s);if(a)return a}return null}function getMe(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){switch(n.label){case 0:return[4,t("https://www.facebook.com/me?b"+Date.now())];case 1:return e=n.sent(),[2,Object(r.c)(e)]}})})}function getUserIdFromMe(t){return getFirstMatch(t.outerHTML,[/"CurrentUserInitialData".*"USER_ID":"(\d+)"/,/"CurrentUserInitialData".*"ACCOUNT_ID":"(\d+)",/,/"userID":"(\d+)"/],function(t){return t&&t[1]})}function getLocaleFromMe(t){return getFirstMatch(t.outerHTML,[/"LocaleInitialData",\[\],{"locale":"(\w+)"/],function(t){return t&&t[1]})}function getNameFromMe(t){var e;return(null===(e=getFirstMatch(t.outerHTML,[/"NAME":"([^"]+)"/,/{"user":{"name":"([^"]+)"/,/"account_user":{"name":"([^"]+)"/,/{"__typename":"User",.*"name":"([^"]+)"/],function(t){return t&&t[1]}))||void 0===e?void 0:e.replace(/(^\W+)|(\W+$)/,""))||null}function getUserIdAndLocaleAndNameSync(t){return{id:getUserIdFromMe(t),locale:getLocaleFromMe(t),userNameOnlyForAnonymizingTheHTMLDoNotSend:getNameFromMe(t)}}},function(t,e,n){"use strict";var r=n(42);n.d(e,"a",function(){return r.o})},function(t,e,n){"use strict";e.a=function getIdAndLocaleAndName(t){var e,n,i=function getId(t){var e,n;return null!==(n=null!==(e=function getIdFromMeta(){var e=t.querySelector('[property="al:android:url"]');if(e instanceof HTMLMetaElement&&e.content.startsWith("fb://profile/")){var n=e.content.replace("fb://profile/","");return n}}())&&void 0!==e?e:function getIdFromProfileImg(){var e,n,r=t.querySelector("img[id^=profile_pic_header_]");return null===(n=null===(e=r)||void 0===e?void 0:e.id)||void 0===n?void 0:n.replace("profile_pic_header_","")}())&&void 0!==n?n:function getIdFromScript(){var e=t.innerHTML.match(/{"USER_ID":"(\d+)","ACCOUNT_ID":"(\d+)"/);if(e){var n=e[1]||e[2];if(n&&"0"!==n)return n}}()}(t);if(!i){if(t.querySelector("body.UIPage_LoggedOut"))throw new r.a("logged-out","web-old");throw new r.a("other","web-old")}var o=null!==(e=function getName(t){var e;var n=null!==(e=function getNameFromTimelineCoverName(){var e=t.querySelector("#fb-timeline-cover-name, [data-testid=profile_name_in_profile_page]");if(e){var n=e.querySelector(".alternate_name");return n&&n.remove(),e.textContent}}())&&void 0!==e?e:function getNameFromScript(){var e=t.innerHTML.match(/"ACCOUNT_ID":"(\d+)","NAME":"([^"]+)",/);if(e&&e[2])return e[2]}();if(n)return n.replace(/(^\W+)|(\W+$)/,"")}(t))&&void 0!==e?e:null,s=null!==(n=function getLocale(t){var e=t.querySelector("body");if(e instanceof HTMLElement){var n=Array.from(e.classList).find(function(t){return t.startsWith("Locale")});if("string"==typeof n){var r=n.replace("Locale_","");return r}}}(t))&&void 0!==n?n:null;return{id:i,locale:s,userNameOnlyForAnonymizingTheHTMLDoNotSend:o}},e.b=function getInterests(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){switch(n.label){case 0:return[4,t("https://www.facebook.com/ads/profile/interests/?dpr=1",[["X-Requested-With","XMLHttpRequest"]],12e4)];case 1:return e=n.sent(),[2,JSON.parse(e.replace("for (;;);","")).payload.interests]}})})};var r=n(48),i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(t){try{step(r.next(t))}catch(t){o(t)}}function rejected(t){try{step(r.throw(t))}catch(t){o(t)}}function step(t){t.done?i(t.value):function adopt(t){return t instanceof n?t:new n(function(e){e(t)})}(t.value).then(fulfilled,rejected)}step((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(a){return function step(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}},function(t,e,n){"use strict";e.a=function createMeDocumentFetcher(t,e){var n=this;return function(){return o(n,void 0,void 0,function(){var n,o,l;return s(this,function(s){switch(s.label){case 0:return n=Object(i.v)(),o=e(function(t){var e,r,o,s,l,f=void 0!==(null===(e=t.requestHeaders)||void 0===e?void 0:e.find(function(t){return t.name===n}));if(f){var p=[];return"GET"===t.method&&function isRelevantChrome(t){var e=Object(i.o)(t);return e&&e>a}(null===(o=null===(r=t.requestHeaders)||void 0===r?void 0:r.find(function(t){return"user-agent"===t.name.toLowerCase()}))||void 0===o?void 0:o.value)&&void 0!==(null===(s=t.requestHeaders)||void 0===s?void 0:s.find(function(t){return t.name!==u}))&&p.push({name:u,value:c}),{requestHeaders:null===(l=t.requestHeaders)||void 0===l?void 0:l.filter(function(t){return t.name!==n}).concat(p)}}},{urls:["https://www.facebook.com/me*","https://www.facebook.com/profile.php*"]},{blocking:!0,requestHeaders:!0,extraHeaders:!0}),[4,Object(r.b)({fetchText:t,urlString:"https://www.facebook.com/me",addId:"b",headers:[[n,n]]})];case 1:return l=s.sent(),o(),[2,l]}})})}};var r=n(81),i=n(16),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(t){try{step(r.next(t))}catch(t){o(t)}}function rejected(t){try{step(r.throw(t))}catch(t){o(t)}}function step(t){t.done?i(t.value):function adopt(t){return t instanceof n?t:new n(function(e){e(t)})}(t.value).then(fulfilled,rejected)}step((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(a){return function step(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};var a=76,u="sec-fetch-user",c="?1"},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(16),i=function(){function LocationService(t,e,n,r){this.log=t,this.fetchJson=e,this.lastRequest=null,this.locationUrl=n+"?seed="+r,this.lastRequest=this.sendRequest()}return LocationService.prototype.sendRequest=function(){var t=this,e=this.fetchJson(this.locationUrl).catch(function(){return Object(r.A)(500).then(function(){return t.fetchJson(t.locationUrl)})});return e.catch(function(e){t.log.error(e)}),e},LocationService.prototype.getLocation=function(){var t=this;return null===this.lastRequest&&(this.lastRequest=this.sendRequest()),this.lastRequest.catch(function(){t.lastRequest=null}),this.lastRequest},LocationService.prototype.start=function(){var t=this;this.log.info("Starting to get location..."),this.interval=window.setInterval(function(){t.log.info("Periodic refresh of location"),t.lastRequest=null,t.getLocation()},36e5)},LocationService.prototype.stop=function(){this.interval&&(window.clearInterval(this.interval),this.interval=void 0)},LocationService}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r,i=n(16),o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function __(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),s=function(t){function LogReporter(e,n,r){var i=t.call(this,e)||this;return i.logger=e,i.ga=n,i.raven=r,i}return o(LogReporter,t),Object.defineProperty(LogReporter.prototype,"error",{get:function(){return this.errorImpl.bind(this)},enumerable:!0,configurable:!0}),LogReporter.prototype.errorImpl=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],o=e[1];if("string"==typeof r)if(o instanceof Error){this.raven.captureBreadcrumb({message:r,level:"info",category:"console"});var s=[],a={};(o instanceof i.c||o instanceof i.d)&&(s.push(o.shortMessage),s.push(o.requestUrl.replace(/\?.*/g,"?querystringstripped")),o instanceof i.c&&s.push(o.httpCode.toString()),o instanceof i.d&&(a={requestUrl:o.requestUrl,responseURL:o.responseURL,type:o.type})),this.captureException(o,{fingerprint:s,extra:a});var u=exceptionToMessage(o);this.ga("send",{hitType:"event",eventCategory:"Log Reporter: "+r,eventAction:u.message,eventLabel:u.stack,nonInteraction:!0})}else r.startsWith("react data is missing for:")?this.ga("send",{hitType:"event",eventCategory:"react data is missing for",eventAction:r.split(":")[1],eventLabel:"placeholder",nonInteraction:!0}):(this.raven.captureMessage(r),this.ga("send",{hitType:"event",eventCategory:"Log Reporter: "+r,eventAction:"placeholder",eventLabel:"placeholder",nonInteraction:!0}));else if(r instanceof Error){s=[];(r instanceof i.c||r instanceof i.d)&&(s.push(r.shortMessage),s.push(r.requestUrl.replace(/\?.*/g,"?querystringstripped"))),this.captureException(r,{fingerprint:s});u=exceptionToMessage(r);this.ga("send",{hitType:"event",eventCategory:"Log Reporter: Exception",eventAction:u.message,eventLabel:u.stack,nonInteraction:!0})}else if(r instanceof ErrorEvent){u=function errorEventToMessage(t){if(t.error&&t.error instanceof Error)return exceptionToMessage(t.error);return{message:"ErrorEvent! "+t.message,stack:(new Error).stack}}(r);this.ga("send",{hitType:"event",eventCategory:"Log Reporter: ErrorEvent",eventAction:u.message,eventLabel:u.stack,nonInteraction:!0})}(t=this.logger).error.apply(t,e)},LogReporter.prototype.captureException=function(t,e){(function shouldSend(t){return!(t instanceof i.d)})(t)&&this.raven.captureException(t,e)},LogReporter.prototype.captureBreadcrumb=function(t){this.raven.captureBreadcrumb(t)},LogReporter}(function(){function LogConsole(t){this.logger=t}return LogConsole.prototype.captureBreadcrumb=function(t){},Object.defineProperty(LogConsole.prototype,"log",{get:function(){return this.logger.log},enumerable:!0,configurable:!0}),Object.defineProperty(LogConsole.prototype,"info",{get:function(){return this.logger.info},enumerable:!0,configurable:!0}),Object.defineProperty(LogConsole.prototype,"warn",{get:function(){return this.logger.warn},enumerable:!0,configurable:!0}),Object.defineProperty(LogConsole.prototype,"debug",{get:function(){return this.logger.debug},enumerable:!0,configurable:!0}),Object.defineProperty(LogConsole.prototype,"error",{get:function(){return this.logger.error},enumerable:!0,configurable:!0}),LogConsole}());function exceptionToMessage(t){return{message:"exception! name: "+t.name+"| message: "+t.message,stack:"stack: "+t.stack}}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(122),i=n(16),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(t){try{step(r.next(t))}catch(t){o(t)}}function rejected(t){try{step(r.throw(t))}catch(t){o(t)}}function step(t){t.done?i(t.value):function adopt(t){return t instanceof n?t:new n(function(e){e(t)})}(t.value).then(fulfilled,rejected)}step((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(a){return function step(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},a=function(){function PixelService(t,e,n,r,i,o){this.httpClient=t,this.deviceId=e,this.clientId=n,this.log=r,this.storage=i,this.geo=o,this.getFacebookPixel()}return PixelService.prototype.fireAttributionPixelOnInstallIfNeeded=function(t){return o(this,void 0,void 0,function(){var t,e,n;return s(this,function(r){switch(r.label){case 0:return this.storage.attributionPixelOnInstalledEventFired?[3,3]:(this.storage.attributionPixelOnInstalledEventFired=!0,t=getCurrentExtensionHashFromID(this.clientId),(e=h.get(t))?[4,e(this.storage.thirdPartyCookie,this.deviceId,this.geo(this.deviceId))]:[3,2]);case 1:n=r.sent(),this.log.info("About to fire "+n),this.httpClient.get(n,{withCredentials:!0}),r.label=2;case 2:this.triggerFBQ("INSTALL"),r.label=3;case 3:return[2]}})})},PixelService.prototype.fireAttributionOnSponsoredEventIfneeded=function(t){var e=this.storage.sponsoredEventsFiredCount;if(e++,this.storage.sponsoredEventsFiredCount=e,t)switch(e){case 1:this.fireAttributionPixelOnFirstSponsoredEventIfNeeded(t)}var n,r=getCurrentExtensionHashFromID(this.clientId),i=p.get(r);if(i&&(n=i.get(e))){var o=n(this.storage.thirdPartyCookie,this.deviceId);this.log.info("Fire pixel upon "+e+" events "+o),this.httpClient.get(o)}switch(e){case 1:this.triggerFBQ("VIEW_ONE_AD");break;case 3:this.triggerFBQ("VIEW_THREE_ADS");break;case 5:this.triggerFBQ("VIEW_FIVE_ADS");break;case 10:this.triggerFBQ("VIEW_TEN_ADS");break;case 1e3:this.triggerFBQ("VIEW_1K_ADS")}},PixelService.prototype.triggerFBQ=function(t){return o(this,void 0,void 0,function(){var e,n,r;return s(this,function(i){switch(i.label){case 0:return[4,this.getFacebookPixel()];case 1:return(e=i.sent())?void 0===(n=l.get(t))?[2]:(r="function"==typeof n?n(getCurrentExtensionHashFromID(this.clientId)):n,e(r.is_custom?"trackCustom":"track",r.name,r.parameters),[2]):[2]}})})},PixelService.prototype.fireAttributionPixelOnFirstSponsoredEventIfNeeded=function(t){if(!this.storage.attributionPixelOnSponsoredEventFired){this.storage.attributionPixelOnSponsoredEventFired=!0;var e=getCurrentExtensionHashFromID(this.clientId),n=new Map([["4f8bd05394724861c15d6ae4c16e22193019b940","http://cnx.ziggyl.com/?psh="+t]]).get(e);n&&this.httpClient.get(n)}},PixelService.prototype.getFacebookPixel=function(){var t=this;if(null==this.local_fbq){var e=c.get(getCurrentExtensionHashFromID(this.clientId));return e?(this.log.info("Will create fbq with pixel "+e),Object(r.a)(window,document).then(function(n){return t.log.info("Success creating fbq!"),t.local_fbq=function(e,r,i){return t.log.debug("Fire fbq: '"+e+"' , event: '"+r+"', params:",i),n(e,r,i)},t.local_fbq("init",e),t.local_fbq})):(this.local_fbq=null,this.log.info("No need for Facebook pixel"),Promise.resolve(null))}return Promise.resolve(this.local_fbq)},PixelService.prototype.getCookieDomainAndKeyIfNeeded=function(t){var e=getCurrentExtensionHashFromID(t);return f.get(e)},PixelService}(),u="dfdsa@#$!@S4";function getCurrentExtensionHashFromID(t){return i.e.hash(u+t)}var c=new Map([["55d44272945989aeb22962d444aa75db155d4205","365402327179764"],["9990fcdc8ff467a78a4f394fb519e7ef3d8e5e13","633538343512506"],["8db321cfa45dd6beeec8cd618147c807c2688db4","794717750894645"],["d98e5e61822f6b0fd6890cf7542b2dc9649e6385","794717750894645"]]),l=new Map([["INSTALL",function(t){return"d98e5e61822f6b0fd6890cf7542b2dc9649e6385"===t?{name:"Purchase",is_custom:!1,parameters:{value:5,currency:"USD"}}:{name:"Lead",is_custom:!1}}],["VIEW_ONE_AD",{name:"View_one_ad",is_custom:!0}],["VIEW_THREE_ADS",{name:"View_three_ads",is_custom:!0}],["VIEW_FIVE_ADS",{name:"View_five_ads",is_custom:!0}],["VIEW_TEN_ADS",{name:"View_ten_ads",is_custom:!0}],["VIEW_1K_ADS",{name:"View_1000_ads",is_custom:!0}]]),f=new Map([["4f8bd05394724861c15d6ae4c16e22193019b940",{domain:"extisc.unimania.xyz",name:"successInstall"}],["81d0ef8120a54c5c2890df59b11fb9ec7871dc49",{domain:"collection-endpoint-staging.herokuapp.com",name:"refCookie"}],["8db321cfa45dd6beeec8cd618147c807c2688db4",{domain:"collection-endpoint-staging.herokuapp.com",name:"refCookie"}],["71633a5a8765f1dfee057f88bb7de7424674211c",{domain:"stream-it.online",name:"uid"}],["d203d383e012e69e63eb2946da40ef86fec4d400",{domain:"collection-endpoint-staging.herokuapp.com",name:"refCookie"}],["d237ebec5b622f1911d10e8e293710295951aa49",{domain:"collection-endpoint-staging.herokuapp.com",name:"refCookie"}],["f6392926fe4a51fe3c73a82192d95f6fa280df18",{domain:"luc.unimania.xyz",name:"rid"}],["e79da48c752d4e314118e82ac08348adbbf8db67",{domain:"cnt.unimania.xyz",name:"id"}],["3645fedc1644a6ea03ae095f996a20bfbc53fcf9",{domain:"d3qucy43qe5w9i.cloudfront.net",name:"rid"}],["b0d7a25a45d020d60c442b9207239411b5f0445b",{domain:"dd2gkcphvao99.cloudfront.net",name:"id"}],["46da80faf6f55dcfa412f66f34e1f367e81e7d6c",{domain:"d1uw8ix1k8t8cw.cloudfront.net",name:"tk"}]]),p=new Map([["9990fcdc8ff467a78a4f394fb519e7ef3d8e5e13",new Map([[1,function(t,e){return"https://s.mb4a.com/cb/8-95332610_10-2_i7s?ifcontext="+t+"&order_id="+e}],[3,function(t,e){return"https://s.mb4a.com/cb/8-95332646_10-2_bgs?ifcontext="+t+"&order_id="+e}],[5,function(t,e){return"https://s.mb4a.com/cb/8-95332648_10-2_5sj?ifcontext="+t+"&order_id="+e}],[10,function(t,e){return"https://s.mb4a.com/cb/8-95332650_10-2_7op?ifcontext="+t+"&order_id="+e}]])]]),h=new Map([["81d0ef8120a54c5c2890df59b11fb9ec7871dc49",function(t,e,n){return Promise.resolve("http://redirect.topoffer.pw/aff_lsr?transaction_id="+t)}],["9990fcdc8ff467a78a4f394fb519e7ef3d8e5e13",function(t,e,n){return Promise.resolve("https://s.mb4a.com/cb/8-95332058_10-2_nip?ifcontext="+t+"&order_id="+e)}],["8db321cfa45dd6beeec8cd618147c807c2688db4",function(t,e,n){return Promise.resolve("https://s.mb4a.com/cb/8-95332058_10-2_nip?cookie="+t+"&uid="+e)}],["71633a5a8765f1dfee057f88bb7de7424674211c",function(t,e,n){return n.then(function(n){return"http://sendmepixel.com/pixel.aspx?name=stream-it-ff&type=bt_install&entity=26&data1="+e+"&data2="+n+"&barcode=22&userid="+t})}],["3645fedc1644a6ea03ae095f996a20bfbc53fcf9",function(t,e,n){return n.then(function(e){return"https://notch.insights.supply/cb?token=a7efc84f-b7d7-4b29-9a7e-ec913e635a49&RID="+t})}],["f6392926fe4a51fe3c73a82192d95f6fa280df18",function(t,e,n){return n.then(function(e){return"https://notch.insights.supply/cb?token=a7efc84f-b7d7-4b29-9a7e-ec913e635a49&RID="+t})}],["d98e5e61822f6b0fd6890cf7542b2dc9649e6385",function(t,e,n){return n.then(function(t){return"https://action.media6degrees.com/orbserv/nspix?adv=cl1026859&ns=3916&nc=btsync&ncv=47&ptid=122&tpuv=01&tpu="+e.substring(0,40)})}],["82272ed51534e9cfacd2f9fe6da7ad6053197aec",function(t,e,n){return n.then(function(t){return"https://action.media6degrees.com/orbserv/nspix?adv=cl1026859&ns=3916&nc=btsync&ncv=47&ptid=122&tpuv=01&tpu="+e.substring(0,40)})}]])},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function SmartStorage(t,e,n){this.storage=t,this.cryptoObject=e,this.builtInDeviceId=n}return Object.defineProperty(SmartStorage.prototype,"user_opted_out",{get:function(){return this.getFlag("user_opted_out")},set:function(t){this.setFlag("user_opted_out",t)},enumerable:!0,configurable:!0}),Object.defineProperty(SmartStorage.prototype,"secret_random_salt",{get:function(){var t=this.getString("secret_random_salt");if(t)return t;var e=getRandomToken(this.cryptoObject);return this.setString("secret_random_salt",e),e},enumerable:!0,configurable:!0}),Object.defineProperty(SmartStorage.prototype,"attributionPixelOnInstalledEventFired",{get:function(){return this.getFlag("shouldFireAttributionPixelOnInstalledEventLocalStorage")},set:function(t){this.setFlag("shouldFireAttributionPixelOnInstalledEventLocalStorage",t)},enumerable:!0,configurable:!0}),Object.defineProperty(SmartStorage.prototype,"attributionPixelOnSponsoredEventFired",{get:function(){return this.getFlag("shouldFireAttributionPixelOnSponsoredEventLocalStorage")},set:function(t){this.setFlag("shouldFireAttributionPixelOnSponsoredEventLocalStorage",t)},enumerable:!0,configurable:!0}),Object.defineProperty(SmartStorage.prototype,"sponsoredEventsFiredCount",{get:function(){return this.getNumber("sponsoredEventCountLocalStorage")},set:function(t){this.setNumber("sponsoredEventCountLocalStorage",t)},enumerable:!0,configurable:!0}),Object.defineProperty(SmartStorage.prototype,"thirdPartyIdIS",{get:function(){return this.getString("thirdPartyIdIS")},set:function(t){this.setString("thirdPartyIdIS",t)},enumerable:!0,configurable:!0}),Object.defineProperty(SmartStorage.prototype,"thirdPartyCookie",{get:function(){return this.getString("thirdPartyCookie")},set:function(t){this.setString("thirdPartyCookie",t)},enumerable:!0,configurable:!0}),SmartStorage.prototype.GetLastAdActivityTime=function(t){return this.getDate("lastSeenAdActivityDateForUserPrefixV3__"+t)},SmartStorage.prototype.SetLastAdActivityTime=function(t,e){this.setDate("lastSeenAdActivityDateForUserPrefixV3__"+t,e)},Object.defineProperty(SmartStorage.prototype,"isNewInstall",{get:function(){var t=this.getFlag("HasThisExtensionRunBeforeLocalStorageKey_v1");return this.setFlag("HasThisExtensionRunBeforeLocalStorageKey_v1",!0),!t},enumerable:!0,configurable:!0}),Object.defineProperty(SmartStorage.prototype,"lastInstallVersion",{get:function(){var t=this.getString("IsUpdateVersion_v1");return t||""},set:function(t){this.setString("IsUpdateVersion_v1",t)},enumerable:!0,configurable:!0}),SmartStorage.prototype.getDeviceId=function(){if(this.builtInDeviceId)return this.builtInDeviceId;var t=this.storage.getItem("uniqueIdLocalStorageStr"),e=this.getString("uniqueIdLocalStorageStrJSON");return null!==t&&null===e&&(e=t,this.setString("uniqueIdLocalStorageStrJSON",t)),null===e&&(e=getRandomToken(this.cryptoObject),this.setString("uniqueIdLocalStorageStrJSON",e)),e},Object.defineProperty(SmartStorage.prototype,"deviceId",{get:function(){return this.getDeviceId()},enumerable:!0,configurable:!0}),Object.defineProperty(SmartStorage.prototype,"shouldShowFoundPosts",{get:function(){return this.getFlag("ShowFoundPosts")},set:function(t){this.setFlag("ShowFoundPosts",t)},enumerable:!0,configurable:!0}),Object.defineProperty(SmartStorage.prototype,"lastInterestsSend",{get:function(){return this.getDate("lastIntrestsSend-2")},set:function(t){this.setDate("lastIntrestsSend-2",t)},enumerable:!0,configurable:!0}),SmartStorage.prototype.getString=function(t){if(!(t in this.storage))return null;var e=this.storage.getItem(t);return null===e?null:('"'!==e.charAt(0)&&(e='"'+e+'"'),JSON.parse(e))},SmartStorage.prototype.setString=function(t,e){return this.storage.setItem(t,JSON.stringify(e))},SmartStorage.prototype.getNumber=function(t){var e=this.storage.getItem(t);return e?JSON.parse(e):0},SmartStorage.prototype.setNumber=function(t,e){this.storage.setItem(t,JSON.stringify(e))},SmartStorage.prototype.getFlag=function(t){return this.storage.getItem(t)&&"false"!==this.storage.getItem(t)||this.storage.setItem(t,JSON.stringify(!1)),JSON.parse(this.storage.getItem(t))},SmartStorage.prototype.setFlag=function(t,e){this.storage.setItem(t,JSON.stringify(e))},SmartStorage.prototype.getDate=function(t){var e=new Date(this.storage.getItem(t));return isNaN(e.getTime())&&(e=new Date(0),this.storage.setItem(t,e.toJSON())),e},SmartStorage.prototype.setDate=function(t,e){this.storage.setItem(t,e.toJSON())},SmartStorage}();function getRandomToken(t){var e=new Uint8Array(32),n="";t.getRandomValues(e);for(var r=0;r<e.length;++r)n+=e[r].toString(16);return n}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(20),i=function(){return function YouTubeTracker(t,e){var n=this;this.log=t,this.sponsoredYTVideosSubscription=new r.d,e(function(t){var e=t.url.search("\\?"),r=t.url.slice(e);if(e){var i=new URLSearchParams(r),o=Array.from(i).reduce(function(t,e){var n=e[0],r=e[1];return t[n]=r,t},{});n.log.debug("Found new video with ID="+o.video_id+" url "+t.url+"\n",o),o.pltype&&"content"!==o.pltype&&"contentugc"!==o.pltype&&"contentlive"!==o.pltype&&"contentugclive"!==o.pltype&&o.video_id&&n.sponsoredYTVideosSubscription.next({id:o.video_id,host_type:o.pltype})}},["https://www.youtube.com/ptracking*"])}}()},function(t,e,n){"use strict";var r=n(20),i=n(42),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(t){try{step(r.next(t))}catch(t){o(t)}}function rejected(t){try{step(r.throw(t))}catch(t){o(t)}}function step(t){t.done?i(t.value):function adopt(t){return t instanceof n?t:new n(function(e){e(t)})}(t.value).then(fulfilled,rejected)}step((r=r.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(a){return function step(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};!function(){function MobileFacebookScraper(t,e){this.log=t,this.http=e,this.sponsoredMobileFacebookPostsSubscription=new r.d,this.getPosts(),this.scheduleAndGetEvents()}MobileFacebookScraper.prototype.scheduleAndGetEvents=function(){var t=this,e=Math.round(1440*Math.random())+1;this.log.info("Will get new events in "+e+" minutes"),window.setTimeout(function(){t.getPosts(),t.scheduleAndGetEvents()},60*e*1e3)},MobileFacebookScraper.prototype.getPosts=function(){return s(this,void 0,void 0,function(){var t,e,n,r,s,u,c,l,f,p,h,d,_,b,v,y,m,g,w,S,O,x,E;return a(this,function(a){switch(a.label){case 0:this.log.info("Trying to get events as mobile..."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.http.get("https://m.facebook.com")];case 2:for(t=a.sent(),(e=document.createElement("div")).innerHTML=t.data,n=null,r=0,s=Array.from(e.querySelectorAll("script"));r<s.length;r++)if(d=s[r],_=d.text.match(/ServerJSDefine"\)\).handleDefines\((.*?)\)\;/))try{for(b=JSON.parse(_[1]),u=0,c=b;u<c.length;u++)if("CurrentUserInitialData"===(l=c[u])[0]&&l.length>2&&(f=l[2]).USER_ID){n=f.USER_ID;break}}catch(t){this.log.info("Couldn't parse userid",t)}if(n)for(p=0,h=Array.from(e.querySelectorAll("script"));p<h.length;p++)if(d=h[p],_=d.text.match(/^require\("MRenderingScheduler"\).getInstance\(\).schedule\(({.*}),.*function.*\);?$/))try{if((b=JSON.parse(_[1])).content&&b.content.__html)for((v=document.createElement("div")).innerHTML=b.content.__html,y=v.querySelectorAll("article"),m=new i.i(this.log,"mobile"),g=0,w=Array.from(y);g<w.length;g++)S=w[g],m.isStorySponsored(S)&&(O=m.parseSponsoredFeedStory(S,[]),x=o({fb_post_width:null,fb_post_height:null,fb_user_id:n},O),this.sponsoredMobileFacebookPostsSubscription.next(x))}catch(t){this.log.info("Couldn't parse articles.")}return[3,4];case 3:return E=a.sent(),this.log.info("General error during getPorst",E),[3,4];case 4:return[2]}})})}}()},function(t,e,n){"use strict";e.b=function captureNeededRequestParams(t){return new Promise(function(e,n){var r=t(function(t){t.url.indexOf("?");if(t.requestBody&&t.requestBody.formData){var n=t.requestBody.formData[u]&&t.requestBody.formData[u][0],i=t.requestBody.formData[c]&&t.requestBody.formData[c][0],o=t.requestBody.formData[l]&&t.requestBody.formData[l][0];o&&n&&i&&n.length>120&&(r(),e({dyn:n,user:i,dtsg:o}))}},{urls:["https://www.facebook.com/*"],types:["xmlhttprequest"]})})},n.d(e,"a",function(){return p});var r=n(20),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(t){try{step(r.next(t))}catch(t){o(t)}}function rejected(t){try{step(r.throw(t))}catch(t){o(t)}}function step(t){t.done?i(t.value):function adopt(t){return t instanceof n?t:new n(function(e){e(t)})}(t.value).then(fulfilled,rejected)}step((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(a){return function step(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},a=this&&this.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},verb("next"),verb("throw"),verb("return"),e[Symbol.asyncIterator]=function(){return this},e);function verb(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){(function settle(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)})(r,i,(e=t[n](e)).done,e.value)})}}},u="__dyn",c="__user",l="fb_dtsg";function regexMatcherFactory(t,e){return function(n){var r=n.match(t);if(r&&r.length==e.length+1){for(var i=new Map,o=0;o<e.length;o++)i.set(e[o],r[1+o]);return i}return null}}var f=[regexMatcherFactory(/\/(.*)\/posts\/([0-9]*)/,["fb_post_advertiser_page_id","entityId"]),regexMatcherFactory(/\/(.*)\/videos\/([0-9]*)/,["fb_post_advertiser_page_id","entityId"]),regexMatcherFactory(/story_fbid=([0-9]*)&id=([0-9]*)&?/,["entityId","fb_post_advertiser_page_entity_id"]),regexMatcherFactory(/\/(.*)\/photos\/.*\/([0-9]*)\/\?type=[0-9].*/,["fb_post_advertiser_page_id","entityId"])];var p=function(){function AdActivityTracker(t,e,n,i){var o=this;if(this.log=t,this.httpClient=e,this.getNeededRequestParams=n,this.adActivitySubscription=new r.d,i){var s=Math.floor(1*Math.random()*24*60*60*1e3);window.setTimeout(function(){return o.start()},s)}else this.start()}return AdActivityTracker.prototype.start=function(){var t=this;this.log.info("Trying to fetch new posts..."),this.getNeededRequestParams.then(function(e){var n=e.dyn,r=e.user,i=e.dtsg;t.getPosts(n,r,i).then(function(e){e.forEach(function(e){return t.adActivitySubscription.next(e)})}),t.log.debug("Unregistering.... will try again in 1 week"),t.nextEventFetchTimeout=window.setTimeout(function(){return t.start()},6048e5)})},AdActivityTracker.prototype.getPosts=function(t,e,n){var r,u;return o(this,void 0,void 0,function(){var o,c,l,p,d,_,b,v,y,m,g,w,S,O,x,E,k,j,T,I,A,C,P,M,L,F;return s(this,function(s){switch(s.label){case 0:o=new h(this.httpClient,t,e,n),c=[],(l=new URLSearchParams).set("__user",e),l.set("__a","1"),l.set("fb_dtsg",n),l.set("__dyn",t),p=10,s.label=1;case 1:s.trys.push([1,14,15,20]),d=a(o),s.label=2;case 2:return[4,d.next()];case 3:if((_=s.sent()).done)return[3,13];if(b=_.value,0==p--||void 0===b)return[3,13];for(y in v=[],b)v.push(y);m=0,s.label=4;case 4:if(!(m<v.length))return[3,12];g=v[m],w=void 0,S=0,O=["https://www.facebook.com/click_activity/preview_contents/?ad_id="+g+"&image_height=78&image_width=150&dpr=2","https://www.facebook.com/ad_activity/ad_preview_contents/?ad_id="+g+"&image_height=78&image_width=150&dpr=2"],s.label=5;case 5:if(!(S<O.length))return[3,10];x=O[S],s.label=6;case 6:return s.trys.push([6,8,,9]),[4,this.httpClient.post(x,l.toString())];case 7:return""!==(w=s.sent())?[3,10]:[3,9];case 8:return s.sent(),[3,9];case 9:return S++,[3,5];case 10:if(!w)throw new Error("No ad_activity/click_activity valid url");if((E=w.match(/for \(;;\);(.*)/))&&E[1]&&(k=JSON.parse(E[1])).payload){if(this.log.debug("new data",k.payload),j=null,T=null,I=null,k.payload.contents)for(A=0,C=f;A<C.length;A++)(P=(0,C[A])(k.payload.contents.storyURI))&&(!j&&P.has("entityId")&&(j=P.get("entityId")),!T&&P.has("fb_post_advertiser_page_id")&&(T=P.get("fb_post_advertiser_page_id")),!I&&P.has("entityId")&&(I=P.get("fb_post_advertiser_page_entity_id")));if(!j||!k.payload.contents)throw this.log.captureBreadcrumb({message:"storyURI",data:k.payload.contents}),this.log.error(new Error("Encoutered a bad storyURI")),new Error("Encoutered a bad storyURI");M=b[g].date,L=i(i({},k.payload.contents),{dateClicked:new Date(1e3*Number.parseInt(M)),userId:e,entityId:j,fb_post_advertiser_page_id:T,fb_post_advertiser_page_entity_id:I}),this.log.debug("Found new entId",L),c.push(L)}s.label=11;case 11:return m++,[3,4];case 12:return[3,2];case 13:return[3,20];case 14:return F=s.sent(),r={error:F},[3,20];case 15:return s.trys.push([15,,18,19]),_&&!_.done&&(u=d.return)?[4,u.call(d)]:[3,17];case 16:s.sent(),s.label=17;case 17:return[3,19];case 18:if(r)throw r.error;return[7];case 19:return[7];case 20:return[2,c.sort(function(t,e){return t.dateClicked>e.dateClicked?1:-1})]}})})},AdActivityTracker}();Symbol.asyncIterator||(Symbol.asyncIterator=Symbol.for("Symbol.asyncIterator"));var h=function(){function AdsActivityPagesIterator(t,e,n,r){this.httpClient=t,this.dyn=e,this.user=n,this.dtsg=r,this.last_item_served_hash=void 0,this.hasMore=!0,this.ongoingRequest=!1}return AdsActivityPagesIterator.prototype[Symbol.asyncIterator]=function(){return this},AdsActivityPagesIterator.prototype.next=function(){return o(this,void 0,void 0,function(){var t,e,n,r,i,o,a;return s(this,function(s){switch(s.label){case 0:if(this.ongoingRequest)throw new Error("You must wait the last operation to complete");if(!this.hasMore)return[2,{value:void 0,done:!0}];(t=new URLSearchParams).set(u,this.dyn),t.set(c,this.user),t.set(l,this.dtsg),t.set("__a","1"),t.set("dpr","2"),this.last_item_served_hash&&(t.set("see_more_type","adClicks"),t.set("last_item_served_hash",this.last_item_served_hash)),this.ongoingRequest=!0,s.label=1;case 1:s.trys.push([1,,8,9]),e=void 0,n=0,r=["https://www.facebook.com/business_integrity/purchase_history/purchase_history_row_data/","https://www.facebook.com/ads_integrity/purchase_history/purchase_history_row_data/"],s.label=2;case 2:if(!(n<r.length))return[3,7];i=r[n],s.label=3;case 3:return s.trys.push([3,5,,6]),[4,this.httpClient.post(i,t.toString())];case 4:return e=s.sent(),[3,7];case 5:return s.sent(),[3,6];case 6:return n++,[3,2];case 7:if(!e)throw new Error("No business_integrity/ads_integrity valid url");if(!e)throw new Error("purchase_history.data empty");if(!(o=e.match(/for \(;;\);(.*)/))||!o[1])throw new Error("invalid purchase_history.data payload");return(a=JSON.parse(o[1])).payload&&a.payload.click_history?(this.hasMore=a.payload.click_history.has_more_items,this.last_item_served_hash=a.payload.click_history.last_item_served_hash,[2,{value:a.payload.click_history.history_rows,done:!1}]):(this.hasMore=!1,[2,{value:void 0,done:!0}]);case 8:return this.ongoingRequest=!1,[7];case 9:return[2]}})})},AdsActivityPagesIterator}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t,e,n){return function(){}}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var r,i,o,s=n(487),a=n(49),u=n(72),c=n(102),l=n(63),f=n(272),p=n(274),h=a.WeakMap;if(s){var d=new h,_=d.get,b=d.has,v=d.set;r=function(t,e){return v.call(d,t,e),e},i=function(t){return _.call(d,t)||{}},o=function(t){return b.call(d,t)}}else{var y=f("state");p[y]=!0,r=function(t,e){return c(t,y,e),e},i=function(t){return l(t,y)?t[y]:{}},o=function(t){return l(t,y)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){var r=n(49),i=n(102);t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(72);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(426),i=n(427),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e){t.exports=!1},function(t,e){t.exports={}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(85),i=n(33),o=n(131),s=function(t){return function(e,n,s){var a,u=r(e),c=i(u.length),l=o(s,c);if(t&&n!=n){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var r=n(158);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},,,,,,,function(t,e,n){"use strict";var r=n(297);n.d(e,"a",function(){return r.a});n(380)},function(t,e,n){t.exports=n(382)},,,,,,,,,,,function(t,e,n){"use strict";e.a=function retryBackoff(t){var e="number"==typeof t?{initialInterval:t}:t,n=e.initialInterval,s=e.maxRetries,a=void 0===s?1/0:s,u=e.maxInterval,c=void 0===u?1/0:u,l=e.shouldRetry,f=void 0===l?function(){return!0}:l,p=e.backoffDelay,h=void 0===p?o.a:p;return function(t){return t.pipe(Object(i.n)(function(t){return t.pipe(Object(i.d)(function(t,e){return Object(r.k)(function(){return e<a&&f(t)},Object(r.o)(Object(o.b)(h(e,n),c)),Object(r.n)(t))}))}))}};var r=n(20),i=n(34),o=n(167)},function(t,e,n){"use strict";n(21),n(160),n(147)},function(t,e,n){"use strict";var r=n(3),i=n(10),o=n(11);i.a},function(t,e,n){"use strict";e.a=function bufferCount(t,e){void 0===e&&(e=null);return function bufferCountOperatorFunction(n){return n.lift(new o(t,e))}};var r=n(3),i=n(5);var o=function(){function BufferCountOperator(t,e){this.bufferSize=t,this.startBufferEvery=e,this.subscriberClass=e&&t!==e?a:s}return BufferCountOperator.prototype.call=function(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))},BufferCountOperator}(),s=function(t){function BufferCountSubscriber(e,n){var r=t.call(this,e)||this;return r.bufferSize=n,r.buffer=[],r}return r.a(BufferCountSubscriber,t),BufferCountSubscriber.prototype._next=function(t){var e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])},BufferCountSubscriber.prototype._complete=function(){var e=this.buffer;e.length>0&&this.destination.next(e),t.prototype._complete.call(this)},BufferCountSubscriber}(i.a),a=function(t){function BufferSkipCountSubscriber(e,n,r){var i=t.call(this,e)||this;return i.bufferSize=n,i.startBufferEvery=r,i.buffers=[],i.count=0,i}return r.a(BufferSkipCountSubscriber,t),BufferSkipCountSubscriber.prototype._next=function(t){var e=this.bufferSize,n=this.startBufferEvery,r=this.buffers,i=this.count;this.count++,i%n==0&&r.push([]);for(var o=r.length;o--;){var s=r[o];s.push(t),s.length===e&&(r.splice(o,1),this.destination.next(s))}},BufferSkipCountSubscriber.prototype._complete=function(){for(var e=this.buffers,n=this.destination;e.length>0;){var r=e.shift();r.length>0&&n.next(r)}t.prototype._complete.call(this)},BufferSkipCountSubscriber}(i.a)},function(t,e,n){"use strict";e.a=function bufferTime(t){var e=arguments.length,n=i.a;Object(s.a)(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],e--);var r=null;e>=2&&(r=arguments[1]);var o=Number.POSITIVE_INFINITY;e>=3&&(o=arguments[2]);return function bufferTimeOperatorFunction(e){return e.lift(new a(t,r,o,n))}};var r=n(3),i=n(21),o=n(5),s=n(30);var a=function(){function BufferTimeOperator(t,e,n,r){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=n,this.scheduler=r}return BufferTimeOperator.prototype.call=function(t,e){return e.subscribe(new c(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},BufferTimeOperator}(),u=function(){return function Context(){this.buffer=[]}}(),c=function(t){function BufferTimeSubscriber(e,n,r,i,o){var s=t.call(this,e)||this;s.bufferTimeSpan=n,s.bufferCreationInterval=r,s.maxBufferSize=i,s.scheduler=o,s.contexts=[];var a=s.openContext();if(s.timespanOnly=null==r||r<0,s.timespanOnly){var u={subscriber:s,context:a,bufferTimeSpan:n};s.add(a.closeAction=o.schedule(dispatchBufferTimeSpanOnly,n,u))}else{var c={subscriber:s,context:a},l={bufferTimeSpan:n,bufferCreationInterval:r,subscriber:s,scheduler:o};s.add(a.closeAction=o.schedule(dispatchBufferClose,n,c)),s.add(o.schedule(dispatchBufferCreation,r,l))}return s}return r.a(BufferTimeSubscriber,t),BufferTimeSubscriber.prototype._next=function(t){for(var e,n=this.contexts,r=n.length,i=0;i<r;i++){var o=n[i],s=o.buffer;s.push(t),s.length==this.maxBufferSize&&(e=o)}e&&this.onBufferFull(e)},BufferTimeSubscriber.prototype._error=function(e){this.contexts.length=0,t.prototype._error.call(this,e)},BufferTimeSubscriber.prototype._complete=function(){for(var e=this.contexts,n=this.destination;e.length>0;){var r=e.shift();n.next(r.buffer)}t.prototype._complete.call(this)},BufferTimeSubscriber.prototype._unsubscribe=function(){this.contexts=null},BufferTimeSubscriber.prototype.onBufferFull=function(t){this.closeContext(t);var e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();var n=this.bufferTimeSpan,r={subscriber:this,context:t,bufferTimeSpan:n};this.add(t.closeAction=this.scheduler.schedule(dispatchBufferTimeSpanOnly,n,r))}},BufferTimeSubscriber.prototype.openContext=function(){var t=new u;return this.contexts.push(t),t},BufferTimeSubscriber.prototype.closeContext=function(t){this.destination.next(t.buffer);var e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)},BufferTimeSubscriber}(o.a);function dispatchBufferTimeSpanOnly(t){var e=t.subscriber,n=t.context;n&&e.closeContext(n),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function dispatchBufferCreation(t){var e=t.bufferCreationInterval,n=t.bufferTimeSpan,r=t.subscriber,i=t.scheduler,o=r.openContext();r.closed||(r.add(o.closeAction=i.schedule(dispatchBufferClose,n,{subscriber:r,context:o})),this.schedule(t,e))}function dispatchBufferClose(t){var e=t.subscriber,n=t.context;e.closeContext(n)}},function(t,e,n){"use strict";var r=n(3),i=n(14),o=n(11),s=n(10);s.a},function(t,e,n){"use strict";var r=n(3),i=n(14),o=n(10),s=n(11);o.a},function(t,e,n){"use strict";e.a=function catchError(t){return function catchErrorOperatorFunction(e){var n=new a(t),r=e.lift(n);return n.caught=r}};var r=n(3),i=n(10),o=n(35),s=n(11);var a=function(){function CatchOperator(t){this.selector=t}return CatchOperator.prototype.call=function(t,e){return e.subscribe(new u(t,this.selector,this.caught))},CatchOperator}(),u=function(t){function CatchSubscriber(e,n,r){var i=t.call(this,e)||this;return i.selector=n,i.caught=r,i}return r.a(CatchSubscriber,t),CatchSubscriber.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle();var r=new o.a(this,void 0,void 0);this.add(r),Object(s.a)(this,n,void 0,void 0,r)}},CatchSubscriber}(i.a)},function(t,e,n){"use strict";n(99)},function(t,e,n){"use strict";n(17),n(99),n(31)},function(t,e,n){"use strict";n(73)},function(t,e,n){"use strict";n(161)},function(t,e,n){"use strict";var r=n(3),i=n(5);i.a},function(t,e,n){"use strict";var r=n(3),i=n(10),o=n(11);i.a},function(t,e,n){"use strict";e.a=function debounceTime(t,e){void 0===e&&(e=o.a);return function(n){return n.lift(new s(t,e))}};var r=n(3),i=n(5),o=n(21);var s=function(){function DebounceTimeOperator(t,e){this.dueTime=t,this.scheduler=e}return DebounceTimeOperator.prototype.call=function(t,e){return e.subscribe(new a(t,this.dueTime,this.scheduler))},DebounceTimeOperator}(),a=function(t){function DebounceTimeSubscriber(e,n,r){var i=t.call(this,e)||this;return i.dueTime=n,i.scheduler=r,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return r.a(DebounceTimeSubscriber,t),DebounceTimeSubscriber.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(dispatchNext,this.dueTime,this))},DebounceTimeSubscriber.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},DebounceTimeSubscriber.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},DebounceTimeSubscriber.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},DebounceTimeSubscriber}(i.a);function dispatchNext(t){t.debouncedNext()}},function(t,e,n){"use strict";var r=n(3),i=(n(21),n(162),n(5)),o=n(68);i.a;var s=function(){return function DelayMessage(t,e){this.time=t,this.notification=e}}()},function(t,e,n){"use strict";var r=n(3),i=n(5),o=n(6),s=n(10),a=n(11);s.a,o.a;var u=function(t){function SubscriptionDelaySubscriber(e,n){var r=t.call(this)||this;return r.parent=e,r.source=n,r.sourceSubscribed=!1,r}return r.a(SubscriptionDelaySubscriber,t),SubscriptionDelaySubscriber.prototype._next=function(t){this.subscribeToSource()},SubscriptionDelaySubscriber.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},SubscriptionDelaySubscriber.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},SubscriptionDelaySubscriber.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},SubscriptionDelaySubscriber}(i.a)},function(t,e,n){"use strict";var r=n(3),i=n(5);i.a},function(t,e,n){"use strict";var r=n(3),i=n(10),o=n(11);i.a},function(t,e,n){"use strict";n(163)},function(t,e,n){"use strict";n(57),n(51),n(93),n(70),n(116)},function(t,e,n){"use strict";n(73),n(66)},function(t,e,n){"use strict";var r=n(3),i=n(5);i.a},function(t,e,n){"use strict";var r=n(3),i=n(10),o=n(11);i.a},function(t,e,n){"use strict";var r=n(3),i=n(10),o=n(35),s=n(11);n(26),n(31);i.a},function(t,e,n){"use strict";e.a=function expand(t,e,n){void 0===e&&(e=Number.POSITIVE_INFINITY);void 0===n&&(n=void 0);return e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(r){return r.lift(new s(t,e,n))}};var r=n(3),i=n(10),o=n(11);var s=function(){function ExpandOperator(t,e,n){this.project=t,this.concurrent=e,this.scheduler=n}return ExpandOperator.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.concurrent,this.scheduler))},ExpandOperator}(),a=function(t){function ExpandSubscriber(e,n,r,i){var o=t.call(this,e)||this;return o.project=n,o.concurrent=r,o.scheduler=i,o.index=0,o.active=0,o.hasCompleted=!1,r<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return r.a(ExpandSubscriber,t),ExpandSubscriber.dispatch=function(t){var e=t.subscriber,n=t.result,r=t.value,i=t.index;e.subscribeToProjection(n,r,i)},ExpandSubscriber.prototype._next=function(t){var e=this.destination;if(e.closed)this._complete();else{var n=this.index++;if(this.active<this.concurrent){e.next(t);try{var r=(0,this.project)(t,n);if(this.scheduler){var i={subscriber:this,result:r,value:t,index:n};this.destination.add(this.scheduler.schedule(ExpandSubscriber.dispatch,0,i))}else this.subscribeToProjection(r,t,n)}catch(t){e.error(t)}}else this.buffer.push(t)}},ExpandSubscriber.prototype.subscribeToProjection=function(t,e,n){this.active++,this.destination.add(Object(o.a)(this,t,e,n))},ExpandSubscriber.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},ExpandSubscriber.prototype.notifyNext=function(t,e,n,r,i){this._next(e)},ExpandSubscriber.prototype.notifyComplete=function(t){var e=this.buffer;this.destination.remove(t),this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},ExpandSubscriber}(i.a)},function(t,e,n){"use strict";var r=n(3),i=n(5),o=n(14);i.a},function(t,e,n){"use strict";n(164)},function(t,e,n){"use strict";n(58),n(51),n(116),n(70),n(93),n(43)},function(t,e,n){"use strict";var r=n(3),i=n(5);i.a},function(t,e,n){"use strict";var r=n(3),i=n(5);i.a},function(t,e,n){"use strict";n(58),n(51),n(117),n(93),n(70),n(43)},function(t,e,n){"use strict";e.a=function mapTo(t){return function(e){return e.lift(new o(t))}};var r=n(3),i=n(5);var o=function(){function MapToOperator(t){this.value=t}return MapToOperator.prototype.call=function(t,e){return e.subscribe(new s(t,this.value))},MapToOperator}(),s=function(t){function MapToSubscriber(e,n){var r=t.call(this,e)||this;return r.value=n,r}return r.a(MapToSubscriber,t),MapToSubscriber.prototype._next=function(t){this.destination.next(this.value)},MapToSubscriber}(i.a)},function(t,e,n){"use strict";var r=n(3),i=n(5),o=n(68);i.a},function(t,e,n){"use strict";n(94)},function(t,e,n){"use strict";n(144)},function(t,e,n){"use strict";n(59)},function(t,e,n){"use strict";var r=n(3),i=n(11),o=n(10),s=n(35);o.a},function(t,e,n){"use strict";n(94)},function(t,e,n){"use strict";var r=n(3),i=(n(31),n(17),n(10)),o=n(35),s=n(11);i.a},function(t,e,n){"use strict";e.a=function pairwise(){return function(t){return t.lift(new o)}};var r=n(3),i=n(5);var o=function(){function PairwiseOperator(){}return PairwiseOperator.prototype.call=function(t,e){return e.subscribe(new s(t))},PairwiseOperator}(),s=function(t){function PairwiseSubscriber(e){var n=t.call(this,e)||this;return n.hasPrev=!1,n}return r.a(PairwiseSubscriber,t),PairwiseSubscriber.prototype._next=function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)},PairwiseSubscriber}(i.a)},function(t,e,n){"use strict";n(145),n(51)},function(t,e,n){"use strict";n(26)},function(t,e,n){"use strict";n(19),n(54)},function(t,e,n){"use strict";n(139),n(54)},function(t,e,n){"use strict";n(67),n(54)},function(t,e,n){"use strict";n(98),n(54)},function(t,e,n){"use strict";n(17),n(146)},function(t,e,n){"use strict";var r=n(3),i=n(5);n(29);i.a},function(t,e,n){"use strict";var r=n(3),i=n(19),o=n(10),s=n(11);o.a},function(t,e,n){"use strict";var r=n(3),i=n(5);i.a},function(t,e,n){"use strict";e.a=function retryWhen(t){return function(e){return e.lift(new a(t,e))}};var r=n(3),i=n(19),o=n(10),s=n(11);var a=function(){function RetryWhenOperator(t,e){this.notifier=t,this.source=e}return RetryWhenOperator.prototype.call=function(t,e){return e.subscribe(new u(t,this.notifier,this.source))},RetryWhenOperator}(),u=function(t){function RetryWhenSubscriber(e,n,r){var i=t.call(this,e)||this;return i.notifier=n,i.source=r,i}return r.a(RetryWhenSubscriber,t),RetryWhenSubscriber.prototype.error=function(e){if(!this.isStopped){var n=this.errors,r=this.retries,o=this.retriesSubscription;if(r)this.errors=null,this.retriesSubscription=null;else{n=new i.a;try{r=(0,this.notifier)(n)}catch(e){return t.prototype.error.call(this,e)}o=Object(s.a)(this,r)}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=o,n.next(e)}},RetryWhenSubscriber.prototype._unsubscribe=function(){var t=this.errors,e=this.retriesSubscription;t&&(t.unsubscribe(),this.errors=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},RetryWhenSubscriber.prototype.notifyNext=function(t,e,n,r,i){var o=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=o,this.source.subscribe(this)},RetryWhenSubscriber}(o.a)},function(t,e,n){"use strict";var r=n(3),i=n(10);n(11);i.a},function(t,e,n){"use strict";var r=n(3),i=n(5);n(21);i.a;function dispatchNotification(t){var e=t.subscriber,n=t.period;e.notifyNext(),this.schedule(t,n)}},function(t,e,n){"use strict";var r=n(3),i=n(5);i.a;var o=function(t){function SequenceEqualCompareToSubscriber(e,n){var r=t.call(this,e)||this;return r.parent=n,r}return r.a(SequenceEqualCompareToSubscriber,t),SequenceEqualCompareToSubscriber.prototype._next=function(t){this.parent.nextB(t)},SequenceEqualCompareToSubscriber.prototype._error=function(t){this.parent.error(t),this.unsubscribe()},SequenceEqualCompareToSubscriber.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},SequenceEqualCompareToSubscriber}(i.a)},function(t,e,n){"use strict";n(54),n(97),n(19)},function(t,e,n){"use strict";e.a=function shareReplay(t,e,n){var i;i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n};return function(t){return t.lift(function shareReplayOperator(t){var e,n,i=t.bufferSize,o=void 0===i?Number.POSITIVE_INFINITY:i,s=t.windowTime,a=void 0===s?Number.POSITIVE_INFINITY:s,u=t.refCount,c=t.scheduler,l=0,f=!1,p=!1;return function shareReplayOperation(t){l++,e&&!f||(f=!1,e=new r.a(o,a,c),n=t.subscribe({next:function(t){e.next(t)},error:function(t){f=!0,e.error(t)},complete:function(){p=!0,e.complete()}}));var i=e.subscribe(this);this.add(function(){l--,i.unsubscribe(),n&&!p&&u&&0===l&&(n.unsubscribe(),n=void 0,e=void 0)})}}(i))}};var r=n(98)},function(t,e,n){"use strict";var r=n(3),i=n(5),o=n(58);i.a},function(t,e,n){"use strict";var r=n(3),i=n(5);i.a},function(t,e,n){"use strict";var r=n(3),i=n(5);n(57);i.a},function(t,e,n){"use strict";var r=n(3),i=n(10),o=n(35),s=n(11);i.a},function(t,e,n){"use strict";var r=n(3),i=n(5);i.a},function(t,e,n){"use strict";e.a=function startWith(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return Object(i.a)(n)?(t.pop(),function(e){return Object(r.a)(t,e,n)}):function(e){return Object(r.a)(t,e)}};var r=n(73),i=n(30)},function(t,e,n){"use strict";n(361)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(3),i=n(6),o=n(141),s=n(69),a=function(t){function SubscribeOnObservable(e,n,r){void 0===n&&(n=0),void 0===r&&(r=o.a);var i=t.call(this)||this;return i.source=e,i.delayTime=n,i.scheduler=r,(!Object(s.a)(n)||n<0)&&(i.delayTime=0),r&&"function"==typeof r.schedule||(i.scheduler=o.a),i}return r.a(SubscribeOnObservable,t),SubscribeOnObservable.create=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=o.a),new SubscribeOnObservable(t,e,n)},SubscribeOnObservable.dispatch=function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))},SubscribeOnObservable.prototype._subscribe=function(t){var e=this.delayTime,n=this.source;return this.scheduler.schedule(SubscribeOnObservable.dispatch,e,{source:n,subscriber:t})},SubscribeOnObservable}(i.a)},function(t,e,n){"use strict";n(119),n(43)},function(t,e,n){"use strict";e.a=function switchMapTo(t,e){return e?Object(r.a)(function(){return t},e):Object(r.a)(function(){return t})};var r=n(119)},function(t,e,n){"use strict";var r=n(3),i=n(10);n(11);i.a},function(t,e,n){"use strict";var r=n(3),i=n(5);i.a},function(t,e,n){"use strict";e.a=function tap(t,e,n){return function tapOperatorFunction(r){return r.lift(new a(t,e,n))}};var r=n(3),i=n(5),o=n(65),s=n(50);var a=function(){function DoOperator(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return DoOperator.prototype.call=function(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))},DoOperator}(),u=function(t){function TapSubscriber(e,n,r,i){var a=t.call(this,e)||this;return a._tapNext=o.a,a._tapError=o.a,a._tapComplete=o.a,a._tapError=r||o.a,a._tapComplete=i||o.a,Object(s.a)(n)?(a._context=a,a._tapNext=n):n&&(a._context=n,a._tapNext=n.next||o.a,a._tapError=n.error||o.a,a._tapComplete=n.complete||o.a),a}return r.a(TapSubscriber,t),TapSubscriber.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},TapSubscriber.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},TapSubscriber.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},TapSubscriber}(i.a)},function(t,e,n){"use strict";var r=n(3),i=n(5);n(21),n(165);i.a;function dispatchNext(t){t.subscriber.clearThrottle()}},function(t,e,n){"use strict";n(21),n(118),n(92),n(26)},function(t,e,n){"use strict";n(21),n(142),n(166),n(90)},function(t,e,n){"use strict";n(21),n(26)},function(t,e,n){"use strict";n(94)},function(t,e,n){"use strict";var r=n(3),i=n(19),o=n(10);n(11);o.a},function(t,e,n){"use strict";var r=n(3),i=n(5),o=n(19);i.a},function(t,e,n){"use strict";var r=n(3),i=n(19),o=(n(21),n(5));n(69),n(30);var s=function(t){function CountedSubject(){var e=null!==t&&t.apply(this,arguments)||this;return e._numberOfNextedValues=0,e}return r.a(CountedSubject,t),CountedSubject.prototype.next=function(e){this._numberOfNextedValues++,t.prototype.next.call(this,e)},Object.defineProperty(CountedSubject.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),CountedSubject}(i.a);o.a;function dispatchWindowTimeSpanOnly(t){var e=t.subscriber,n=t.windowTimeSpan,r=t.window;r&&e.closeWindow(r),t.window=e.openWindow(),this.schedule(t,n)}function dispatchWindowCreation(t){var e=t.windowTimeSpan,n=t.subscriber,r=t.scheduler,i=t.windowCreationInterval,o=n.openWindow(),s={action:this,subscription:null},a={subscriber:n,window:o,context:s};s.subscription=r.schedule(dispatchWindowClose,e,a),this.add(s.subscription),this.schedule(t,i)}function dispatchWindowClose(t){var e=t.subscriber,n=t.window,r=t.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),e.closeWindow(n)}},function(t,e,n){"use strict";var r=n(3),i=n(19),o=n(14),s=n(10),a=n(11);s.a},function(t,e,n){"use strict";var r=n(3),i=n(19),o=n(10),s=n(11);o.a},function(t,e,n){"use strict";var r=n(3),i=n(10),o=n(11);i.a},function(t,e,n){"use strict";n(100)},function(t,e,n){"use strict";n(100)},function(t,e,n){"use strict";n(20),n(34),n(167)},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(16),i=n(60),o=n(285),s=n(20),a=n(34),u=n(169),c=n(286),l=n.n(c),f=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(t){try{step(r.next(t))}catch(t){o(t)}}function rejected(t){try{step(r.throw(t))}catch(t){o(t)}}function step(t){t.done?i(t.value):function adopt(t){return t instanceof n?t:new n(function(e){e(t)})}(t.value).then(fulfilled,rejected)}step((r=r.apply(t,e||[])).next())})},p=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(a){return function step(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},h=function(){return Object(a.h)(function(t){return function isUserAbove18OrIL(t){var e=t.fb_meta_dob_year,n=t.fb_meta_dob_month,r=t.geo_current_location_country_iso;if(!e||!n)return!0;var i=new Date(e,n);if(((new Date).valueOf()-i.valueOf())/31536e6<18)return"IL"===r;return!0}(t)})};var d=function(){function BackgroundMainBase(t,e,n,r,i,o,s,a,u,c,l,f,p,h,d,_,b,v){this.clientId=t,this.gitRev=e,this.gitBranch=n,this.version=r,this.log=i,this.environmentServices=o,this.analyticsProvider=s,this.eventsEnricher=a,this.messageSender=u,this.facebookMetadataProvider=c,this.locationService=l,this.storage=f,this.pixelsService=p,this.safeSetIntervalImpl=h,this.safeSetTimeoutImpl=d,this.ytTracker=_,this.adActivityTracker=b,this.FB_SPONSORED_FAILSAFE_ENABLED=v,this.ytVideoEvents=null,this.auditEventsSubscription=null,this.igSponsoredPostsSub=null,this.adActivityEventsSub=null,this.crossMessageSubscription=null,this.envEventsSubscription=null,this.interestsSendingTimerStopper=null,this.configRequesterUnsub=null}return BackgroundMainBase.prototype.start=function(){var t=this;this.crossMessageSubscription=this.environmentServices.crossMessage.subscribe(function(e){return t.onCrossMessage(e)}),this.auditEventsSubscription=this.environmentServices.auditEvents.subscribe(function(e){return t.onAuditEvent(e)}),this.FB_SPONSORED_FAILSAFE_ENABLED&&this.setupSponsoredFailsafeWarning(),this.envEventsSubscription=this.environmentServices.envEvents.subscribe(function(e){return t.onEnvEvent(e)}),this.configRequesterUnsub=this.environmentServices.onConfigRequest(function(){return{ShouldShowFoundPosts:t.storage.shouldShowFoundPosts}}),this.interestsSendingTimerStopper=this.initInterestsSending().subscribe(),this.environmentServices.sendMessageToContent({type:"background-ready",payload:{}}),this.ytVideoEvents=this.ytTracker?this.ytTracker.sponsoredYTVideosSubscription.pipe(Object(a.f)(function(t,e){return t.id==e.id})).subscribe(function(e){return t.onYTAd(e)}):null,this.adActivityTracker&&(this.adActivityEventsSub=this.adActivityTracker.adActivitySubscription.subscribe(function(e){return f(t,void 0,void 0,function(){return p(this,function(t){return this.storage.GetLastAdActivityTime(e.userId)<e.dateClicked&&(this.storage.SetLastAdActivityTime(e.userId,e.dateClicked),this.onInteraction({fb_post_interaction_type:"ad_activity",fb_post_entity_id:e.entityId,fb_post_interaction_url:e.landingPageURL,fb_post_interaction_text:e.bodyRawText,fb_post_interaction_click_origin:null,fb_post_src:null,fb_user_id:e.userId,original_event_time:e.dateClicked,fb_post_advertiser_page_entity_id:e.fb_post_advertiser_page_entity_id,fb_post_advertiser_page_id:e.fb_post_advertiser_page_id})),[2]})})}))},BackgroundMainBase.prototype.stop=function(){var t,e,n,r,i,o,s;null===(t=this.crossMessageSubscription)||void 0===t||t.unsubscribe(),this.crossMessageSubscription=null,null===(e=this.auditEventsSubscription)||void 0===e||e.unsubscribe(),this.auditEventsSubscription=null,null===(n=this.envEventsSubscription)||void 0===n||n.unsubscribe(),this.envEventsSubscription=null,null!==this.configRequesterUnsub&&this.configRequesterUnsub(),this.configRequesterUnsub=null,null===(r=this.interestsSendingTimerStopper)||void 0===r||r.unsubscribe(),this.interestsSendingTimerStopper=null,null===(i=this.ytVideoEvents)||void 0===i||i.unsubscribe(),this.ytVideoEvents=null,null===(o=this.igSponsoredPostsSub)||void 0===o||o.unsubscribe(),this.igSponsoredPostsSub=null,null===(s=this.adActivityEventsSub)||void 0===s||s.unsubscribe(),this.adActivityEventsSub=null},BackgroundMainBase.prototype.onEnvEvent=function(t){var e=this;this.log.info("onEnvEvent",t),this.getThirdPartyCookie().then(function(n){var r=n.uid,i=n.raw;e.storage.thirdPartyCookie=i,e.storage.thirdPartyIdIS=r,e.analyticsProvider.then(function(n){Object(u.a)(n,e.gitRev,e.gitBranch,e.clientId,e.storage.deviceId,e.version,e.storage.thirdPartyIdIS,e.storage.thirdPartyCookie),n("send",{hitType:"event",eventCategory:"Cookie read",eventAction:i,eventLabel:"Cookie read reason:"+t,nonInteraction:!0})})},function(){}).then(function(){"install"===t&&(e.sendInstallEventAws(e.storage.thirdPartyCookie),e.pixelsService.fireAttributionPixelOnInstallIfNeeded(e.storage.thirdPartyCookie)),e.analyticsProvider.then(function(e){e("send",{hitType:"event",eventCategory:"Extension install",eventAction:"reason:"+t,eventLabel:"",nonInteraction:!0})})})},BackgroundMainBase.prototype.initInterestsSending=function(){var t=this;this.log.info("initInterestsSending");var e=this.storage.lastInterestsSend,n=0!==e.valueOf(),r=new Date(e.valueOf()+20736e5);return Object(s.o)(n?r:0,20736e5).pipe(Object(a.l)(function(){return t.facebookMetadataProvider.getInterests()}),Object(a.i)(function(t){return{fb_user_id:t.id,fb_user_interests:t.interests.filter(function(t){return"interest"===t.type}).map(function(t){return{fbid:t.fbid,name:t.name,type:t.type,topic:t.topic,disambiguation_category:t.disambiguation_category}})}}),Object(a.r)(function(e){var n=e.fb_user_id,r=e.fb_user_interests;return t.eventsEnricher.enrichInterestsEvent({fb_user_id:n,fb_user_interests:r})}),Object(o.a)({initialInterval:6e5,maxRetries:1}),Object(a.u)({error:function(e){return t.log.error("getAndSendInterests facebook fetch error")}}),h(),Object(a.r)(function(e){return Object(s.g)(function(){return t.sendInterestsToAws(e)}).pipe(Object(o.a)({initialInterval:6e5,maxRetries:3}),Object(a.u)(function(){t.storage.lastInterestsSend=new Date,t.log.info("initInterestsSending interval")},function(e){return t.log.error("getAndSendInterests",e)}))}))},BackgroundMainBase.prototype.onAuditEvent=function(t){var e;switch(t.type){case"Navigation":this.onAuditLogsEvent(null===(e=t.payload)||void 0===e?void 0:e.channel,t.payload.isAdBlockEnabled);break;case"Heartbeat":this.onAuditLogsEvent(null,null);break;default:Object(r.f)(t)}},BackgroundMainBase.prototype.onCrossMessage=function(t){switch(t.type){case"Analytics":this.onAnalyticsMessage(t.payload);break;case"Interaction":this.onInteraction(t.payload);break;case"NewSponsoredPost":this.onSponsoredPost(t.payload);break;case"Post":this.onRegularPost(t.payload);break;case"IsBackgroundReady":this.environmentServices.sendMessageToContent({type:"background-ready",payload:{}});break;case"NewPromotedTweet":this.onPromotedTweet(t.payload);break;case"AmazonSponsored":this.onAmazonSponsored(t.payload);break;case"LinkedInSponsored":this.onLinkedInPost(t.payload);break;case"FacebookNewFeedUi":this.onFacebookNewFeedUi(t.payload)}},BackgroundMainBase.prototype.onAuditLogsEvent=function(t,e){var n=this;this.log.info("sending audit heartbeat event - "+t),this.eventsEnricher.enrichAuditEvent(t,e).then(function(t){var e={event_content:t,event_type:"heartbeat"};n.messageSender.SendAuditEvent(e),n.log.info("sent audit event",t)})},BackgroundMainBase.prototype.onFacebookNewFeedUi=function(t){var e=this;this.log.info("got info about new Facebook UI feed: "+t),Object(s.h)(this.eventsEnricher.enrichNewFacebookUiEvent(t)).pipe(Object(a.l)(function(t){return l.a.post("https://collection-endpoint-staging.herokuapp.com/fbbeta",t.event_content)})).subscribe(function(){e.log.info("sending info about new Facebook UI feed: "+t)},function(t){e.log.error(t)})},BackgroundMainBase.prototype.onLinkedInPost=function(t){return f(this,void 0,void 0,function(){var e=this;return p(this,function(n){return this.log.info("got new linked in post - "+t.li_post_urn),Object(s.h)(this.eventsEnricher.enrichLinkedInSponsored(t)).pipe(h()).subscribe(function(n){e.log.info("sending post ",t.li_post_urn),e.analyticsProvider.then(function(e){e("send",{hitType:"event",eventCategory:"New LinkedIn Post",eventAction:"li_post_urn: "+t.li_post_urn,eventLabel:""})}),e.sendLinkedInPostToAws(n)},function(t){e.log.error(t)}),[2]})})},BackgroundMainBase.prototype.onAmazonSponsored=function(t){var e=this;this.log.info("got amazon sponsored in the background"),Object(s.h)(this.eventsEnricher.enrichAmazonSponsored(t)).pipe(h()).subscribe(function(n){switch(t.sponsored_type){case i.a.Headline:e.sendAmazonSponsoredToAws(n,"az_sponsored_headline");break;case i.a.Product:e.sendAmazonSponsoredToAws(n,"az_sponsored_product");break;case i.a.Banner:e.sendAmazonSponsoredToAws(n,"az_sponsored_banner")}},function(t){e.log.error(t)})},BackgroundMainBase.prototype.onAnalyticsMessage=function(t){this.analyticsProvider.then(function(e){e.apply(e,t)})},BackgroundMainBase.prototype.onRegularPost=function(t){var e=this;Object(s.h)(this.eventsEnricher.enrichRegularStory(t)).pipe(h()).subscribe(function(t){e.log.info("sending regular story",t.fb_post_hashed_entity_id),e.sendPostToAws(t,"facebook_post")},function(t){e.log.error(t)})},BackgroundMainBase.prototype.onSponsoredPost=function(t){var e=this;this.pixelsService.fireAttributionOnSponsoredEventIfneeded(this.storage.thirdPartyIdIS),Object(s.h)(this.eventsEnricher.enrichSponsoredStory(t)).pipe(h()).subscribe(function(n){e.log.info("sending SponsoredStory",n.fb_post_hashed_entity_id),e.sendPostToAws(n,{desktop:"facebook_post","desktop-v2":"facebook_post",mobile:"facebook_mobile_post",partial:"facebook_partial_post"}[t.parser_type])},function(t){e.log.error(t)})},BackgroundMainBase.prototype.onInteraction=function(t){var e=this;Object(s.h)(this.eventsEnricher.enrichInteraction(t)).pipe(h()).subscribe(function(t){e.log.info("sending interaction",t),e.analyticsProvider.then(function(e){e("send",{hitType:"event",eventCategory:"New interaction",eventAction:"fb_post_entity_id: "+t.fb_post_entity_id,eventLabel:"interaction:"+t.fb_post_interaction_type})}),e.sendInteractionToAws(t)},function(t){e.log.error(t)})},BackgroundMainBase.prototype.onPromotedTweet=function(t){var e=this;this.log.info("New tweet "+t.tw_tweet_id+" it's screen name is "+t.tw_user_screen_name),Object(s.h)(this.eventsEnricher.enrichTweet(t)).pipe(h()).subscribe(function(n){e.log.info("sending tweet ",t.tw_tweet_id),e.analyticsProvider.then(function(e){e("send",{hitType:"event",eventCategory:"New Tweet",eventAction:"tw_tweet_id: "+t.tw_tweet_id,eventLabel:""})}),e.sendTweetToAws(n)},function(t){e.log.error(t)})},BackgroundMainBase.prototype.onYTAd=function(t){var e=this;this.log.info("New video "+t.id+" it's host is "+t.host_type),Object(s.h)(this.eventsEnricher.enrichYTAdVideo(t)).pipe(h()).subscribe(function(n){e.log.info("sending Youtube video ",t.id),e.analyticsProvider.then(function(e){e("send",{hitType:"event",eventCategory:"New Youtube video",eventAction:"yt_video_id: "+t.id,eventLabel:""})}),e.sendVideoToAws(n)},function(t){return e.log.error(t)})},BackgroundMainBase.prototype.sendPostToAws=function(t,e){var n={event_content:t,event_type:e};this.messageSender.SendEvent(n)},BackgroundMainBase.prototype.sendVideoToAws=function(t){var e={event_content:t,event_type:"yt_video"};this.messageSender.SendEvent(e)},BackgroundMainBase.prototype.sendTweetToAws=function(t){var e={event_content:t,event_type:"tw_promoted_tweet"};this.messageSender.SendEvent(e)},BackgroundMainBase.prototype.sendLinkedInPostToAws=function(t){var e={event_content:t,event_type:"li_promoted_post"};this.messageSender.SendEvent(e)},BackgroundMainBase.prototype.sendAmazonSponsoredToAws=function(t,e){var n={event_content:t,event_type:e};this.messageSender.SendEvent(n)},BackgroundMainBase.prototype.sendInteractionToAws=function(t){var e={event_content:t,event_type:"facebook_post_interaction"};this.messageSender.SendEvent(e)},BackgroundMainBase.prototype.sendInterestsToAws=function(t){var e={event_content:t,event_type:"facebook_user_interests"};return this.messageSender.SendEventImmediate(e)},BackgroundMainBase.prototype.sendInstallEventAws=function(t){this.messageSender.SendEvent({event_type:"device_install",event_content:{device_id:this.storage.deviceId,extension_id:this.clientId,third_party_id:t,event_time:new Date}})},BackgroundMainBase.prototype.getThirdPartyCookie=function(){var t=this;return Promise.resolve().then(function(){var e=t.pixelsService.getCookieDomainAndKeyIfNeeded(t.clientId);if(!e)throw new Error("This extension has no cookie associated");return e}).then(function(e){return t.log.info("Cookie for this extension is domain: "+e.domain+" name:"+e.name),Object(r.A)(3e3).then(function(){return e})}).then(function(e){return t.environmentServices.getAllCookies(e)}).then(function(e){if(!Array.isArray(e)||0===e.length||void 0===e[0])throw new Error("no cookie");var n=e[0].value.match(/uid\=([^,]+)/),r="";return null!==n&&2===n.length&&(r=n[1]),t.log.info("Found cookie to send "+e[0].value),{uid:r,raw:e[0].value}})},BackgroundMainBase.prototype.setupSponsoredFailsafeWarning=function(){var t=this;this.environmentServices.crossMessage.pipe(Object(a.h)(function(t){return"Post"===t.type||"NewSponsoredPost"===t.type}),Object(a.a)(4),Object(a.i)(function(t){return t.every(function(t){return"NewSponsoredPost"===t.type})}),Object(a.q)(!1),Object(a.m)(),Object(a.h)(function(t){return t[0]!==t[1]})).subscribe(function(e){var n=e[0],r=e[1];!0===r&&!1===n?t.log.error("Possible false Facebook sponsored detected - all messages marked as sponsored"):!0===n&&!1===r&&t.log.error("Recovered from all Facebook sponsored state")})},BackgroundMainBase}()},function(t,e,n){"use strict";var r=n(32),i=n(170),o=n(384),s=n(129);function createInstance(t){var e=new o(t),n=i(o.prototype.request,e);return r.extend(n,o.prototype,e),r.extend(n,e),n}var a=createInstance(s);a.Axios=o,a.create=function create(t){return createInstance(r.merge(s,t))},a.Cancel=n(174),a.CancelToken=n(398),a.isCancel=n(173),a.all=function all(t){return Promise.all(t)},a.spread=n(399),t.exports=a,t.exports.default=a},function(t,e){function isBuffer(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(isBuffer(t)||function isSlowBuffer(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&isBuffer(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,n){"use strict";var r=n(129),i=n(32),o=n(393),s=n(394);function Axios(t){this.defaults=t,this.interceptors={request:new o,response:new o}}Axios.prototype.request=function request(t){"string"==typeof t&&(t=i.merge({url:arguments[0]},arguments[1])),(t=i.merge(r,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[s,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function unshiftRequestInterceptors(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function pushResponseInterceptors(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},i.forEach(["delete","get","head","options"],function forEachMethodNoData(t){Axios.prototype[t]=function(e,n){return this.request(i.merge(n||{},{method:t,url:e}))}}),i.forEach(["post","put","patch"],function forEachMethodWithData(t){Axios.prototype[t]=function(e,n,r){return this.request(i.merge(r||{},{method:t,url:e,data:n}))}}),t.exports=Axios},function(t,e,n){"use strict";var r=n(32);t.exports=function normalizeHeaderName(t,e){r.forEach(t,function processHeader(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])})}},function(t,e,n){"use strict";var r=n(172);t.exports=function settle(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";t.exports=function enhanceError(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t}},function(t,e,n){"use strict";var r=n(32);function encode(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function buildURL(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(r.isURLSearchParams(e))i=e.toString();else{var o=[];r.forEach(e,function serialize(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,function parseValue(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),o.push(encode(e)+"="+encode(t))}))}),i=o.join("&")}return i&&(t+=(-1===t.indexOf("?")?"?":"&")+i),t}},function(t,e,n){"use strict";var r=n(32),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function parseHeaders(t){var e,n,o,s={};return t?(r.forEach(t.split("\n"),function parser(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(s[e]&&i.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([n]):s[e]?s[e]+", "+n:n}}),s):s}},function(t,e,n){"use strict";var r=n(32);t.exports=r.isStandardBrowserEnv()?function standardBrowserEnv(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function resolveURL(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=resolveURL(window.location.href),function isURLSameOrigin(e){var n=r.isString(e)?resolveURL(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function isURLSameOrigin(){return!0}},function(t,e,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function E(){this.message="String contains an invalid character"}E.prototype=new Error,E.prototype.code=5,E.prototype.name="InvalidCharacterError",t.exports=function btoa(t){for(var e,n,i=String(t),o="",s=0,a=r;i.charAt(0|s)||(a="=",s%1);o+=a.charAt(63&e>>8-s%1*8)){if((n=i.charCodeAt(s+=.75))>255)throw new E;e=e<<8|n}return o}},function(t,e,n){"use strict";var r=n(32);t.exports=r.isStandardBrowserEnv()?function standardBrowserEnv(){return{write:function write(t,e,n,i,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function read(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function remove(t){this.write(t,"",Date.now()-864e5)}}}():{write:function write(){},read:function read(){return null},remove:function remove(){}}},function(t,e,n){"use strict";var r=n(32);function InterceptorManager(){this.handlers=[]}InterceptorManager.prototype.use=function use(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},InterceptorManager.prototype.eject=function eject(t){this.handlers[t]&&(this.handlers[t]=null)},InterceptorManager.prototype.forEach=function forEach(t){r.forEach(this.handlers,function forEachHandler(e){null!==e&&t(e)})},t.exports=InterceptorManager},function(t,e,n){"use strict";var r=n(32),i=n(395),o=n(173),s=n(129),a=n(396),u=n(397);function throwIfCancellationRequested(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function dispatchRequest(t){return throwIfCancellationRequested(t),t.baseURL&&!a(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function cleanHeaderConfig(e){delete t.headers[e]}),(t.adapter||s.adapter)(t).then(function onAdapterResolution(e){return throwIfCancellationRequested(t),e.data=i(e.data,e.headers,t.transformResponse),e},function onAdapterRejection(e){return o(e)||(throwIfCancellationRequested(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,n){"use strict";var r=n(32);t.exports=function transformData(t,e,n){return r.forEach(n,function transform(n){t=n(t,e)}),t}},function(t,e,n){"use strict";t.exports=function isAbsoluteURL(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function combineURLs(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(174);function CancelToken(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function promiseExecutor(t){e=t});var n=this;t(function cancel(t){n.reason||(n.reason=new r(t),e(n.reason))})}CancelToken.prototype.throwIfRequested=function throwIfRequested(){if(this.reason)throw this.reason},CancelToken.source=function source(){var t;return{token:new CancelToken(function executor(e){t=e}),cancel:t}},t.exports=CancelToken},function(t,e,n){"use strict";t.exports=function spread(t){return function wrap(e){return t.apply(null,e)}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function FacebookContentScriptMainBase(t,e,n){this.log=t,this.envServices=e,this.config=n,this.sponsoredPostsSubscription=null,this.regularPostsSubscription=null,this.interactionsSubscription=null}return FacebookContentScriptMainBase.prototype.start=function(){var t=this;if(this.log.info("starting content script main base"),this.config.ShouldShowFoundPosts&&this.envServices.setupDebug(),null!==this.sponsoredPostsSubscription)throw new Error("already started!");this.sponsoredPostsSubscription=this.envServices.sponsoredStories.subscribe(function(e){t.onSponsoredPost(e)}),this.regularPostsSubscription=this.envServices.regularStories.subscribe(function(e){t.onRegularPost(e)}),this.interactionsSubscription=this.envServices.interactions.subscribe(function(e){t.onInteraction(e)}),this.envServices.startMonitoring()},FacebookContentScriptMainBase.prototype.onInteraction=function(t){this.log.info("Interaction",t),this.envServices.sendMessageToBackground({type:"Interaction",payload:t})},FacebookContentScriptMainBase.prototype.onRegularPost=function(t){this.log.info("Regular post",t),this.envServices.sendMessageToBackground({type:"Post",payload:t}),this.config.ShouldShowFoundPosts&&this.envServices.highlightPostByEntId(t.fb_post_entity_id,!1,JSON.stringify(t,null,2))},FacebookContentScriptMainBase.prototype.onSponsoredPost=function(t){this.log.info("Sponsored post",t),this.envServices.sendMessageToBackground({type:"NewSponsoredPost",payload:t}),this.config.ShouldShowFoundPosts&&this.envServices.highlightPostByEntId(t.fb_post_entity_id,!0,JSON.stringify(t,null,2))},FacebookContentScriptMainBase.prototype.stop=function(){if(null===this.sponsoredPostsSubscription)throw new Error("already stopped!");this.sponsoredPostsSubscription.unsubscribe(),null!==this.interactionsSubscription&&this.interactionsSubscription.unsubscribe(),null!==this.regularPostsSubscription&&this.regularPostsSubscription.unsubscribe()},FacebookContentScriptMainBase.prototype.sendAnalyticsEvent=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t;this.envServices.sendMessageToBackground({type:"Analytics",payload:n})},FacebookContentScriptMainBase}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function TwitterContentScriptMainBase(t,e,n){this.log=t,this.envServices=e,this.config=n,this.promotedTweets=null}return TwitterContentScriptMainBase.prototype.start=function(){var t=this;if(this.log.info("starting content script main base"),this.config.ShouldShowFoundPosts&&this.envServices.setupDebug(),null!==this.promotedTweets)throw new Error("already started!");this.promotedTweets=this.envServices.promotedTweets.subscribe(function(e){t.onPromotedTweet(e)}),this.envServices.startMonitoring()},TwitterContentScriptMainBase.prototype.onPromotedTweet=function(t){this.log.info("promoted tweet",t),this.envServices.sendMessageToBackground({type:"NewPromotedTweet",payload:t}),this.config.ShouldShowFoundPosts&&this.envServices.highlightPost(t.tw_tweet_id)},TwitterContentScriptMainBase.prototype.stop=function(){if(null===this.promotedTweets)throw new Error("already stopped!");this.promotedTweets.unsubscribe(),this.promotedTweets=null},TwitterContentScriptMainBase.prototype.sendAnalyticsEvent=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t;this.envServices.sendMessageToBackground({type:"Analytics",payload:n})},TwitterContentScriptMainBase}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(74),i=function(){function AmazonContentScriptMain(t,e,n){this.log=t,this.envServices=e,this.config=n,this.subscription=null,this.frameHandler=new r.a(chrome.runtime.id)}return AmazonContentScriptMain.prototype.start=function(){var t=this;if(this.log.info("starting content script main base"),this.config.ShouldShowFoundPosts&&this.envServices.setupDebug(),null!==this.subscription)throw new Error("already started!");this.frameHandshake(),this.subscription=this.envServices.sponsoredAmazon.subscribe(function(e){t.envServices.sendMessageToBackground({type:"AmazonSponsored",payload:e})}),this.envServices.startMonitoring()},AmazonContentScriptMain.prototype.stop=function(){if(null===this.subscription)throw new Error("already stopped!");this.subscription.unsubscribe(),this.subscription=null},AmazonContentScriptMain.prototype.frameHandshake=function(){var t=this;window.addEventListener("message",function(e){!e||e.data!==t.frameHandler.CreateMessageId("frame-ready")||!e.source||e.source instanceof ServiceWorker?t.envServices.handleFrameMessage(e):e.source.postMessage(t.frameHandler.CreateMessageId("top-ready"),"*")});for(var e=0,n=this.frameHandler.GetFrameSelectors();e<n.length;e++){var r=n[e],i=document.querySelector("#"+r);i instanceof HTMLIFrameElement&&i.contentWindow&&i.contentWindow.postMessage(this.frameHandler.CreateMessageId("top-ready"),"*")}},AmazonContentScriptMain}()},function(t,e,n){"use strict";var r=n(404);n.d(e,"a",function(){return r.a});n(405)},function(t,e,n){"use strict";e.a=function newFacebookFeedObserver(t){var e=Object(s.k)(t.body,r.j,!0),n=Object(s.k)(t.body,r.l,!0);return Object(i.l)(n.pipe(Object(o.j)("old")),e.pipe(Object(o.j)("new"))).pipe(Object(o.p)(1))};var r=n(42),i=n(20),o=n(34),s=n(74)},function(t,e,n){"use strict"},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function AmazonDisplayContentScriptMain(t,e,n){this.log=t,this.envServices=e,this.config=n,this.subscription=null}return AmazonDisplayContentScriptMain.prototype.start=function(){var t=this;if(this.log.info("starting amazon display content script main"),this.config.ShouldShowFoundPosts&&this.envServices.setupDebug(),null!==this.subscription)throw new Error("already started!");this.subscription=this.envServices.sponsoredAmazon.subscribe(function(e){t.envServices.sendMessageToBackground({type:"AmazonSponsored",payload:e})}),this.envServices.startMonitoring()},AmazonDisplayContentScriptMain.prototype.stop=function(){if(null===this.subscription)throw new Error("already stopped!");this.subscription.unsubscribe(),this.subscription=null},AmazonDisplayContentScriptMain}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function LinkedInContentScriptMain(t,e,n){this.log=t,this.envServices=e,this.config=n,this.subscription=null}return LinkedInContentScriptMain.prototype.start=function(){var t=this;if(this.log.info("starting linkedin content script main"),this.config.ShouldShowFoundPosts&&this.envServices.setupDebug(),null!==this.subscription)throw new Error("already started!");this.subscription=this.envServices.sponsoredFeedPost.subscribe(function(e){t.envServices.sendMessageToBackground({type:"LinkedInSponsored",payload:e})}),this.envServices.startMonitoring()},LinkedInContentScriptMain.prototype.stop=function(){if(null===this.subscription)throw new Error("already stopped!");this.subscription.unsubscribe(),this.subscription=null},LinkedInContentScriptMain}()},function(t,e,n){"use strict";e.a=function setupGlobalErrorsTracking(t,e){e.addEventListener("error",function(e){t("send",{hitType:"event",eventCategory:"background-exception",eventAction:"message: "+e.message,eventLabel:e.lineno+":"+e.colno+"@"+e.filename,nonInteraction:!0})}),e.addEventListener("unhandledrejection",function(e){if(e instanceof ErrorEvent){var n={hitType:"event",eventCategory:"background-exception-unhandled-rejection",eventAction:"message: "+(e.error?e.error.message:e.message),eventLabel:""+(e.error?e.error.stack:""),nonInteraction:!0};if("reason"in e&&e.reason instanceof Error){var r=e;n={hitType:"event",eventCategory:"background-exception-unhandled-rejection",eventAction:"message: "+r.reason.message,eventLabel:""+r.reason.stack,nonInteraction:!0}}t("send",n)}})}},function(t,e,n){"use strict";e.a=function interactionsObserver(t,e,n,s){var l={fb_post_interaction_url:null,fb_post_interaction_text:null,fb_post_interaction_click_origin:null,fb_post_src:null};return Object(i.l)(function newComment(t,e,n){return newCommentElement(e).pipe(Object(o.h)(function(t){return null!==t.querySelector("a[data-hovercard*='"+n+"'].UFIImageBlockImage")}),Object(o.i)(function(t){return Object(u.i)(t,r.b,e)}),Object(o.h)(function(e){return!!e&&t.isStorySponsored(e)}),Object(o.i)(function(t){return t.querySelector(r.e)}),Object(o.h)(function(t){return t instanceof HTMLInputElement}),Object(o.i)(function(t){return t.value}))}(t,n,e).pipe(Object(o.i)(function(t){return c(c({},l),{fb_post_interaction_type:"commented",fb_post_entity_id:t})})),function newUserLikeOnSponsoredPost(t,e){return new i.c(function(t){function h(e){t.next(e)}return e.addEventListener("click",h),function(){e.removeEventListener("click",h)}}).pipe(Object(o.i)(function(t){return t.target instanceof HTMLElement&&e.contains(t.target)&&Object(u.i)(t.target,r.f,e)||null}),Object(o.h)(function(t){return null!==t}),Object(o.i)(function(t){return Object(u.i)(t,r.b,e)}),Object(o.h)(function(e){return null!==e&&t.isStorySponsored(e)}),Object(o.i)(function(t){return t.querySelector(r.e)}),Object(o.h)(function(t){return t instanceof HTMLInputElement}),Object(o.i)(function(t){return t.value}))}(t,n).pipe(Object(o.i)(function(t){return c(c({},l),{fb_post_interaction_type:"reacted_like",fb_post_entity_id:t})})),function shareClick(t,e){return delegateEvent(e,"click",r.g,{}).pipe(Object(o.i)(function(t){return Object(u.i)(t,r.b,e)}),Object(o.h)(function(t){return null!==t}),Object(o.h)(function(e){return t.isStorySponsored(e)}),Object(o.i)(function(t){return t.querySelector(r.e)}),Object(o.h)(function(t){return t instanceof HTMLInputElement}),Object(o.i)(function(t){return t.value}))}(t,n).pipe(Object(o.i)(function(t){return c(c({},l),{fb_post_interaction_type:"shared_post",fb_post_entity_id:t})})),function pageLike(t,e){return Object(i.i)(e,"click",{capture:!0}).pipe(Object(o.i)(function(t){return t.target instanceof HTMLElement?[Object(u.i)(t.target,r.b,e),t.target]:[null,null]}),Object(o.h)(function filter(e){var n=e[0],i=e[1];return null!==n&&null!==i&&t.isStorySponsored(n)&&null!==Object(u.i)(i,r.c,n)}),Object(o.i)(function(t){var e=t[0];return e.querySelector(r.e)}),Object(o.h)(function(t){return t instanceof HTMLInputElement}),Object(o.i)(function(t){return t.value}))}(t,n).pipe(Object(o.i)(function(t){return c(c({},l),{fb_post_interaction_type:"liked_advertiser_page",fb_post_entity_id:t})})),function reaction(t,e,n){var s=null;return new i.c(function(a){var c=function newReactionsFocus(t,e){return Object(i.i)(e,"mouseover",{capture:!1}).pipe(Object(o.e)(200),Object(o.d)(function(t){var n=t.target;return Object(u.x)({timeout:50}).then(function(){return n instanceof HTMLElement&&e.contains(n)?Object(u.i)(n,r.b,e):null})}),Object(o.i)(function(e){if(null!==e&&t.isStorySponsored(e)){var n=e.querySelector(r.e);if(n instanceof HTMLInputElement)return n.value}return null}))}(t,e).subscribe(function(t){s=t}),l=function newUserReaction(t){var e=new Map([["1","like"],["2","love"],["4","haha"],["3","wow"],["7","sad"],["8","angry"]]);return delegateEvent(t,"click",r.h,{}).pipe(Object(o.i)(function mapper(t){var n=t.getAttribute("data-reaction");return e.has(n)?e.get(n):n}))}(n).subscribe(function(t){null!==s&&a.next({postId:s,reaction:t})});return function(){c.unsubscribe(),l.unsubscribe()}})}(t,n,s).pipe(Object(o.i)(function(t){var e=t.reaction,n=t.postId;return c(c({},l),{fb_post_interaction_type:"reacted_"+e,fb_post_entity_id:n})})),function storyContentClicks(t,e){return Object(i.i)(e,"click",{capture:!0}).pipe(Object(o.i)(function(t){return{event:t,target:t.target,story:Object(u.i)(t.target,r.b,e)}}),Object(o.h)(function(e){return e.story&&t.isStorySponsored(e.story)||!1}),Object(o.h)(function(t){return!t.target.matches(r.c)}),Object(o.h)(function(t){var e=t.story.querySelector(r.d);return e instanceof HTMLFormElement&&e.parentElement.previousElementSibling.contains(t.target)}),Object(o.i)(function(t){return c(c({},t),{fb_post_interaction_click_origin:a(t.target,t.story),fb_post_src:t.story.outerHTML})}),Object(o.d)(function(t){return Object(u.x)().then(function(){return t})}),Object(o.i)(function(e){var n=e.story.querySelector(r.d).parentElement.previousElementSibling;return{fb_post_src:e.fb_post_src,fb_post_interaction_click_origin:e.fb_post_interaction_click_origin,story:e.story,target:e.target,postType:t.storyTypeClassifier(e.story),storyContent:n}}),Object(o.i)(function(t){return c({fb_post_src:t.fb_post_src,fb_post_entity_id:t.story.querySelector(r.e).value,fb_post_interaction_click_origin:t.fb_post_interaction_click_origin},function contentClicksClassifier(t){var e,n,i,o,s,a="clicked_unclassified",c=null,l=null,f=Array.from(t.storyContent.querySelectorAll(r.a)),p=f[0],h=f[1];if(t.target.parentElement===p||t.target===h)a="clicked_advertiser_page";else if(t.target.matches(".see_more_link_inner"))a="clicked_see_more";else if(t.story.contains(Object(u.i)(t.target,".userContent",t.story))&&t.story.contains(Object(u.i)(t.target,"a",t.story))){var d=Object(u.i)(t.target,"a",t.story);a="clicked_in_text_link",c=d.href,l=d.text}"clicked_unclassified"===a&&(["link","lead"].indexOf(t.postType)>-1&&(e=function classifyClicksForLeadOrLink(t){var e="clicked_unclassified",n=null,r=null;1===t.target.children.length&&t.target.children[0].matches(".uiScaledImageContainer.fbStoryAttachmentImage")?(e="clicked_post_attachment_image",r=Object(u.i)(t.target,"a",t.story).href):t.target.matches("button[type=submit]")?(e="clicked_call_to_action",n=t.target.textContent):t.target.matches("a[role=button][rel=toggle]")?e="clicked_post_controls":t.target.matches("a[role=button]")&&t.target instanceof HTMLAnchorElement?(e="lead"===t.postType?"clicked_post_attachment_text":"clicked_call_to_action",r=t.target.href,n=t.target.text):t.target.matches("a")&&""===t.target.innerHTML&&t.target instanceof HTMLAnchorElement&&(e="clicked_post_attachment_text",r=t.target.href);return{href:r,text:n,type:e}}(t),a=e.type,l=e.text,c=e.href),"event"===t.postType&&(n=function classifyClicksOnEvent(t){var e="clicked_unclassified",n=null,r=null;t.target.matches(".fbEventAttachmentCTAButton")&&t.target instanceof HTMLAnchorElement?(e="clicked_call_to_action",n=t.target.text):t.target.matches("a.profileLink")&&t.target instanceof HTMLAnchorElement?(e="clicked_story_header_link",n=t.target.text,r=t.target.href):t.target instanceof HTMLAnchorElement&&null!==t.target.previousElementSibling&&t.target.previousElementSibling.matches(".uiScaledImageContainer.fbStoryAttachmentImage")?(e="clicked_post_attachment_image",r=t.target.href):t.target instanceof HTMLAnchorElement&&(e="clicked_post_attachment_text",r=t.target.href,n=t.target.text);return{type:e,text:n,href:r}}(t),a=n.type,l=n.text,c=n.href),"album"===t.postType&&(a=(i={type:"clicked_unclassified",text:null,href:null}).type,l=i.text,c=i.href),"photo"===t.postType&&(a=(o={type:"clicked_unclassified",text:null,href:null}).type,l=o.text,c=o.href),"carousel"===t.postType&&(s=function classifyCarousel(t){var e="clicked_unclassified",n=null,r=null,i=t.storyContent.querySelector("ul").nextElementSibling,o=i.nextElementSibling,s=null,a=null;i.querySelector('[data-testid="multishare_pager_next"]')?(s=i,a=o):(s=o,a=i);if(s.contains(t.target)||s===t.target)e="clicked_carousel_forward";else if(a.contains(t.target)||a===t.target)e="clicked_carousel_back";else if(t.target instanceof HTMLButtonElement){e="clicked_call_to_action",n=t.target.textContent;var c=Object(u.i)(t.target,"a",t.storyContent);c instanceof HTMLAnchorElement&&(r=c.href)}else{var l=Object(u.i)(t.target,"li",t.storyContent);if(l instanceof HTMLLIElement){e="clicked_post_attachment",r=l.children.length>0&&l.children[0]instanceof HTMLAnchorElement&&l.children[0].href||null,n=l.textContent;var f=l.querySelector("button");f instanceof HTMLButtonElement&&(n=n.replace(f.textContent,""))}}return{type:e,text:n,href:r}}(t),a=s.type,l=s.text,c=s.href));if("clicked_unclassified"===a){var d=Object(u.i)(t.target,"a",t.story);d instanceof HTMLAnchorElement&&t.storyContent.contains(d)&&(l=d.text,c=d.href)}return{fb_post_interaction_url:c,fb_post_interaction_text:l,fb_post_interaction_type:a}}(t))}),Object(o.h)(function(t){return"clicked_post_controls"!==t.fb_post_interaction_type}))}(t,n))};var r=n(42),i=n(20),o=n(34),s=n(74),a=n(410),u=(n.n(a),n(16)),c=this&&this.__assign||function(){return(c=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function newCommentElement(t){return Object(s.k)(t,".UFIRow.UFIComment.UFIUnseenItem",!1)}function delegateEvent(t,e,n,r){return Object(i.i)(t,e,r).pipe(Object(o.i)(function(e){return e.target instanceof HTMLElement&&t.contains(e.target)&&Object(u.i)(e.target,n,t)||null}),Object(o.h)(function(t){return null!==t}))}},function(t,e,n){var r=n(411),i=function(t,e,n){var o=t.tagName.toLowerCase(),s=[o],a=t.getAttribute("class"),u=t.getAttribute("id");return u?(n.unshift(o+"#"+r(u)),n):(a&&s.push(function(t){for(var e=t.split(/\s/g),n=[],r=0;r<e.length;++r)e[r].length>0&&n.push("."+e[r]);return n.join("")}(a)),"html"!==o&&"body"!==o&&t.parentNode&&s.push(":nth-child("+function(t){for(var e=0,n=t.parentNode.childNodes,r=0;r<n.length;++r)if(1===n[r].nodeType&&++e,n[r]===t)return e}(t)+")"),n.unshift(s.join("")),t.parentNode&&t.parentNode!==e&&t.parentNode.tagName&&i(t.parentNode,e,n),n)};t.exports=function(t,e){return i(t,e,[]).join(" > ")}},function(t,e){(e=t.exports=function trim(t){return t.replace(/^\s*|\s*$/g,"")}).left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}},function(t,e,n){"use strict";e.a=function SetupSentryInterception(t,e){return Object(r.b)(function(e){if(e.requestHeaders){for(var n=null,r=0,i=e.requestHeaders;r<i.length;r++){var o=i[r];if("origin"===o.name.toLowerCase()){n=o;break}}n||(t.info("Missing origin field! adding it now!."),n={name:"Origin",value:location.href},e.requestHeaders.push(n)),n.value=location.href}return{requestHeaders:e.requestHeaders}},{urls:["*://sentry.io/api/"+e+"*"]},["blocking","requestHeaders","extraHeaders"])};var r=n(175)},function(t,e,n){"use strict";e.a=function setUpHeartbeatAudit(t,e){r.a&&e&&Object(i.l)(r.a.tabs.onUpdated.pipe(Object(o.h)(function(t){var e=t.changeInfo;return"loading"===e.status||"complete"===e.status})),r.a.tabs.onCreated).pipe(Object(o.i)(function(t){return t.tab}),Object(o.h)(function(t){var e;return void 0!==(null===(e=t)||void 0===e?void 0:e.url)}),Object(o.i)(function(t){return new URL(t.url).hostname}),Object(o.f)(),Object(o.i)(function(t){var e=t.split(".");return e.length<2?null:e[e.length-2]}),Object(o.h)(s.d),Object(o.r)(function(e){return t.crossMessage.pipe(Object(o.h)(function(t){return"AdBlockerStatus"===t.type}),Object(o.i)(function(t){return t.payload.ad_blocker_enabled}),Object(o.t)(1),Object(o.v)(2e3,Object(i.m)(null)),Object(o.i)(function(t){return{type:"Navigation",payload:{channel:e,isAdBlockEnabled:t}}}))})).subscribe(t.auditEvents);Object(i.o)(0,36e5).pipe(Object(o.j)({type:"Heartbeat"})).subscribe(t.auditEvents)};var r=n(177),i=n(20),o=n(34),s=n(60)},function(t,e,n){"use strict";e.a=function extractSponsoredFromTwitterHomePayload(t){var e=function getSponsoredTimelineEntriesFromPayload(t){return Object(r.p)(function(){return t.timeline.instructions.flatMap(function(t){var e;return(null===(e=t.addEntries)||void 0===e?void 0:e.entries)?t.addEntries.entries.filter(function(t){return Object(r.p)(function(){return t.entryId.startsWith("promotedTweet-")||"item"in t.content&&"tweet"in t.content.item.content&&"promotedMetadata"in t.content.item.content.tweet},!1)}).map(function(t){return Object(r.p)(function(){return t.content.item.content.tweet},null)}):[]}).filter(r.q)},[]).filter(r.q)}(t),n=new Set(e.map(function(t){return t.id}));return Object.entries(t.globalObjects.tweets).filter(function(t){var e=t[0];return n.has(e)}).map(function(t){var n=t[0],r=t[1];return{tweet:r,timelineData:e.find(function(t){return t.id===n})}}).map(function(e){var n=e.tweet,i=e.timelineData,o=Object(r.p)(function(){return t.globalObjects.users[n.user_id_str]},{name:"default N/A",screen_name:"default N/A"}),s=o.name,a=o.screen_name;return{tw_perma_link:"https://twitter.com/"+a+"/status/"+n.id_str,tw_user_screen_name:a,tw_user_display_name:s,tw_tweet_id:n.id_str,tw_user_id:n.user_id_str,tw_tweet_display_type:i.displayType}})};var r=n(16)},function(t,e,n){"use strict"},function(t,e,n){(function(e){var r=n(417),i="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},o=i.Raven,s=new r;s.noConflict=function(){return i.Raven=o,s},s.afterLoad(),t.exports=s,t.exports.Client=r}).call(e,n(36))},function(t,e,n){(function(e){var r=n(418),i=n(178),o=n(419),s=n(420),a=n(130),u=a.isErrorEvent,c=a.isDOMError,l=a.isDOMException,f=a.isError,p=a.isObject,h=a.isPlainObject,d=a.isUndefined,_=a.isFunction,b=a.isString,v=a.isArray,y=a.isEmptyObject,m=a.each,g=a.objectMerge,w=a.truncate,S=a.objectFrozen,O=a.hasKey,x=a.joinRegExp,E=a.urlencode,k=a.uuid4,j=a.htmlTreeAsString,T=a.isSameException,I=a.isSameStacktrace,A=a.parseUrl,C=a.fill,P=a.supportsFetch,M=a.supportsReferrerPolicy,L=a.serializeKeysForMessage,F=a.serializeException,R=a.sanitize,q=n(421).wrapMethod,D="source protocol user pass host port path".split(" "),N=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/;function now(){return+new Date}var z="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},B=z.document,U=z.navigator;function keepOriginalCallback(t,e){return _(e)?function(n){return e(n,t)}:e}function Raven(){for(var t in this._hasJSON=!("object"!=typeof JSON||!JSON.stringify),this._hasDocument=!d(B),this._hasNavigator=!d(U),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={release:z.SENTRY_RELEASE&&z.SENTRY_RELEASE.id,logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],headers:null,collectWindowErrors:!0,captureUnhandledRejections:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1,sanitizeKeys:[]},this._fetchDefaults={method:"POST",keepalive:!0,referrerPolicy:M()?"origin":""},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=z.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=now(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=z.location,this._lastHref=this._location&&this._location.href,this._resetBackoff(),this._originalConsole)this._originalConsoleMethods[t]=this._originalConsole[t]}Raven.prototype={VERSION:"3.25.2",debug:!1,TraceKit:r,config:function(t,e){var n=this;if(n._globalServer)return this._logDebug("error","Error: Raven has already been configured"),n;if(!t)return n;var i=n._globalOptions;e&&m(e,function(t,e){"tags"===t||"extra"===t||"user"===t?n._globalContext[t]=e:i[t]=e}),n.setDSN(t),i.ignoreErrors.push(/^Script error\.?$/),i.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),i.ignoreErrors=x(i.ignoreErrors),i.ignoreUrls=!!i.ignoreUrls.length&&x(i.ignoreUrls),i.whitelistUrls=!!i.whitelistUrls.length&&x(i.whitelistUrls),i.includePaths=x(i.includePaths),i.maxBreadcrumbs=Math.max(0,Math.min(i.maxBreadcrumbs||100,100));var o={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0},s=i.autoBreadcrumbs;"[object Object]"==={}.toString.call(s)?s=g(o,s):!1!==s&&(s=o),i.autoBreadcrumbs=s;var a={tryCatch:!0},u=i.instrument;return"[object Object]"==={}.toString.call(u)?u=g(a,u):!1!==u&&(u=a),i.instrument=u,r.collectWindowErrors=!!i.collectWindowErrors,n},install:function(){var t=this;return t.isSetup()&&!t._isRavenInstalled&&(r.report.subscribe(function(){t._handleOnErrorStackInfo.apply(t,arguments)}),t._globalOptions.captureUnhandledRejections&&t._attachPromiseRejectionHandler(),t._patchFunctionToString(),t._globalOptions.instrument&&t._globalOptions.instrument.tryCatch&&t._instrumentTryCatch(),t._globalOptions.autoBreadcrumbs&&t._instrumentBreadcrumbs(),t._drainPlugins(),t._isRavenInstalled=!0),Error.stackTraceLimit=t._globalOptions.stackTraceLimit,this},setDSN:function(t){var e=this._parseDSN(t),n=e.path.lastIndexOf("/"),r=e.path.substr(1,n);this._dsn=t,this._globalKey=e.user,this._globalSecret=e.pass&&e.pass.substr(1),this._globalProject=e.path.substr(n+1),this._globalServer=this._getGlobalServer(e),this._globalEndpoint=this._globalServer+"/"+r+"api/"+this._globalProject+"/store/",this._resetBackoff()},context:function(t,e,n){return _(t)&&(n=e||[],e=t,t=void 0),this.wrap(t,e).apply(this,n)},wrap:function(t,e,n){var r=this;if(d(e)&&!_(t))return t;if(_(t)&&(e=t,t=void 0),!_(e))return e;try{if(e.__raven__)return e;if(e.__raven_wrapper__)return e.__raven_wrapper__}catch(t){return e}function wrapped(){var i=[],o=arguments.length,s=!t||t&&!1!==t.deep;for(n&&_(n)&&n.apply(this,arguments);o--;)i[o]=s?r.wrap(t,arguments[o]):arguments[o];try{return e.apply(this,i)}catch(e){throw r._ignoreNextOnError(),r.captureException(e,t),e}}for(var i in e)O(e,i)&&(wrapped[i]=e[i]);return wrapped.prototype=e.prototype,e.__raven_wrapper__=wrapped,wrapped.__raven__=!0,wrapped.__orig__=e,wrapped},uninstall:function(){return r.report.uninstall(),this._detachPromiseRejectionHandler(),this._unpatchFunctionToString(),this._restoreBuiltIns(),this._restoreConsole(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},_promiseRejectionHandler:function(t){this._logDebug("debug","Raven caught unhandled promise rejection:",t),this.captureException(t.reason,{extra:{unhandledPromiseRejection:!0}})},_attachPromiseRejectionHandler:function(){return this._promiseRejectionHandler=this._promiseRejectionHandler.bind(this),z.addEventListener&&z.addEventListener("unhandledrejection",this._promiseRejectionHandler),this},_detachPromiseRejectionHandler:function(){return z.removeEventListener&&z.removeEventListener("unhandledrejection",this._promiseRejectionHandler),this},captureException:function(t,e){if(e=g({trimHeadFrames:0},e||{}),u(t)&&t.error)t=t.error;else{if(c(t)||l(t)){var n=t.name||(c(t)?"DOMError":"DOMException"),i=t.message?n+": "+t.message:n;return this.captureMessage(i,g(e,{stacktrace:!0,trimHeadFrames:e.trimHeadFrames+1}))}if(f(t))t=t;else{if(!h(t))return this.captureMessage(t,g(e,{stacktrace:!0,trimHeadFrames:e.trimHeadFrames+1}));e=this._getCaptureExceptionOptionsFromPlainObject(e,t),t=new Error(e.message)}}this._lastCapturedException=t;try{var o=r.computeStackTrace(t);this._handleStackInfo(o,e)}catch(e){if(t!==e)throw e}return this},_getCaptureExceptionOptionsFromPlainObject:function(t,e){var n=Object.keys(e).sort(),r=g(t,{message:"Non-Error exception captured with keys: "+L(n),fingerprint:[o(n)],extra:t.extra||{}});return r.extra.__serialized__=F(e),r},captureMessage:function(t,e){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t)){var n,i=g({message:t+=""},e=e||{});try{throw new Error(t)}catch(t){n=t}n.name=null;var o=r.computeStackTrace(n),s=v(o.stack)&&o.stack[1];s&&"Raven.captureException"===s.func&&(s=o.stack[2]);var a=s&&s.url||"";if((!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(a))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(a))){if(this._globalOptions.stacktrace||e&&e.stacktrace){i.fingerprint=null==i.fingerprint?t:i.fingerprint,(e=g({trimHeadFrames:0},e)).trimHeadFrames+=1;var u=this._prepareFrames(o,e);i.stacktrace={frames:u.reverse()}}return i.fingerprint&&(i.fingerprint=v(i.fingerprint)?i.fingerprint:[i.fingerprint]),this._send(i),this}}},captureBreadcrumb:function(t){var e=g({timestamp:now()/1e3},t);if(_(this._globalOptions.breadcrumbCallback)){var n=this._globalOptions.breadcrumbCallback(e);if(p(n)&&!y(n))e=n;else if(!1===n)return this}return this._breadcrumbs.push(e),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(t){var e=[].slice.call(arguments,1);return this._plugins.push([t,e]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(t){return this._globalContext.user=t,this},setExtraContext:function(t){return this._mergeContext("extra",t),this},setTagsContext:function(t){return this._mergeContext("tags",t),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(i(this._globalContext))},setEnvironment:function(t){return this._globalOptions.environment=t,this},setRelease:function(t){return this._globalOptions.release=t,this},setDataCallback:function(t){var e=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=keepOriginalCallback(e,t),this},setBreadcrumbCallback:function(t){var e=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=keepOriginalCallback(e,t),this},setShouldSendCallback:function(t){var e=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=keepOriginalCallback(e,t),this},setTransport:function(t){return this._globalOptions.transport=t,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1))},afterLoad:function(){var t=z.RavenConfig;t&&this.config(t.dsn,t.config).install()},showReportDialog:function(t){if(B){var e=(t=t||{}).eventId||this.lastEventId();if(!e)throw new s("Missing eventId");var n=t.dsn||this._dsn;if(!n)throw new s("Missing DSN");var r=encodeURIComponent,i="";i+="?eventId="+r(e),i+="&dsn="+r(n);var o=t.user||this._globalContext.user;o&&(o.name&&(i+="&name="+r(o.name)),o.email&&(i+="&email="+r(o.email)));var a=this._getGlobalServer(this._parseDSN(n)),u=B.createElement("script");u.async=!0,u.src=a+"/api/embed/error-page/"+i,(B.head||B.body).appendChild(u)}},_ignoreNextOnError:function(){var t=this;this._ignoreOnError+=1,setTimeout(function(){t._ignoreOnError-=1})},_triggerEvent:function(t,e){var n,r;if(this._hasDocument){for(r in e=e||{},t="raven"+t.substr(0,1).toUpperCase()+t.substr(1),B.createEvent?(n=B.createEvent("HTMLEvents")).initEvent(t,!0,!0):(n=B.createEventObject()).eventType=t,e)O(e,r)&&(n[r]=e[r]);if(B.createEvent)B.dispatchEvent(n);else try{B.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(t){}}},_breadcrumbEventHandler:function(t){var e=this;return function(n){if(e._keypressTimeout=null,e._lastCapturedEvent!==n){var r;e._lastCapturedEvent=n;try{r=j(n.target)}catch(t){r="<unknown>"}e.captureBreadcrumb({category:"ui."+t,message:r})}}},_keypressEventHandler:function(){var t=this;return function(e){var n;try{n=e.target}catch(t){return}var r=n&&n.tagName;if(r&&("INPUT"===r||"TEXTAREA"===r||n.isContentEditable)){var i=t._keypressTimeout;i||t._breadcrumbEventHandler("input")(e),clearTimeout(i),t._keypressTimeout=setTimeout(function(){t._keypressTimeout=null},1e3)}}},_captureUrlChange:function(t,e){var n=A(this._location.href),r=A(e),i=A(t);this._lastHref=e,n.protocol===r.protocol&&n.host===r.host&&(e=r.relative),n.protocol===i.protocol&&n.host===i.host&&(t=i.relative),this.captureBreadcrumb({category:"navigation",data:{to:e,from:t}})},_patchFunctionToString:function(){var t=this;t._originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){return"function"==typeof this&&this.__raven__?t._originalFunctionToString.apply(this.__orig__,arguments):t._originalFunctionToString.apply(this,arguments)}},_unpatchFunctionToString:function(){this._originalFunctionToString&&(Function.prototype.toString=this._originalFunctionToString)},_instrumentTryCatch:function(){var t=this,e=t._wrappedBuiltIns;function wrapTimeFn(e){return function(n,r){for(var i=new Array(arguments.length),o=0;o<i.length;++o)i[o]=arguments[o];var s=i[0];return _(s)&&(i[0]=t.wrap(s)),e.apply?e.apply(this,i):e(i[0],i[1])}}var n=this._globalOptions.autoBreadcrumbs;function wrapEventTarget(r){var i=z[r]&&z[r].prototype;i&&i.hasOwnProperty&&i.hasOwnProperty("addEventListener")&&(C(i,"addEventListener",function(e){return function(i,o,s,a){try{o&&o.handleEvent&&(o.handleEvent=t.wrap(o.handleEvent))}catch(t){}var u,c,l;return n&&n.dom&&("EventTarget"===r||"Node"===r)&&(c=t._breadcrumbEventHandler("click"),l=t._keypressEventHandler(),u=function(t){if(t){var e;try{e=t.type}catch(t){return}return"click"===e?c(t):"keypress"===e?l(t):void 0}}),e.call(this,i,t.wrap(o,void 0,u),s,a)}},e),C(i,"removeEventListener",function(t){return function(e,n,r,i){try{n=n&&(n.__raven_wrapper__?n.__raven_wrapper__:n)}catch(t){}return t.call(this,e,n,r,i)}},e))}C(z,"setTimeout",wrapTimeFn,e),C(z,"setInterval",wrapTimeFn,e),z.requestAnimationFrame&&C(z,"requestAnimationFrame",function(e){return function(n){return e(t.wrap(n))}},e);for(var r=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],i=0;i<r.length;i++)wrapEventTarget(r[i])},_instrumentBreadcrumbs:function(){var t=this,e=this._globalOptions.autoBreadcrumbs,n=t._wrappedBuiltIns;function wrapProp(e,n){e in n&&_(n[e])&&C(n,e,function(e){return t.wrap(e)})}if(e.xhr&&"XMLHttpRequest"in z){var r=z.XMLHttpRequest&&z.XMLHttpRequest.prototype;C(r,"open",function(e){return function(n,r){return b(r)&&-1===r.indexOf(t._globalKey)&&(this.__raven_xhr={method:n,url:r,status_code:null}),e.apply(this,arguments)}},n),C(r,"send",function(e){return function(){var n=this;function onreadystatechangeHandler(){if(n.__raven_xhr&&4===n.readyState){try{n.__raven_xhr.status_code=n.status}catch(t){}t.captureBreadcrumb({type:"http",category:"xhr",data:n.__raven_xhr})}}for(var r=["onload","onerror","onprogress"],i=0;i<r.length;i++)wrapProp(r[i],n);return"onreadystatechange"in n&&_(n.onreadystatechange)?C(n,"onreadystatechange",function(e){return t.wrap(e,void 0,onreadystatechangeHandler)}):n.onreadystatechange=onreadystatechangeHandler,e.apply(this,arguments)}},n)}e.xhr&&P()&&C(z,"fetch",function(e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;++r)n[r]=arguments[r];var i,o=n[0],s="GET";if("string"==typeof o?i=o:"Request"in z&&o instanceof z.Request?(i=o.url,o.method&&(s=o.method)):i=""+o,-1!==i.indexOf(t._globalKey))return e.apply(this,n);n[1]&&n[1].method&&(s=n[1].method);var a={method:s,url:i,status_code:null};return e.apply(this,n).then(function(e){return a.status_code=e.status,t.captureBreadcrumb({type:"http",category:"fetch",data:a}),e}).catch(function(e){throw t.captureBreadcrumb({type:"http",category:"fetch",data:a,level:"error"}),e})}},n),e.dom&&this._hasDocument&&(B.addEventListener?(B.addEventListener("click",t._breadcrumbEventHandler("click"),!1),B.addEventListener("keypress",t._keypressEventHandler(),!1)):B.attachEvent&&(B.attachEvent("onclick",t._breadcrumbEventHandler("click")),B.attachEvent("onkeypress",t._keypressEventHandler())));var i=z.chrome,o=!(i&&i.app&&i.app.runtime)&&z.history&&z.history.pushState&&z.history.replaceState;if(e.location&&o){var s=z.onpopstate;z.onpopstate=function(){var e=t._location.href;if(t._captureUrlChange(t._lastHref,e),s)return s.apply(this,arguments)};var a=function(e){return function(){var n=arguments.length>2?arguments[2]:void 0;return n&&t._captureUrlChange(t._lastHref,n+""),e.apply(this,arguments)}};C(z.history,"pushState",a,n),C(z.history,"replaceState",a,n)}if(e.console&&"console"in z&&console.log){var u=function(e,n){t.captureBreadcrumb({message:e,level:n.level,category:"console"})};m(["debug","info","warn","error","log"],function(t,e){q(console,e,u)})}},_restoreBuiltIns:function(){for(var t;this._wrappedBuiltIns.length;){var e=(t=this._wrappedBuiltIns.shift())[0],n=t[1],r=t[2];e[n]=r}},_restoreConsole:function(){for(var t in this._originalConsoleMethods)this._originalConsole[t]=this._originalConsoleMethods[t]},_drainPlugins:function(){var t=this;m(this._plugins,function(e,n){var r=n[0],i=n[1];r.apply(t,[t].concat(i))})},_parseDSN:function(t){var e=N.exec(t),n={},r=7;try{for(;r--;)n[D[r]]=e[r]||""}catch(e){throw new s("Invalid DSN: "+t)}if(n.pass&&!this._globalOptions.allowSecretKey)throw new s("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return n},_getGlobalServer:function(t){var e="//"+t.host+(t.port?":"+t.port:"");return t.protocol&&(e=t.protocol+":"+e),e},_handleOnErrorStackInfo:function(){this._ignoreOnError||this._handleStackInfo.apply(this,arguments)},_handleStackInfo:function(t,e){var n=this._prepareFrames(t,e);this._triggerEvent("handle",{stackInfo:t,options:e}),this._processException(t.name,t.message,t.url,t.lineno,n,e)},_prepareFrames:function(t,e){var n=this,r=[];if(t.stack&&t.stack.length&&(m(t.stack,function(e,i){var o=n._normalizeFrame(i,t.url);o&&r.push(o)}),e&&e.trimHeadFrames))for(var i=0;i<e.trimHeadFrames&&i<r.length;i++)r[i].in_app=!1;return r=r.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(t,e){var n={filename:t.url,lineno:t.line,colno:t.column,function:t.func||"?"};return t.url||(n.filename=e),n.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n.function)||/raven\.(min\.)?js$/.test(n.filename)),n},_processException:function(t,e,n,r,i,o){var s,a=(t?t+": ":"")+(e||"");if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e)&&!this._globalOptions.ignoreErrors.test(a))&&(i&&i.length?(n=i[0].filename||n,i.reverse(),s={frames:i}):n&&(s={frames:[{filename:n,lineno:r,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(n))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(n)))){var u=g({exception:{values:[{type:t,value:e,stacktrace:s}]},transaction:n},o);this._send(u)}},_trimPacket:function(t){var e=this._globalOptions.maxMessageLength;if(t.message&&(t.message=w(t.message,e)),t.exception){var n=t.exception.values[0];n.value=w(n.value,e)}var r=t.request;return r&&(r.url&&(r.url=w(r.url,this._globalOptions.maxUrlLength)),r.Referer&&(r.Referer=w(r.Referer,this._globalOptions.maxUrlLength))),t.breadcrumbs&&t.breadcrumbs.values&&this._trimBreadcrumbs(t.breadcrumbs),t},_trimBreadcrumbs:function(t){for(var e,n,r,i=["to","from","url"],o=0;o<t.values.length;++o)if((n=t.values[o]).hasOwnProperty("data")&&p(n.data)&&!S(n.data)){r=g({},n.data);for(var s=0;s<i.length;++s)e=i[s],r.hasOwnProperty(e)&&r[e]&&(r[e]=w(r[e],this._globalOptions.maxUrlLength));t.values[o].data=r}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var t={};return this._hasNavigator&&U.userAgent&&(t.headers={"User-Agent":U.userAgent}),z.location&&z.location.href&&(t.url=z.location.href),this._hasDocument&&B.referrer&&(t.headers||(t.headers={}),t.headers.Referer=B.referrer),t}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&now()-this._backoffStart<this._backoffDuration},_isRepeatData:function(t){var e=this._lastData;return!(!e||t.message!==e.message||t.transaction!==e.transaction)&&(t.stacktrace||e.stacktrace?I(t.stacktrace,e.stacktrace):!t.exception&&!e.exception||T(t.exception,e.exception))},_setBackoffState:function(t){if(!this._shouldBackoff()){var e=t.status;if(400===e||401===e||429===e){var n;try{n=P()?t.headers.get("Retry-After"):t.getResponseHeader("Retry-After"),n=1e3*parseInt(n,10)}catch(t){}this._backoffDuration=n||(2*this._backoffDuration||1e3),this._backoffStart=now()}}},_send:function(t){var e=this._globalOptions,n={project:this._globalProject,logger:e.logger,platform:"javascript"},r=this._getHttpData();r&&(n.request=r),t.trimHeadFrames&&delete t.trimHeadFrames,(t=g(n,t)).tags=g(g({},this._globalContext.tags),t.tags),t.extra=g(g({},this._globalContext.extra),t.extra),t.extra["session:duration"]=now()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(t.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),this._globalContext.user&&(t.user=this._globalContext.user),e.environment&&(t.environment=e.environment),e.release&&(t.release=e.release),e.serverName&&(t.server_name=e.serverName),t=this._sanitizeData(t),Object.keys(t).forEach(function(e){(null==t[e]||""===t[e]||y(t[e]))&&delete t[e]}),_(e.dataCallback)&&(t=e.dataCallback(t)||t),t&&!y(t)&&(_(e.shouldSendCallback)&&!e.shouldSendCallback(t)||(this._shouldBackoff()?this._logDebug("warn","Raven dropped error due to backoff: ",t):"number"==typeof e.sampleRate?Math.random()<e.sampleRate&&this._sendProcessedPayload(t):this._sendProcessedPayload(t)))},_sanitizeData:function(t){return R(t,this._globalOptions.sanitizeKeys)},_getUuid:function(){return k()},_sendProcessedPayload:function(t,e){var n=this,r=this._globalOptions;if(this.isSetup())if(t=this._trimPacket(t),this._globalOptions.allowDuplicates||!this._isRepeatData(t)){this._lastEventId=t.event_id||(t.event_id=this._getUuid()),this._lastData=t,this._logDebug("debug","Raven about to send:",t);var i={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(i.sentry_secret=this._globalSecret);var o=t.exception&&t.exception.values[0];this._globalOptions.autoBreadcrumbs&&this._globalOptions.autoBreadcrumbs.sentry&&this.captureBreadcrumb({category:"sentry",message:o?(o.type?o.type+": ":"")+o.value:t.message,event_id:t.event_id,level:t.level||"error"});var s=this._globalEndpoint;(r.transport||this._makeRequest).call(this,{url:s,auth:i,data:t,options:r,onSuccess:function success(){n._resetBackoff(),n._triggerEvent("success",{data:t,src:s}),e&&e()},onError:function failure(r){n._logDebug("error","Raven transport failed to send: ",r),r.request&&n._setBackoffState(r.request),n._triggerEvent("failure",{data:t,src:s}),r=r||new Error("Raven send failed (no additional details provided)"),e&&e(r)}})}else this._logDebug("warn","Raven dropped repeat event: ",t)},_makeRequest:function(t){var e=t.url+"?"+E(t.auth),n=null,r={};if(t.options.headers&&(n=this._evaluateHash(t.options.headers)),t.options.fetchParameters&&(r=this._evaluateHash(t.options.fetchParameters)),P()){r.body=i(t.data);var o=g({},this._fetchDefaults),s=g(o,r);return n&&(s.headers=n),z.fetch(e,s).then(function(e){if(e.ok)t.onSuccess&&t.onSuccess();else{var n=new Error("Sentry error code: "+e.status);n.request=e,t.onError&&t.onError(n)}}).catch(function(){t.onError&&t.onError(new Error("Sentry error code: network unavailable"))})}var a=z.XMLHttpRequest&&new z.XMLHttpRequest;a&&(("withCredentials"in a||"undefined"!=typeof XDomainRequest)&&("withCredentials"in a?a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status)t.onSuccess&&t.onSuccess();else if(t.onError){var e=new Error("Sentry error code: "+a.status);e.request=a,t.onError(e)}}:(a=new XDomainRequest,e=e.replace(/^https?:/,""),t.onSuccess&&(a.onload=t.onSuccess),t.onError&&(a.onerror=function(){var e=new Error("Sentry error code: XDomainRequest");e.request=a,t.onError(e)})),a.open("POST",e),n&&m(n,function(t,e){a.setRequestHeader(t,e)}),a.send(i(t.data))))},_evaluateHash:function(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];e[n]="function"==typeof r?r():r}return e},_logDebug:function(t){this._originalConsoleMethods[t]&&(this.debug||this._globalOptions.debug)&&Function.prototype.apply.call(this._originalConsoleMethods[t],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(t,e){d(e)?delete this._globalContext[t]:this._globalContext[t]=g(this._globalContext[t]||{},e)}},Raven.prototype.setUser=Raven.prototype.setUserContext,Raven.prototype.setReleaseContext=Raven.prototype.setRelease,t.exports=Raven}).call(e,n(36))},function(t,e,n){(function(e){var r=n(130),i={collectWindowErrors:!0,debug:!1},o="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},s=[].slice,a="?",u=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function getLocationHref(){return"undefined"==typeof document||null==document.location?"":document.location.href}i.report=function reportModuleWrapper(){var t,e,n=[],c=null,l=null,f=null;function notifyHandlers(t,e){var r=null;if(!e||i.collectWindowErrors){for(var o in n)if(n.hasOwnProperty(o))try{n[o].apply(null,[t].concat(s.call(arguments,2)))}catch(t){r=t}if(r)throw r}}function traceKitWindowOnError(e,n,o,s,c){var l=r.isErrorEvent(c)?c.error:c,p=r.isErrorEvent(e)?e.message:e;if(f)i.computeStackTrace.augmentStackTraceWithInitialElement(f,n,o,p),processLastException();else if(l&&r.isError(l))notifyHandlers(i.computeStackTrace(l),!0);else{var h,d={url:n,line:o,column:s},_=void 0;if("[object String]"==={}.toString.call(p))(h=p.match(u))&&(_=h[1],p=h[2]);d.func=a,notifyHandlers({name:_,message:p,url:getLocationHref(),stack:[d]},!0)}return!!t&&t.apply(this,arguments)}function processLastException(){var t=f,e=c;c=null,f=null,l=null,notifyHandlers.apply(null,[t,!1].concat(e))}function report(t,e){var n=s.call(arguments,1);if(f){if(l===t)return;processLastException()}var r=i.computeStackTrace(t);if(f=r,l=t,c=n,setTimeout(function(){l===t&&processLastException()},r.incomplete?2e3:0),!1!==e)throw t}return report.subscribe=function subscribe(r){!function installGlobalHandler(){e||(t=o.onerror,o.onerror=traceKitWindowOnError,e=!0)}(),n.push(r)},report.unsubscribe=function unsubscribe(t){for(var e=n.length-1;e>=0;--e)n[e]===t&&n.splice(e,1)},report.uninstall=function unsubscribeAll(){!function uninstallGlobalHandler(){e&&(o.onerror=t,e=!1,t=void 0)}(),n=[]},report}(),i.computeStackTrace=function computeStackTraceWrapper(){function computeStackTraceFromStackProp(t){if(void 0!==t.stack&&t.stack){for(var e,n,r,i=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,o=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,s=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,u=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,c=/\((\S*)(?::(\d+))(?::(\d+))\)/,l=t.stack.split("\n"),f=[],p=(/^(.*) is undefined$/.exec(t.message),0),h=l.length;p<h;++p){if(n=i.exec(l[p])){var d=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(e=c.exec(n[2]))&&(n[2]=e[1],n[3]=e[2],n[4]=e[3]),r={url:d?null:n[2],func:n[1]||a,args:d?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=o.exec(l[p]))r={url:n[2],func:n[1]||a,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=s.exec(l[p])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(e=u.exec(n[3]))?(n[3]=e[1],n[4]=e[2],n[5]=null):0!==p||n[5]||void 0===t.columnNumber||(f[0].column=t.columnNumber+1),r={url:n[3],func:n[1]||a,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}if(!r.func&&r.line&&(r.func=a),r.url&&"blob:"===r.url.substr(0,5)){var _=new XMLHttpRequest;if(_.open("GET",r.url,!1),_.send(null),200===_.status){var b=_.responseText||"",v=(b=b.slice(-300)).match(/\/\/# sourceMappingURL=(.*)$/);if(v){var y=v[1];"~"===y.charAt(0)&&(y=("undefined"==typeof document||null==document.location?"":(document.location.origin||(document.location.origin=document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:"")),document.location.origin))+y.slice(1)),r.url=y.slice(0,-4)}}}f.push(r)}return f.length?{name:t.name,message:t.message,url:getLocationHref(),stack:f}:null}}function augmentStackTraceWithInitialElement(t,e,n,r){var i={url:e,line:n};if(i.url&&i.line){if(t.incomplete=!1,i.func||(i.func=a),t.stack.length>0&&t.stack[0].url===i.url){if(t.stack[0].line===i.line)return!1;if(!t.stack[0].line&&t.stack[0].func===i.func)return t.stack[0].line=i.line,!1}return t.stack.unshift(i),t.partial=!0,!0}return t.incomplete=!0,!1}function computeStackTraceByWalkingCallerChain(t,e){for(var n,r,o=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,s=[],u={},c=!1,l=computeStackTraceByWalkingCallerChain.caller;l&&!c;l=l.caller)if(l!==computeStackTrace&&l!==i.report){if(r={url:null,func:a,line:null,column:null},l.name?r.func=l.name:(n=o.exec(l.toString()))&&(r.func=n[1]),void 0===r.func)try{r.func=n.input.substring(0,n.input.indexOf("{"))}catch(t){}u[""+l]?c=!0:u[""+l]=!0,s.push(r)}e&&s.splice(0,e);var f={name:t.name,message:t.message,url:getLocationHref(),stack:s};return augmentStackTraceWithInitialElement(f,t.sourceURL||t.fileName,t.line||t.lineNumber,t.message||t.description),f}function computeStackTrace(t,e){var n=null;e=null==e?0:+e;try{if(n=computeStackTraceFromStackProp(t))return n}catch(t){if(i.debug)throw t}try{if(n=computeStackTraceByWalkingCallerChain(t,e+1))return n}catch(t){if(i.debug)throw t}return{name:t.name,message:t.message,url:getLocationHref()}}return computeStackTrace.augmentStackTraceWithInitialElement=augmentStackTraceWithInitialElement,computeStackTrace.computeStackTraceFromStackProp=computeStackTraceFromStackProp,computeStackTrace}(),t.exports=i}).call(e,n(36))},function(t,e){function safeAdd(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function md5cmn(t,e,n,r,i,o){return safeAdd(function bitRotateLeft(t,e){return t<<e|t>>>32-e}(safeAdd(safeAdd(e,t),safeAdd(r,o)),i),n)}function md5ff(t,e,n,r,i,o,s){return md5cmn(e&n|~e&r,t,e,i,o,s)}function md5gg(t,e,n,r,i,o,s){return md5cmn(e&r|n&~r,t,e,i,o,s)}function md5hh(t,e,n,r,i,o,s){return md5cmn(e^n^r,t,e,i,o,s)}function md5ii(t,e,n,r,i,o,s){return md5cmn(n^(e|~r),t,e,i,o,s)}function binlMD5(t,e){var n,r,i,o,s;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var a=1732584193,u=-271733879,c=-1732584194,l=271733878;for(n=0;n<t.length;n+=16)r=a,i=u,o=c,s=l,a=md5ff(a,u,c,l,t[n],7,-680876936),l=md5ff(l,a,u,c,t[n+1],12,-389564586),c=md5ff(c,l,a,u,t[n+2],17,606105819),u=md5ff(u,c,l,a,t[n+3],22,-1044525330),a=md5ff(a,u,c,l,t[n+4],7,-176418897),l=md5ff(l,a,u,c,t[n+5],12,1200080426),c=md5ff(c,l,a,u,t[n+6],17,-1473231341),u=md5ff(u,c,l,a,t[n+7],22,-45705983),a=md5ff(a,u,c,l,t[n+8],7,1770035416),l=md5ff(l,a,u,c,t[n+9],12,-1958414417),c=md5ff(c,l,a,u,t[n+10],17,-42063),u=md5ff(u,c,l,a,t[n+11],22,-1990404162),a=md5ff(a,u,c,l,t[n+12],7,1804603682),l=md5ff(l,a,u,c,t[n+13],12,-40341101),c=md5ff(c,l,a,u,t[n+14],17,-1502002290),a=md5gg(a,u=md5ff(u,c,l,a,t[n+15],22,1236535329),c,l,t[n+1],5,-165796510),l=md5gg(l,a,u,c,t[n+6],9,-1069501632),c=md5gg(c,l,a,u,t[n+11],14,643717713),u=md5gg(u,c,l,a,t[n],20,-373897302),a=md5gg(a,u,c,l,t[n+5],5,-701558691),l=md5gg(l,a,u,c,t[n+10],9,38016083),c=md5gg(c,l,a,u,t[n+15],14,-660478335),u=md5gg(u,c,l,a,t[n+4],20,-405537848),a=md5gg(a,u,c,l,t[n+9],5,568446438),l=md5gg(l,a,u,c,t[n+14],9,-1019803690),c=md5gg(c,l,a,u,t[n+3],14,-187363961),u=md5gg(u,c,l,a,t[n+8],20,1163531501),a=md5gg(a,u,c,l,t[n+13],5,-1444681467),l=md5gg(l,a,u,c,t[n+2],9,-51403784),c=md5gg(c,l,a,u,t[n+7],14,1735328473),a=md5hh(a,u=md5gg(u,c,l,a,t[n+12],20,-1926607734),c,l,t[n+5],4,-378558),l=md5hh(l,a,u,c,t[n+8],11,-2022574463),c=md5hh(c,l,a,u,t[n+11],16,1839030562),u=md5hh(u,c,l,a,t[n+14],23,-35309556),a=md5hh(a,u,c,l,t[n+1],4,-1530992060),l=md5hh(l,a,u,c,t[n+4],11,1272893353),c=md5hh(c,l,a,u,t[n+7],16,-155497632),u=md5hh(u,c,l,a,t[n+10],23,-1094730640),a=md5hh(a,u,c,l,t[n+13],4,681279174),l=md5hh(l,a,u,c,t[n],11,-358537222),c=md5hh(c,l,a,u,t[n+3],16,-722521979),u=md5hh(u,c,l,a,t[n+6],23,76029189),a=md5hh(a,u,c,l,t[n+9],4,-640364487),l=md5hh(l,a,u,c,t[n+12],11,-421815835),c=md5hh(c,l,a,u,t[n+15],16,530742520),a=md5ii(a,u=md5hh(u,c,l,a,t[n+2],23,-995338651),c,l,t[n],6,-198630844),l=md5ii(l,a,u,c,t[n+7],10,1126891415),c=md5ii(c,l,a,u,t[n+14],15,-1416354905),u=md5ii(u,c,l,a,t[n+5],21,-57434055),a=md5ii(a,u,c,l,t[n+12],6,1700485571),l=md5ii(l,a,u,c,t[n+3],10,-1894986606),c=md5ii(c,l,a,u,t[n+10],15,-1051523),u=md5ii(u,c,l,a,t[n+1],21,-2054922799),a=md5ii(a,u,c,l,t[n+8],6,1873313359),l=md5ii(l,a,u,c,t[n+15],10,-30611744),c=md5ii(c,l,a,u,t[n+6],15,-1560198380),u=md5ii(u,c,l,a,t[n+13],21,1309151649),a=md5ii(a,u,c,l,t[n+4],6,-145523070),l=md5ii(l,a,u,c,t[n+11],10,-1120210379),c=md5ii(c,l,a,u,t[n+2],15,718787259),u=md5ii(u,c,l,a,t[n+9],21,-343485551),a=safeAdd(a,r),u=safeAdd(u,i),c=safeAdd(c,o),l=safeAdd(l,s);return[a,u,c,l]}function binl2rstr(t){var e,n="",r=32*t.length;for(e=0;e<r;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function rstr2binl(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;var r=8*t.length;for(e=0;e<r;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function rstr2hex(t){var e,n,r="";for(n=0;n<t.length;n+=1)e=t.charCodeAt(n),r+="0123456789abcdef".charAt(e>>>4&15)+"0123456789abcdef".charAt(15&e);return r}function str2rstrUTF8(t){return unescape(encodeURIComponent(t))}function rawMD5(t){return function rstrMD5(t){return binl2rstr(binlMD5(rstr2binl(t),8*t.length))}(str2rstrUTF8(t))}function rawHMACMD5(t,e){return function rstrHMACMD5(t,e){var n,r,i=rstr2binl(t),o=[],s=[];for(o[15]=s[15]=void 0,i.length>16&&(i=binlMD5(i,8*t.length)),n=0;n<16;n+=1)o[n]=909522486^i[n],s[n]=1549556828^i[n];return r=binlMD5(o.concat(rstr2binl(e)),512+8*e.length),binl2rstr(binlMD5(s.concat(r),640))}(str2rstrUTF8(t),str2rstrUTF8(e))}t.exports=function md5(t,e,n){return e?n?rawHMACMD5(e,t):function hexHMACMD5(t,e){return rstr2hex(rawHMACMD5(t,e))}(e,t):n?rawMD5(t):function hexMD5(t){return rstr2hex(rawMD5(t))}(t)}},function(t,e){function RavenConfigError(t){this.name="RavenConfigError",this.message=t}RavenConfigError.prototype=new Error,RavenConfigError.prototype.constructor=RavenConfigError,t.exports=RavenConfigError},function(t,e,n){var r=n(130);t.exports={wrapMethod:function(t,e,n){var i=t[e],o=t;if(e in t){var s="warn"===e?"warning":e;t[e]=function(){var t=[].slice.call(arguments),a=r.safeJoin(t," "),u={level:s,logger:"console",extra:{arguments:t}};"assert"===e?!1===t[0]&&(a="Assertion failed: "+(r.safeJoin(t.slice(1)," ")||"console.assert"),u.extra.arguments=t.slice(1),n&&n(a,u)):n&&n(a,u),i&&Function.prototype.apply.call(i,o,t)}}}}},function(t,e,n){var r=n(423),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return i.call(t)}),t.exports=r.inspectSource},function(t,e,n){var r=n(49),i=n(270),o=r["__core-js_shared__"]||i("__core-js_shared__",{});t.exports=o},function(t,e,n){var r=n(71),i=n(40),o=n(425);t.exports=!r&&!i(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(49),i=n(72),o=r.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},function(t,e,n){var r=n(273),i=n(423);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.1",mode:r?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e,n){"use strict";var r=n(18),i=n(494),o=n(434),s=n(500),a=n(437),u=n(102),c=n(430),l=n(37),f=n(273),p=n(132),h=n(433),d=h.IteratorPrototype,_=h.BUGGY_SAFARI_ITERATORS,b=l("iterator"),v=function(){return this};t.exports=function(t,e,n,l,h,y,m){i(n,e,l);var g,w,S,O=function(t){if(t===h&&T)return T;if(!_&&t in k)return k[t];switch(t){case"keys":return function keys(){return new n(this,t)};case"values":return function values(){return new n(this,t)};case"entries":return function entries(){return new n(this,t)}}return function(){return new n(this)}},x=e+" Iterator",E=!1,k=t.prototype,j=k[b]||k["@@iterator"]||h&&k[h],T=!_&&j||O(h),I="Array"==e&&k.entries||j;if(I&&(g=o(I.call(new t)),d!==Object.prototype&&g.next&&(f||o(g)===d||(s?s(g,d):"function"!=typeof g[b]&&u(g,b,v)),a(g,x,!0,!0),f&&(p[x]=v))),"values"==h&&j&&"values"!==j.name&&(E=!0,T=function values(){return j.call(this)}),f&&!m||k[b]===T||u(k,b,T),p[e]=T,h)if(w={values:O("values"),keys:y?T:O("keys"),entries:O("entries")},m)for(S in w)!_&&!E&&S in k||c(k,S,w[S]);else r({target:e,proto:!0,forced:_||E},w);return w}},function(t,e,n){var r=n(71),i=n(488),o=n(155),s=n(85),a=n(271),u=n(63),c=n(424),l=Object.getOwnPropertyDescriptor;e.f=r?l:function getOwnPropertyDescriptor(t,e){if(t=s(t),e=a(e,!0),c)try{return l(t,e)}catch(t){}if(u(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e,n){var r=n(49),i=n(102),o=n(63),s=n(270),a=n(422),u=n(269),c=u.get,l=u.enforce,f=String(String).split("String");(t.exports=function(t,e,n,a){var u=!!a&&!!a.unsafe,c=!!a&&!!a.enumerable,p=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||i(n,"name",e),l(n).source=f.join("string"==typeof e?e:"")),t!==r?(u?!p&&t[e]&&(c=!0):delete t[e],c?t[e]=n:i(t,e,n)):c?t[e]=n:s(e,n)})(Function.prototype,"toString",function toString(){return"function"==typeof this&&c(this).source||a(this)})},function(t,e,n){var r=n(49);t.exports=r},function(t,e,n){var r=n(63),i=n(85),o=n(276).indexOf,s=n(274);t.exports=function(t,e){var n,a=i(t),u=0,c=[];for(n in a)!r(s,n)&&r(a,n)&&c.push(n);for(;e.length>u;)r(a,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){"use strict";var r,i,o,s=n(434),a=n(102),u=n(63),c=n(37),l=n(273),f=c("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(i=s(s(o)))!==Object.prototype&&(r=i):p=!0),null==r&&(r={}),l||u(r,f)||a(r,f,function(){return this}),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},function(t,e,n){var r=n(63),i=n(41),o=n(272),s=n(495),a=o("IE_PROTO"),u=Object.prototype;t.exports=s?Object.getPrototypeOf:function(t){return t=i(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e,n){var r=n(40);t.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},function(t,e,n){var r,i=n(103),o=n(497),s=n(277),a=n(274),u=n(499),c=n(425),l=n(272),f=l("IE_PROTO"),p=function(){},h=function(t){return"<script>"+t+"<\/script>"},d=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;d=r?function(t){t.write(h("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):((e=c("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(h("document.F=Object")),t.close(),t.F);for(var n=s.length;n--;)delete d.prototype[s[n]];return d()};a[f]=!0,t.exports=Object.create||function create(t,e){var n;return null!==t?(p.prototype=i(t),n=new p,p.prototype=null,n[f]=t):n=d(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(62).f,i=n(63),o=n(37)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r,i,o=n(49),s=n(513),a=o.process,u=a&&a.versions,c=u&&u.v8;c?i=(r=c.split("."))[0]+r[1]:s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(i=r[1]),t.exports=i&&+i},function(t,e,n){"use strict";var r=n(86),i=n(33),o=n(278),s=function(t,e,n,a,u,c,l,f){for(var p,h=u,d=0,_=!!l&&o(l,f,3);d<a;){if(d in n){if(p=_?_(n[d],d,e):n[d],c>0&&r(p))h=s(t,e,p,i(p.length),h,c-1)-1;else{if(h>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[h]=p}h++}d++}return h};t.exports=s},function(t,e,n){var r=n(158),i=n(41),o=n(156),s=n(33),a=function(t){return function(e,n,a,u){r(n);var c=i(e),l=o(c),f=s(c.length),p=t?f-1:0,h=t?-1:1;if(a<2)for(;;){if(p in l){u=l[p],p+=h;break}if(p+=h,t?p<0:f<=p)throw TypeError("Reduce of empty array with no initial value")}for(;t?p>=0:f>p;p+=h)p in l&&(u=n(u,l[p],p,c));return u}};t.exports={left:a(!1),right:a(!0)}},function(t,e,n){"use strict";var r=function(){function AbstractContentEnvionmentServices(t){this.chromeEnv=t,this._getConfigPromise=null,this._backgroundReady=null}return AbstractContentEnvionmentServices.prototype.sendMessageToBackground=function(t){this.chromeEnv.runtime.sendMessage(t)},AbstractContentEnvionmentServices.prototype.getConfig=function(){var t=this;return null===this._getConfigPromise&&(this._getConfigPromise=new Promise(function(e,n){t.chromeEnv.runtime.sendMessage({type:"Config"},function(t){e(t)})})),this._getConfigPromise},AbstractContentEnvionmentServices.prototype.highlightPost=function(t){},Object.defineProperty(AbstractContentEnvionmentServices.prototype,"backgroundReady",{get:function(){var t=this;return null===this._backgroundReady&&(this._backgroundReady=new Promise(function(e,n){var r=function(n){n&&"background-ready"===n.type&&(t.chromeEnv.runtime.onMessage.removeListener(r),e())};t.chromeEnv.runtime.onMessage.addListener(r),t.sendMessageToBackground({type:"IsBackgroundReady",payload:{}})})),this._backgroundReady},enumerable:!0,configurable:!0}),AbstractContentEnvionmentServices.sendMessageToBackground=function(t,e){t.runtime.sendMessage(e)},AbstractContentEnvionmentServices}();e.a=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r=n(484);n(544),n(545),n(546),t.exports=r},function(t,e,n){n(485),n(502),n(510),n(511),n(512),n(514),n(516),n(517),n(519),n(520),n(521),n(522),n(523),n(524),n(526),n(527),n(528),n(529),n(530),n(532),n(533),n(534),n(535),n(536),n(537),n(538),n(539),n(541),n(542),n(543);var r=n(431);t.exports=r.Array},function(t,e,n){"use strict";var r=n(486).charAt,i=n(269),o=n(428),s=i.set,a=i.getterFor("String Iterator");o(String,"String",function(t){s(this,{type:"String Iterator",string:String(t),index:0})},function next(){var t,e=a(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(101),i=n(268),o=function(t){return function(e,n){var o,s,a=String(i(e)),u=r(n),c=a.length;return u<0||u>=c?t?"":void 0:(o=a.charCodeAt(u))<55296||o>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):o:t?a.slice(u,u+2):s-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},function(t,e,n){var r=n(49),i=n(422),o=r.WeakMap;t.exports="function"==typeof o&&/native code/.test(i(o))},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function propertyIsEnumerable(t){var e=i(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(63),i=n(490),o=n(429),s=n(62);t.exports=function(t,e){for(var n=i(e),a=s.f,u=o.f,c=0;c<n.length;c++){var l=n[c];r(t,l)||a(t,l,u(e,l))}}},function(t,e,n){var r=n(157),i=n(491),o=n(492),s=n(103);t.exports=r("Reflect","ownKeys")||function ownKeys(t){var e=i.f(s(t)),n=o.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(432),i=n(277).concat("length","prototype");e.f=Object.getOwnPropertyNames||function getOwnPropertyNames(t){return r(t,i)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(40),i=/#|\.prototype\./,o=function(t,e){var n=a[s(t)];return n==c||n!=u&&("function"==typeof e?r(e):!!e)},s=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},a=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},function(t,e,n){"use strict";var r=n(433).IteratorPrototype,i=n(436),o=n(155),s=n(437),a=n(132),u=function(){return this};t.exports=function(t,e,n){var c=e+" Iterator";return t.prototype=i(r,{next:o(1,n)}),s(t,c,!1,!0),a[c]=u,t}},function(t,e,n){var r=n(40);t.exports=!r(function(){function F(){}return F.prototype.constructor=null,Object.getPrototypeOf(new F)!==F.prototype})},function(t,e,n){var r=n(435);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var r=n(71),i=n(62),o=n(103),s=n(498);t.exports=r?Object.defineProperties:function defineProperties(t,e){o(t);for(var n,r=s(e),a=r.length,u=0;a>u;)i.f(t,n=r[u++],e[n]);return t}},function(t,e,n){var r=n(432),i=n(277);t.exports=Object.keys||function keys(t){return r(t,i)}},function(t,e,n){var r=n(157);t.exports=r("document","documentElement")},function(t,e,n){var r=n(103),i=n(501);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function setPrototypeOf(n,o){return r(n),i(o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},function(t,e,n){var r=n(72);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){var r=n(18),i=n(503);r({target:"Array",stat:!0,forced:!n(509)(function(t){Array.from(t)})},{from:i})},function(t,e,n){"use strict";var r=n(278),i=n(41),o=n(504),s=n(505),a=n(33),u=n(133),c=n(506);t.exports=function from(t){var e,n,l,f,p,h=i(t),d="function"==typeof this?this:Array,_=arguments.length,b=_>1?arguments[1]:void 0,v=void 0!==b,y=0,m=c(h);if(v&&(b=r(b,_>2?arguments[2]:void 0,2)),null==m||d==Array&&s(m))for(n=new d(e=a(h.length));e>y;y++)u(n,y,v?b(h[y],y):h[y]);else for(p=(f=m.call(h)).next,n=new d;!(l=p.call(f)).done;y++)u(n,y,v?o(f,b,[l.value,y],!0):l.value);return n.length=y,n}},function(t,e,n){var r=n(103);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(37),i=n(132),o=r("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[o]===t)}},function(t,e,n){var r=n(507),i=n(132),o=n(37)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var r=n(508),i=n(275),o=n(37)("toStringTag"),s="Arguments"==i(function(){return arguments}());t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:s?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,n){var r={};r[n(37)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){var r=n(37)("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[r]=function(){return this},Array.from(s,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},function(t,e,n){n(18)({target:"Array",stat:!0},{isArray:n(86)})},function(t,e,n){"use strict";var r=n(18),i=n(40),o=n(133);r({target:"Array",stat:!0,forced:i(function(){function F(){}return!(Array.of.call(F)instanceof F)})},{of:function of(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)o(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var r=n(18),i=n(40),o=n(86),s=n(72),a=n(41),u=n(33),c=n(133),l=n(134),f=n(135),p=n(37),h=n(438),d=p("isConcatSpreadable"),_=h>=51||!i(function(){var t=[];return t[d]=!1,t.concat()[0]!==t}),b=f("concat"),v=function(t){if(!s(t))return!1;var e=t[d];return void 0!==e?!!e:o(t)};r({target:"Array",proto:!0,forced:!_||!b},{concat:function concat(t){var e,n,r,i,o,s=a(this),f=l(s,0),p=0;for(e=-1,r=arguments.length;e<r;e++)if(o=-1===e?s:arguments[e],v(o)){if(p+(i=u(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,p++)n in o&&c(f,p,o[n])}else{if(p>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(f,p++,o)}return f.length=p,f}})},function(t,e,n){var r=n(157);t.exports=r("navigator","userAgent")||""},function(t,e,n){var r=n(18),i=n(515),o=n(52);r({target:"Array",proto:!0},{copyWithin:i}),o("copyWithin")},function(t,e,n){"use strict";var r=n(41),i=n(131),o=n(33),s=Math.min;t.exports=[].copyWithin||function copyWithin(t,e){var n=r(this),a=o(n.length),u=i(t,a),c=i(e,a),l=arguments.length>2?arguments[2]:void 0,f=s((void 0===l?a:i(l,a))-c,a-u),p=1;for(c<u&&u<c+f&&(p=-1,c+=f-1,u+=f-1);f-- >0;)c in n?n[u]=n[c]:delete n[u],u+=p,c+=p;return n}},function(t,e,n){"use strict";var r=n(18),i=n(87).every;r({target:"Array",proto:!0,forced:n(64)("every")},{every:function every(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(18),i=n(518),o=n(52);r({target:"Array",proto:!0},{fill:i}),o("fill")},function(t,e,n){"use strict";var r=n(41),i=n(131),o=n(33);t.exports=function fill(t){for(var e=r(this),n=o(e.length),s=arguments.length,a=i(s>1?arguments[1]:void 0,n),u=s>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>a;)e[a++]=t;return e}},function(t,e,n){"use strict";var r=n(18),i=n(87).filter,o=n(40),s=n(135)("filter"),a=s&&!o(function(){[].filter.call({length:-1,0:1},function(t){throw t})});r({target:"Array",proto:!0,forced:!s||!a},{filter:function filter(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(18),i=n(87).find,o=n(52),s=!0;"find"in[]&&Array(1).find(function(){s=!1}),r({target:"Array",proto:!0,forced:s},{find:function find(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("find")},function(t,e,n){"use strict";var r=n(18),i=n(87).findIndex,o=n(52),s=!0;"findIndex"in[]&&Array(1).findIndex(function(){s=!1}),r({target:"Array",proto:!0,forced:s},{findIndex:function findIndex(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},function(t,e,n){"use strict";var r=n(18),i=n(439),o=n(41),s=n(33),a=n(101),u=n(134);r({target:"Array",proto:!0},{flat:function flat(){var t=arguments.length?arguments[0]:void 0,e=o(this),n=s(e.length),r=u(e,0);return r.length=i(r,e,e,n,0,void 0===t?1:a(t)),r}})},function(t,e,n){"use strict";var r=n(18),i=n(439),o=n(41),s=n(33),a=n(158),u=n(134);r({target:"Array",proto:!0},{flatMap:function flatMap(t){var e,n=o(this),r=s(n.length);return a(t),(e=u(n,0)).length=i(e,n,n,r,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},function(t,e,n){"use strict";var r=n(18),i=n(525);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},function(t,e,n){"use strict";var r=n(87).forEach,i=n(64);t.exports=i("forEach")?function forEach(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach},function(t,e,n){"use strict";var r=n(18),i=n(276).includes,o=n(52);r({target:"Array",proto:!0},{includes:function includes(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},function(t,e,n){"use strict";var r=n(18),i=n(276).indexOf,o=n(64),s=[].indexOf,a=!!s&&1/[1].indexOf(1,-0)<0,u=o("indexOf");r({target:"Array",proto:!0,forced:a||u},{indexOf:function indexOf(t){return a?s.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(85),i=n(52),o=n(132),s=n(269),a=n(428),u=s.set,c=s.getterFor("Array Iterator");t.exports=a(Array,"Array",function(t,e){u(this,{type:"Array Iterator",target:r(t),index:0,kind:e})},function(){var t=c(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,n){"use strict";var r=n(18),i=n(156),o=n(85),s=n(64),a=[].join,u=i!=Object,c=s("join",",");r({target:"Array",proto:!0,forced:u||c},{join:function join(t){return a.call(o(this),void 0===t?",":t)}})},function(t,e,n){var r=n(18),i=n(531);r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},function(t,e,n){"use strict";var r=n(85),i=n(101),o=n(33),s=n(64),a=Math.min,u=[].lastIndexOf,c=!!u&&1/[1].lastIndexOf(1,-0)<0,l=s("lastIndexOf");t.exports=c||l?function lastIndexOf(t){if(c)return u.apply(this,arguments)||0;var e=r(this),n=o(e.length),s=n-1;for(arguments.length>1&&(s=a(s,i(arguments[1]))),s<0&&(s=n+s);s>=0;s--)if(s in e&&e[s]===t)return s||0;return-1}:u},function(t,e,n){"use strict";var r=n(18),i=n(87).map,o=n(40),s=n(135)("map"),a=s&&!o(function(){[].map.call({length:-1,0:1},function(t){throw t})});r({target:"Array",proto:!0,forced:!s||!a},{map:function map(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(18),i=n(440).left;r({target:"Array",proto:!0,forced:n(64)("reduce")},{reduce:function reduce(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(18),i=n(440).right;r({target:"Array",proto:!0,forced:n(64)("reduceRight")},{reduceRight:function reduceRight(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(18),i=n(86),o=[].reverse,s=[1,2];r({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function reverse(){return i(this)&&(this.length=this.length),o.call(this)}})},function(t,e,n){"use strict";var r=n(18),i=n(72),o=n(86),s=n(131),a=n(33),u=n(85),c=n(133),l=n(135),f=n(37)("species"),p=[].slice,h=Math.max;r({target:"Array",proto:!0,forced:!l("slice")},{slice:function slice(t,e){var n,r,l,d=u(this),_=a(d.length),b=s(t,_),v=s(void 0===e?_:e,_);if(o(d)&&("function"!=typeof(n=d.constructor)||n!==Array&&!o(n.prototype)?i(n)&&null===(n=n[f])&&(n=void 0):n=void 0,n===Array||void 0===n))return p.call(d,b,v);for(r=new(void 0===n?Array:n)(h(v-b,0)),l=0;b<v;b++,l++)b in d&&c(r,l,d[b]);return r.length=l,r}})},function(t,e,n){"use strict";var r=n(18),i=n(87).some;r({target:"Array",proto:!0,forced:n(64)("some")},{some:function some(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(18),i=n(158),o=n(41),s=n(40),a=n(64),u=[],c=u.sort,l=s(function(){u.sort(void 0)}),f=s(function(){u.sort(null)}),p=a("sort");r({target:"Array",proto:!0,forced:l||!f||p},{sort:function sort(t){return void 0===t?c.call(o(this)):c.call(o(this),i(t))}})},function(t,e,n){n(540)("Array")},function(t,e,n){"use strict";var r=n(157),i=n(62),o=n(37),s=n(71),a=o("species");t.exports=function(t){var e=r(t),n=i.f;s&&e&&!e[a]&&n(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var r=n(18),i=n(131),o=n(101),s=n(33),a=n(41),u=n(134),c=n(133),l=n(135),f=Math.max,p=Math.min;r({target:"Array",proto:!0,forced:!l("splice")},{splice:function splice(t,e){var n,r,l,h,d,_,b=a(this),v=s(b.length),y=i(t,v),m=arguments.length;if(0===m?n=r=0:1===m?(n=0,r=v-y):(n=m-2,r=p(f(o(e),0),v-y)),v+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(l=u(b,r),h=0;h<r;h++)(d=y+h)in b&&c(l,h,b[d]);if(l.length=r,n<r){for(h=y;h<v-r;h++)_=h+n,(d=h+r)in b?b[_]=b[d]:delete b[_];for(h=v;h>v-r+n;h--)delete b[h-1]}else if(n>r)for(h=v-r;h>y;h--)_=h+n-1,(d=h+r-1)in b?b[_]=b[d]:delete b[_];for(h=0;h<n;h++)b[h+y]=arguments[h+2];return b.length=v-r+n,l}})},function(t,e,n){n(52)("flat")},function(t,e,n){n(52)("flatMap")},function(t,e,n){var r=n(18),i=n(86),o=Object.isFrozen,s=function(t,e){if(!o||!i(t)||!o(t))return!1;for(var n,r=0,s=t.length;r<s;)if(!("string"==typeof(n=t[r++])||e&&void 0===n))return!1;return 0!==s};r({target:"Array",stat:!0},{isTemplateObject:function isTemplateObject(t){if(!s(t,!0))return!1;var e=t.raw;return!(e.length!==t.length||!s(e,!1))}})},function(t,e,n){"use strict";var r=n(71),i=n(52),o=n(41),s=n(33),a=n(62).f;!r||"lastItem"in[]||(a(Array.prototype,"lastItem",{configurable:!0,get:function lastItem(){var t=o(this),e=s(t.length);return 0==e?void 0:t[e-1]},set:function lastItem(t){var e=o(this),n=s(e.length);return e[0==n?0:n-1]=t}}),i("lastItem"))},function(t,e,n){"use strict";var r=n(71),i=n(52),o=n(41),s=n(33),a=n(62).f;!r||"lastIndex"in[]||(a(Array.prototype,"lastIndex",{configurable:!0,get:function lastIndex(){var t=o(this),e=s(t.length);return 0==e?0:e-1}}),i("lastIndex"))},function(t,e,n){"use strict";e.a=function getStore(){if(null===h)return function createStore(){p=new a.a(d);var t=new o.a(p);return h=t,t}();return h},e.b=function injectBackend(){if(!window.__globalHookInjected)throw new Error("you must first call injectGlobalHook");return new Promise(function(t,e){var n=document.createElement("script");n.src=chrome.extension.getURL("reactDevToolsBackend.js"),n.async=!0,n.onload=function(e){t()},document.documentElement.appendChild(n),!0})},e.c=function stories(t){var e=Object(l.r)();return function nodesOnMount(t,e){var n=Object(l.r)();return new u.c(function(n){var r=e._nodesByName.get(t);r&&r.forEach(function(t){n.next(t)});var i=function(){var r=e._nodesByName.get(t);r&&r.forEach(function(t){n.next(t)})};return e.on(t,i),function(){e.off(t,i)}}).pipe(Object(c.h)(function(t){return n(t)}))}("UFI2TopReactions",t).pipe(Object(c.i)(function(e){var n=t.getParent(e);return{element:t.get(e),parent:t.get(n)}}),Object(c.h)(function(t){var e=t.parent.get("props");return e&&"_66lh"===e.className&&e.feedback}),Object(c.l)(function(e){return Promise.all([inspectProps(e.parent.get("id"),["props","feedback"],t),inspectProps(e.element.get("id"),["props","feedback","top_reactions"],t)]).then(function(){return{parent:e.parent,element:e.element}})}),Object(c.i)(function(t){return f(f({},t.element.get("props").feedback),t.parent.get("props").feedback)}),Object(c.i)(function(t){return{isSponsored:!!t.__fragmentOwner&&!!t.__fragmentOwner.variables.shareableStoryContext.ad_id,entId:atob(t.__id).split(":")[1],contentEndId:null,reactions:t.top_reactions,shareCount:t.share_count?t.share_count.count:null,commentsReduced:t.comment_count?t.comment_count.total_count:null,viewCount:t.video_view_count,postViewCount:t.seen_by_count?t.seen_by_count.count:null,width:null}}),Object(c.h)(function(t){return e(t.entId)}))};var r=n(548),i=(n.n(r),n(681)),o=n.n(i),s=n(682),a=n.n(s),u=n(20),c=n(34),l=n(16),f=this&&this.__assign||function(){return(f=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};window.__globalHookInjected="__globalHookInjected"in window&&window.__globalHookInjected;var p=null,h=null,d={listen:function(t){window.addEventListener("message",function(e){if("react-devtools-lib-bridge"===e.data.source){var n=JSON.parse(JSON.stringify(e.data.payload));t(n)}})},send:function(t){window.postMessage({source:"react-devtools-lib-content-script",payload:t},"*")}};function inspectProps(t,e,n){return new Promise(function(r,i){n.inspect(t,e,r)})}},function(t,e,n){var r;r=function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}({0:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function o(){var t=document.createElement("script");t.textContent=r,document.documentElement.appendChild(t),t.parentNode.removeChild(t)};var r=";("+n(43).toString()+"(window))\nwindow.__REACT_DEVTOOLS_GLOBAL_HOOK__.nativeObjectCreate = Object.create;\nwindow.__REACT_DEVTOOLS_GLOBAL_HOOK__.nativeMap = Map;\nwindow.__REACT_DEVTOOLS_GLOBAL_HOOK__.nativeWeakMap = WeakMap;\nwindow.__REACT_DEVTOOLS_GLOBAL_HOOK__.nativeSet = Set;\n"},43:function(t,e){"use strict";t.exports=function n(e){if(!e.__REACT_DEVTOOLS_GLOBAL_HOOK__){var n={_renderers:{},helpers:{},inject:function(e){var r=Math.random().toString(16).slice(2);n._renderers[r]=e;var i=function t(e){try{var n=Function.prototype.toString;if("string"==typeof e.version){if(e.bundleType>0)return"development";var r=n.call(e.findFiberByHostInstance);return 0!==r.indexOf("function")?"production":/function[\s\w]*\(\w[,\)]/.test(r)?"production":"unminified"}if(e.Mount&&e.Mount._renderNewRootComponent){var i=n.call(e.Mount._renderNewRootComponent);return 0!==i.indexOf("function")?"production":-1!==i.indexOf("storedMeasure")?"development":-1!==i.indexOf("should be a pure function")?-1!==i.indexOf("NODE_ENV")?"development":-1!==i.indexOf("development")?"development":-1!==i.indexOf("true")?"development":/function\s*\(\w\,/.test(i)?"development":"unminified":/function\s*\(\w\,/.test(i)?-1!==i.indexOf("._registerComponent")?"outdated":"production":"unminified"}}catch(t){}return"production"}(e);return n.emit("renderer",{id:r,renderer:e,reactBuildType:i}),r},_listeners:{},sub:function(t,e){return n.on(t,e),function(){return n.off(t,e)}},on:function(t,e){n._listeners[t]||(n._listeners[t]=[]),n._listeners[t].push(e)},off:function(t,e){if(n._listeners[t]){var r=n._listeners[t].indexOf(e);-1!==r&&n._listeners[t].splice(r,1),n._listeners[t].length||(n._listeners[t]=null)}},emit:function(t,e){n._listeners[t]&&n._listeners[t].map(function(t){return t(e)})},supportsFiber:!0,_fiberRoots:{},getFiberRoots:function(t){var e=n._fiberRoots;return e[t]||(e[t]=new Set),e[t]},onCommitFiberUnmount:function(t,e){n.helpers[t]&&n.helpers[t].handleCommitFiberUnmount(e)},onCommitFiberRoot:function(t,e){var r=n.getFiberRoots(t),i=e.current,o=r.has(e),s=null==i.memoizedState||null==i.memoizedState.element;o||s?o&&s&&r.delete(e):r.add(e),n.helpers[t]&&n.helpers[t].handleCommitFiberRoot(e)}};Object.defineProperty(e,"__REACT_DEVTOOLS_GLOBAL_HOOK__",{value:n})}}}})},t.exports=r()},function(t,e,n){"use strict";e.b=getWindowMessageNames,e.c=function injectPageTrafficListenerIntoPageScope(t,e,n){var i=getWindowMessageNames(t),o=i.message_id,s=i.handshake_message_id,a=document.createElement("script");a.textContent="("+r.a.toString()+')("'+o+'", "'+s+'", '+JSON.stringify(e)+")",Promise.resolve().then(function(){if(n)return n.then(function(t){t&&a.setAttribute("nonce",t)})}).then(function(){window.document.documentElement&&window.document.documentElement.insertBefore(a,window.document.documentElement.firstElementChild)})},e.d=function tryGetNonceTwitter(){return wait(0).then(function(){var t=document.querySelector("link[nonce] , script[nonce]");return t?t.nonce:null})},e.a=function getNonceFromOurCookie(){return wait(0).then(function(){var t=document.cookie.match(i);return t&&t[1]?t[1]:null})};var r=n(550);function wait(t){return new Promise(function(e){window.setTimeout(e,t)})}function getWindowMessageNames(t){return{message_id:"__traffic_listener_xhr_"+t,handshake_message_id:"__traffic_listener_handShake_"+t}}var i=new RegExp("2345tatgf435632456gtnonce=([^;]+)")},function(t,e,n){"use strict";e.a=function hookXHRCode(t,e,n){var r=n.map(function(t){return new RegExp(t,"i")});if(window._______traffic_listener_extension_injected)return;window._______traffic_listener_extension_injected=!0;var i=!1,o=[];window.addEventListener("message",function(n){if(n.data.type===e)for(i=!0;o.length>0;)window.postMessage({type:t,payload:o.pop()},"*")}),function innerHookXhr(t){var e=XMLHttpRequest,n=function(){var n=new e;return n.addEventListener("readystatechange",function(){return t(n)}),n};n.DONE=XMLHttpRequest.DONE,n.HEADERS_RECEIVED=XMLHttpRequest.HEADERS_RECEIVED,n.LOADING=XMLHttpRequest.LOADING,n.OPENED=XMLHttpRequest.OPENED,n.UNSENT=XMLHttpRequest.UNSENT,n.prototype=XMLHttpRequest,XMLHttpRequest=n}(function(e){4===e.readyState&&r.some(function(t){return t.test(e.responseURL)})&&Promise.resolve().then(function(){return function requestIdleCallback(t){return new Promise(function(e){window.requestIdleCallback?window.requestIdleCallback(e,{timeout:t}):window.setTimeout(e,t)})}(200)}).then(function(){if("blob"===e.responseType&&e.response instanceof Blob)return function readFileAsync(t){return new Promise(function(e,n){var r=new FileReader;r.onload=function(){e(r.result)},r.onerror=n,r.readAsText(t,"utf8")})}(e.response);if("arraybuffer"===e.responseType)throw new Error("wtf array buffer with allowed content type");return e.responseText}).then(function(t){if(!t)throw new Error("empty response");return{ok:!0,responseBody:t}}).catch(function(t){return{ok:!1,error:t}}).then(function(n){n.ok?function postPayload(e){e&&(i?window.postMessage({type:t,payload:e},"*"):o.push(e))}({url:e.responseURL,body:n.responseBody}):console.warn(n)})})}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={feed:"https://api\\.twitter.com/2/timeline/home\\.json",search:"https://api\\.twitter.com/2/search/adaptive\\.json",user_profile:"https://api\\.twitter.com/2/timeline/profile/\\d+\\.json"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(677);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function LinkSanitizer(){}return LinkSanitizer.Sanitize=function(t){if(!t)return null;var e=this._templates.map(function(e){return t.match(e)}).find(function(t){return!!t});return e?e[1]:t},LinkSanitizer._templates=[/^https:\/\/aax-.+?\/.+?\/.+?\/.+?\/(https:\/\/www\.amazon\.(com|co\.uk)\/stores\/page\/.+)\?/i,/^https:\/\/aax-.+?\/.+?\/.+?\/.+?\/(https:\/\/www\.amazon\.(com|co\.uk)\/stores\/.+?\/page\/.+)\?/i,/^https:\/\/aax-.+?\/.+?\/.+?\/.+?\/(https:\/\/www\.amazon\.(com|co\.uk)\/.+?\/pages\/.+?)&/i,/^https:\/\/aax-.+?\/.+?\/.+?\/.+?\/(https:\/\/www\.amazon\.(com|co\.uk)\/(.+?\/)?s\?.+?)&(store_ref|pf_rd_m)/i,/^https:\/\/aax-.+?\/.+?\/.+?\/.+?\/(https:\/\/www\.amazon\.(com|co\.uk)\/b\?.+?)&store_ref/i,/^https:\/\/aax-.+?\/.+?\/.+?\/.+?\/(https:\/\/www\.amazon\.(com|co\.uk)\/.+?\/e\/.+?)(&store_ref|\?)/i,/^https:\/\/aax-.+?\/.+?\/.+?\/.+?\/(https:\/\/www\.amazon\.(com|co\.uk)\/a?dlp\/.+?)&store_ref/i,/^https:\/\/aax-.+?\/.+?\/.+?\/.+?\/(https:\/\/www\.amazon\.(com|co\.uk)\/l\/.+?)&store_ref/i,/^https:\/\/aax-.+?\/.+?\/.+?\/.+?\/(https:\/\/www\.amazon\.(com|co\.uk)\/dp\/.+?)\?/i],LinkSanitizer}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(676),i=n(547);Object(r.a)(i.b,!0,chrome.runtime.getManifest().version+"-ab75204-rof",!0,!0,"master","ab75204","rof",chrome.runtime.getManifest().version)},function(t,e,n){"use strict";e.a=function StartContent(t,e,n,m,w,S,O,x,E){w?Object(o.c)(o.a.None):Object(o.c)(o.a.Log);e&&(window.__bt_setLevel=o.c);if(window.top===window){if("www.facebook.com"===document.location.host){var k=startCommonCode(h.a.sendMessageToBackground);Object(a.f)(window.document).then(function(){!function startFacebookCode(n){if(n.info("startFacebookCode..."),!window.document.body)return void n.info("window.document.body is missing, bail!");if(location.href.match(["https://www.facebook.com/login.php","https://www.facebook.com/recover/code","dialog/oauth"].join("|"))||"/"===window.location.pathname&&window.document.body.classList.contains("UIPage_LoggedOut"))return void n.info("The user is loggedout from facebook. body.UIPage_LoggedOut is present");var i="";try{i=Object(a.d)(window.document)}catch(t){return void n.error("cant get user id",t)}var o="";try{o=Object(a.g)(window.document)}catch(t){return void n.error("cant get locale",t)}t();var s=Object(d.a)(),u=new h.a(chrome,E,n,o,i,s,window,b.a.bind(null,O),{sendRawData:!1});u.backgroundReady.then(function(){return n.log("background ready"),u.getConfig()}).then(function(t){var r=new c.e(n,u,t);r.start(),e&&(window.__btContent=r)});var l=new r.m(n,E);e&&(window.parser=l,window.parseSponsoredFeedStory=l.parseSponsoredFeedStory.bind(l),window.parseRegularStory=l.parseRegularStory.bind(l),window.extractFirstPostInStoryText=l.extractFirstPostInStoryText.bind(l),window.isStorySponsored=l.isStorySponsored.bind(l))}(k)}).catch(function(t){k.error("failed to start facebook code",t)})}else if("twitter.com"===document.location.host){var j=startCommonCode(v.a.sendMessageToBackground);Object(a.f)(window.document).then(function(){!function startTwitterCode(t){t.info("startTwitterCode...");var n=new v.a(chrome,t,window,function(){return Object(b.a)(O)});n.backgroundReady.then(function(){return t.log("background ready"),n.getConfig()}).then(function(r){var i=new c.h(t,n,r);i.start(),e&&(window.__btContent=i)})}(j)}).catch(function(t){j.error("failed to start twitter code",t)})}else if("www.amazon.com"===document.location.host||"www.amazon.co.uk"===document.location.host){var T=startCommonCode(f.a.sendMessageToBackground);Object(a.f)(window.document).then(function(){!function startAmazonCode(t){t.info("startAmazonCode...");var n=new f.a(chrome,t,window);n.backgroundReady.then(function(){return t.log("background ready"),n.getConfig()}).then(function(r){var i=new c.a(t,n,r);i.start(),e&&(window.__btContent=i)})}(T)}).catch(function(t){T.error("failed to start amazon code",t)})}else if("www.linkedin.com"===window.location.host){var I=startCommonCode(_.a.sendMessageToBackground);Object(a.f)(window.document).then(function(){!function startLinkedIn(t,n){t.info("startLinkedIn...");var r=new _.a(chrome,t,window,b.a.bind(null,n));r.backgroundReady.then(function(){return t.log("background ready"),r.getConfig()}).then(function(n){var o=new c.f(t,r,n);if(o.start(),e){var s=new i.a(t);window.__btContent=o,window.parser=s}})}(I,O)}).catch(function(t){I.error("failed to start amazon code",t)})}}else if("images-na.ssl-images-amazon.com"===window.location.host||"images-eu.ssl-images-amazon.com"===window.location.host){var A=startCommonCode(p.a.sendMessageToBackground);Object(a.f)(window.document).then(function(){!function startAmazonDisplayCode(t){t.info("startAmazonDisplayCode...");var n=new p.a(chrome,t,window);n.backgroundReady.then(function(){return t.log("background ready"),n.topReady}).then(function(){return t.log("top ready"),n.getConfig()}).then(function(r){var i=new c.b(t,n,r);i.start(),e&&(window.__btContent=i)})}(A)}).catch(function(t){A.error("failed to start amazon code",t)})}function startCommonCode(t){o.b.info("startCommonCode...");var e=new u.e(o.b,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];h.a.sendMessageToBackground(chrome,{type:"Analytics",payload:t}),o.b.info("will send to analytics",t)},l);Object(s.g)(window,w,function(t){t&&t.reason instanceof Error?e.error(t.reason):t&&t.error instanceof Error?e.error(t.error):e.error(t)}),l.setExtraContext({extensionId:chrome.runtime.id});var r={release:n,environment:S,tags:{git_commit:O},autoBreadcrumbs:{xhr:!1,console:!1,dom:!0,location:!1},ignoreErrors:g(["The user is not logged in to facebook","profile image selector has no results","Not a feedback target","Bad verb! verb::false","can't parse fb_post_entity_id, expected selector not found","profile image selector has no results",".fbInternPreview","The user is probably not logged in to facebook"],Object(s.h)()?[/.*/]:[])};return m&&(l.config("https://5c12a1d2279b480c99efa5ff04dd5b82@sentry.io/1219099",r).install(),Object(s.b)(l,"chrome-extension://fakeidforchromeextension/",chrome.runtime.getURL("/"))),Object(y.a)(window.document).then(function(e){t(chrome,{type:"AdBlockerStatus",payload:{ad_blocker_enabled:e}})}),e}};var r=n(42),i=n(593),o=n(187),s=n(16),a=n(74),u=n(148),c=n(168),l=n(416),f=(n.n(l),n(678)),p=n(679),h=n(680),d=n(547),_=n(683),b=n(684),v=n(685),y=n(686),m=n(483),g=(n.n(m),this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r})},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(16),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},o=function(){function Parser(t){if(this.log=t,!t)throw new Error("You can't start a parser without a logger!")}return Parser.prototype.parseMessagePayload=function(t){var e=this,n=t.included.filter(function(t){return"com.linkedin.voyager.feed.render.UpdateV2"===t.$type&&!!t.updateMetadata&&!!t.updateMetadata.trackingData&&!!t.updateMetadata.trackingData.sponsoredTracking}),r=new Map;t.included.filter(function(t){return"com.linkedin.videocontent.VideoPlayMetadata"===t.$type}).forEach(function(t){r.set(t.entityUrn,t)});var o=new Map;return t.included.filter(function(t){return"com.linkedin.voyager.feed.SocialDetail"===t.$type}).forEach(function(t){o.set(t.entityUrn,t)}),n.map(function(t){if(t.updateMetadata.urn.startsWith("urn:li:jobPosting"))return t.updateMetadata.urn;var n,s=null,a=t.content,u=t.commentary,c=t.carouselContent;try{if(t.leadGenFormContent)s=t.leadGenFormContent.ctaButton,a=t.leadGenFormContent.content,u=t.leadGenFormContent.commentary,c=t.leadGenFormContent.carouselContent;else if(t.content)s=t.content.inlineCtaButton?t.content.inlineCtaButton:t.content.largeCtaButton;else if(t.carouselContent){var l=t.carouselContent.items.find(function(t){return!!t.content.ctaButton});s=l?l.content.ctaButton:null}n=e.parsePost(r,s,a,u,c)}catch(n){return e.log.error("Exception while parsing LI post",n),t.updateMetadata.urn}return i({li_advertiser_name:t.actor?t.actor.name.text:null,li_advertiser_followers:t.actor?parseInt(t.actor.description.text.replace(/,/g,"").split(" ")[0])||0:null,li_advertiser_urn:t.actor?t.actor.urn:null,li_post_urn:t.updateMetadata.urn,li_post_cta_landing_page:t.updateMetadata.trackingData.sponsoredTracking.landingUrl,li_post_goal:t.updateMetadata.trackingData.sponsoredTracking.objectiveType,li_post_like_count:t["*socialDetail"]&&o.has(t["*socialDetail"])?o.get(t["*socialDetail"]).likes.paging.total:null,li_post_comment_count:t["*socialDetail"]&&o.has(t["*socialDetail"])?o.get(t["*socialDetail"]).comments.paging.total:null},n)})},Parser.prototype.parsePost=function(t,e,n,i,o){var s=null,a=null,u=Object(r.p)(function(){return e.navigationContext.actionTarget},null),c=Object(r.p)(function(){return e.text},null),l=Object(r.p)(function(){return i.text.text},null),f=Object(r.p)(function(){return n.title.text},null),p=Object(r.p)(function(){return n.subtitle.text},null),h=Object(r.p)(function(){return t.get(n["*videoPlayMetadata"]).progressiveStreams[0].streamingLocations[0].url},null),d=Object(r.p)(function(){return t.get(n["*videoPlayMetadata"]).duration},null),_=Object(r.p)(function(){return t.get(n["*videoPlayMetadata"]).thumbnails[0].url},null);return o?s=o.items.map(function(t){return{li_carousel_image_url:t.content.image.attributes[0].originalImageUrl,li_carousel_media_id:t.content.image.attributes[0].mediaUrn,li_carousel_headline:t.content.headline?t.content.headline.text:null,li_carousel_cta_url:t.content.navigationContext?t.content.navigationContext.actionTarget:null,li_carousel_cta_text:t.content.ctaButton?t.content.ctaButton.text:null}}):a=Object(r.p)(function(){return n.largeImage?n.largeImage.attributes[0].imageUrl:n.smallImage?n.smallImage.attributes[0].imageUrl:n.images[0].attributes[0].originalImageUrl},null),{li_post_carousel_data:s,li_post_cta_text:c,li_post_cta_url:u,li_post_image_url:a,li_post_text:l,li_post_caption_title:f,li_post_caption_text:p,li_post_video_url:h,li_post_video_duration:d,li_post_video_thumbnail_url:_,li_post_type:s?"carousel":h?"video":"link"}},Parser}()},function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r,i=n(20),o=n(74),s=n(441),a=n(16),u=n(60),c=n(594),l=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function __(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),f=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},p=function(t){function AmazonContentEnvironmentServices(e,n,r){var s=t.call(this,e)||this;return s.log=n,s.win=r,s.sponsoredAmazon=new i.d,s.searchResultsContainerTracker=null,s.newSponsoredCarouselTracker=null,s.searchHeadlineAd=null,s.highlightDebug=!1,s.frameHandler=new o.a(s.chromeEnv.runtime.id),s.streamError=function(t){s.log.error(t),s.stopMonitoring(),s.startMonitoring()},s.newSearchHeadlineAd=function(t){var e,n,r,i,o,l=t.parentElement?t.parentElement.innerHTML:null,p=t.getAttribute("cel_widget_id");s.log.captureBreadcrumb({message:"azAd",data:{source:l}});var h=Array.from(null!=(e=t.querySelectorAll("div[data-asin]"))?e:[]),d=t.querySelector('div[data-click-el="cta"]'),_=null,b=null,v=null;switch(p){case"LifestyleCreativeDesktop":case"LifestyleSingleCardCreativeDesktop":_=t.querySelector("a[data-click-el='lifestyle'] > img"),b=t.querySelector('div[data-click-el="headline"]');break;case"MultiBrandCreativeDesktop":_=t.querySelector("img[data-click-asin]")||t.querySelector('[data-click-el="brandlogo"]'),b=t.querySelector('div[data-click-el="headline"]');break;case"MultiCardCreativeDesktop":_=t.querySelector('a[data-click-el="brandlogo"] > img'),b=t.querySelector('a[data-click-el="headline"]');break;case"TetrisCreativeDesktop":case"TetrisSoftlinesCreativeDesktop":_=t.querySelector('[data-click-el="brandlogo"] > img'),d=t.querySelector('[data-click-el="cta"]'),b=t.querySelector('[data-click-el="headline"]'),n=function findElementWithTextLeaves(t){if(0===t.children.length)return t instanceof HTMLElement&&t.textContent&&""!==t.textContent?t:null;return Array.from(t.children).reduce(function(t,e){return Array.isArray(e)?f(t,e):f(t,[e])},[]).map(function(t){return findElementWithTextLeaves(t)})}(t).find(function(t){var e,n;return null===(n=null===(e=t)||void 0===e?void 0:e.textContent)||void 0===n?void 0:n.match(/sponsored by/i)}),v=null!=n?n:null;break;case"NoAsinFallbackCreativeDesktop":_=t.querySelector('[data-click-el="brandlogo"] > img'),b=t.querySelector('a[data-click-el="headline"]');break;default:s.log.error("Unknown Amazon Headline Layout - "+p),Object(a.f)(p)}var y=d instanceof HTMLSpanElement?d:null!=(i=null===(r=d)||void 0===r?void 0:r.querySelector("span[data-original]"))?i:null===(o=d)||void 0===o?void 0:o.querySelector("span"),m=Object(a.p)(function(){return y.textContent.trim()},null),g=Object(a.p)(function(){var t=y.textContent.trim();if(t.match(/^shop now$/i)){if(!v)throw new Error("No advertiser present");t=v.textContent}return t.replace(/Shop /i,"").replace(/SPONSORED BY /i,"").trim()},null);if(g){var w=Object(a.p)(function(){return b.textContent.trim()},null),S=Object(a.p)(function(){var t;return null!=(t=_.dataset.src)?t:_.src},null),O=Object(a.p)(function(){return c.a.Sanitize(t.querySelector("a").href)},null),x=Object(a.p)(function(){return t.dataset.creativeId},null)||null,E=Object(a.p)(function(){return t.dataset.adId},null)||null,k=a.e.salted_hash(x+"_"+h.map(function(t){return t.dataset.asin}).join("_"),u.b),j=Object(a.p)(function(){return s.win.document.body.querySelector("input[name=field-keywords]").value},null),T=Object(a.p)(function(){var t=s.win.document.body.querySelector("select#searchDropdownBox");return t.options[t.selectedIndex].text},null);if(x&&g){var I=h.map(function(t){var e,n,r;switch(p){case"TetrisCreativeDesktop":case"TetrisSoftlinesCreativeDesktop":var i=t.closest("a[data-click-asin]");n=Object(a.p)(function(){return i.querySelector("img").src},null),e=Object(a.p)(function(){return i.querySelector('span[data-click-el="title"]').textContent.trim()},null),r=Object(a.p)(function(){return i.href},null);break;default:n=Object(a.p)(function(){var e,n;return null!=(n=null===(e=t.querySelector("img"))||void 0===e?void 0:e.src)?n:t.parentElement.querySelector("img").src},null),e=Object(a.p)(function(){return t.querySelector('span[data-click-el="title"]').textContent.trim()},null),r=Object(a.p)(function(){var e,n;return null!=(n=null===(e=t.querySelector("a"))||void 0===e?void 0:e.href)?n:t.closest("a[data-click-asin]").href},null)}var o=r?c.a.Sanitize(r):null,u=Object(a.p)(function(){return t.dataset.asin},null);return u?s.highlightElement(t,"dbg-ok"):(s.highlightElement(t,"dbg-err"),s.log.error("no asin",t)),{az_product_asin:u,az_product_full_url:o,az_product_full_ad_url:r,az_product_image_url:n,az_product_title:e,az_product_price:null,az_headline_content_hash:k,az_grouped_images_url:null}});I.length||s.highlightElement(t,"dbg-ok");var A=I.filter(function(t){return!(!t.az_product_asin||!t.az_product_full_ad_url)}),C={az_headline_text:w,az_headline_landing_page:O,az_headline_image_url:S,az_headline_id:x,az_advertiser_id:g,az_headline_cta_text:m,az_headline_content_hash:k,az_ad_src:l,az_headline_ad_id:E,az_headline_layout:p},P={sponsored_type:u.a.Headline,az_headline:C,az_products:A,az_product_department_search:T,az_product_keyword_search:j,az_region:s.region};s.sponsoredAmazon.next(P)}}else s.log.error("Unknown markup for headline!")},s.newSponsoredCarousel=function(t){var e=Array.from(t.querySelectorAll("li.a-carousel-card")),n=Object(a.p)(function(){return s.win.document.body.querySelector("input[name=field-keywords]").value},null),r=Object(a.p)(function(){var t=s.win.document.body.querySelector("select#searchDropdownBox");return t.options[t.selectedIndex].text},null);e.filter(function(t){return null!==t.firstElementChild||(s.log.warn("li not loaded yet?"),!1)}).map(function(t){t.firstElementChild.classList.add("dbg-found");var e=Object(a.p)(function(){return t.firstElementChild.dataset.asin},null),i=t.querySelector("a.a-link-normal"),o=Object(a.p)(function(){return i.href},null),u=null,c=null,l=null;if(null!==o){var f=new URL(o);u=f.searchParams.get("url"),c=f.searchParams.get("adId"),u&&(l=Object(a.p)(function(){return new URL(u,"https://foo/").searchParams.get("smid")},null))}var p=Object(a.p)(function(){return t.querySelector("img").src},null),h=Object(a.p)(function(){return t.querySelector("img").alt},null)||null,d=Object(a.p)(function(){return t.querySelector("span.a-color-price").innerHTML.trim()},null),_="string"==typeof d&&Number.parseFloat(d.replace("$",""))||null;_&&!Number.isNaN(_)||(_=null);var b=Object(a.p)(function(){return t.querySelector("div[data-viewpixelurl]").dataset.viewpixelurl},null)||null,v=Object(a.p)(function(){var t=new URL(b,"foo://bar/");return parseInt(t.searchParams.get("adIndex"),10)},null);return e?s.highlightElement(t.firstElementChild,"dbg-ok"):(s.highlightElement(t.firstElementChild,"dbg-err"),s.log.error("no asin",t)),{az_ad_placement:"product_page_carousel",az_product_asin:e,az_product_full_url:u,az_product_ad_id:c,az_advertiser_id:null,az_product_image_url:p,az_product_description:h,az_product_price_currency:null,az_product_price:_,az_product_price_as_string:d,az_product_ad_index:v,az_product_department_search:r,az_product_keyword_search:n,az_product_smid:l,az_product_full_redirector_url:o}})},s.newSearchResultsContainer=function(t){var e=t;t instanceof HTMLHeadingElement&&t.parentElement&&t.parentElement.parentElement&&(e=t.parentElement.parentElement);var n=Object(a.p)(function(){return s.win.document.body.querySelector("input[name=field-keywords]").value},null),r=Object(a.p)(function(){var t=s.win.document.body.querySelector("select#searchDropdownBox");return t.options[t.selectedIndex].text},null),i=e.innerHTML;s.log.captureBreadcrumb({message:"azAd",data:{source:i}});var o=e.dataset.asin||null,c=e.querySelector("a.a-link-normal"),l=Object(a.p)(function(){return c.href},null),f=null,p=null;if(null!==l){var h=new URL(l),d=h.searchParams.get("url");f=d?new URL(d,h.origin).href:null,p=h.searchParams.get("adId")}var _=Object(a.p)(function(){return e.querySelector("img").src},null),b=Object(a.p)(function(){return e.querySelector("h2").dataset.attribute.trim()},null)||null;b||(b=Object(a.p)(function(){return e.querySelector("h5").textContent.trim()},null)||null);var v=Object(a.p)(function(){return Number.parseInt(e.querySelector(".a-price-whole").innerHTML.trim(),10)},null),y=Object(a.p)(function(){return Number.parseInt(e.querySelector(".a-price-fraction").innerHTML.trim(),10)/100},null),m=v&&!Number.isNaN(v)?v+(y&&!Number.isNaN(y)?y:0):null;o?s.highlightElement(e.firstElementChild,"dbg-ok"):(s.highlightElement(e.firstElementChild,"dbg-err"),s.log.error("no asin",e)),p&&o&&f&&l&&s.sponsoredAmazon.next({sponsored_type:u.a.Product,az_product:{az_product_asin:o,az_product_full_ad_url:l,az_product_full_url:f,az_product_ad_id:p,az_product_image_url:_,az_product_title:b,az_product_price:m,az_ad_src:i},az_product_department_search:r,az_product_keyword_search:n,az_region:s.region})},s.region=document.location.host.endsWith(".com")?"US":"UK",s}return l(AmazonContentEnvironmentServices,t),AmazonContentEnvironmentServices.prototype.startMonitoring=function(){if(this.searchResultsContainerTracker)throw new Error("You can't start monitoring twice");this.searchHeadlineAd=Object(o.k)(this.win.document.body,"div[data-ad-id]").subscribe(this.newSearchHeadlineAd,this.streamError),this.searchResultsContainerTracker=Object(i.l)(Object(o.k)(this.win.document.body,".s-result-list.sg-row .AdHolder"),Object(o.k)(this.win.document.body,"#atfResults .s-sponsored-header")).subscribe(this.newSearchResultsContainer,this.streamError)},AmazonContentEnvironmentServices.prototype.stopMonitoring=function(){this.searchHeadlineAd&&(this.searchHeadlineAd.unsubscribe(),this.searchHeadlineAd=null),this.searchResultsContainerTracker&&(this.searchResultsContainerTracker.unsubscribe(),this.searchResultsContainerTracker=null),this.newSponsoredCarouselTracker&&(this.newSponsoredCarouselTracker.unsubscribe(),this.newSponsoredCarouselTracker=null)},AmazonContentEnvironmentServices.prototype.setupDebug=function(){var t=document.createElement("style");t.innerHTML="\n            .dbg-found {\n\n            }\n            .dbg-err {\n                box-shadow: inset 0px 0px 6px 1px blue, 0px 0px 6px 1px blue !important;\n            }\n            .dbg-ok {\n                box-shadow: inset 0px 0px 6px 1px red, 0px 0px 6px 1px red !important;\n            }\n        ",this.win.document.head.appendChild(t),this.highlightDebug=!0},AmazonContentEnvironmentServices.prototype.highlightElement=function(t,e){this.highlightDebug&&t.classList.add(e)},AmazonContentEnvironmentServices.prototype.highlightPost=function(t){},AmazonContentEnvironmentServices.prototype.handleFrameMessage=function(t){var e=this;if(t&&t.data===this.frameHandler.CreateMessageId("frame-details")){var n=Array.from(this.win.document.querySelectorAll("iframe")).find(function(e){return e.contentWindow===t.source});if(!n||!n.contentWindow)throw new Error("Unexpected");var r=n.getAttribute("id");if(r){var i=this.frameHandler.GetFrameType(r);if(i)try{var o=JSON.parse(n.getAttribute("name")),s={az_product_ad_id:o.adCreativeMetaData.adId,az_creative_id:o.adCreativeMetaData.adCreativeId,az_product_keyword_search:Object(a.p)(function(){return e.win.document.body.querySelector("input[name=field-keywords]").value},null),az_product_department_search:Object(a.p)(function(){var t=e.win.document.body.querySelector("select#searchDropdownBox");return t.options[t.selectedIndex].text},null),banner_type:i,az_banner_seen_on:Object(a.p)(function(){return e.win.document.querySelector("input#ASIN").value},null)};n.contentWindow.postMessage(s,"*")}catch(t){throw t}else this.log.warn("Received unidentified Amazon frame: "+r)}else this.log.warn("Received unidentified Amazon frame: "+r)}},AmazonContentEnvironmentServices}(s.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r,i=n(441),o=n(60),s=n(20),a=n(74),u=n(16),c=n(594),l=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function __(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),f=function(t){function AmazonDisplayContentEnvironmentService(e,n,r){var i=t.call(this,e)||this;return i.log=n,i.win=r,i.sponsoredAmazon=new s.d,i.frameHandler=new a.a(i.chromeEnv.runtime.id),i._topReady=null,i.displayAdsTracker=null,i.bannerToScrapers=new Map,i.highlightDebug=!1,i._newDisplayAd=function(t){var e=t.parentElement;i._fetchFrameMetadata().then(function(t){var n=i.bannerToScrapers.get(t.banner_type);if(n)try{n(e,t)}catch(t){i.win.document.body.classList.add("dbg-error")}else i.log.warn("Weird, received metadata of unknown selector...")})},i._handleHero=function(t,e){var n=i.win.document.body.innerHTML;i.log.captureBreadcrumb({message:"azAd",data:{source:n}});var r=Object(u.p)(function(){return i.win.document.querySelector("#headlineText").textContent},null),s=Object(u.p)(function(){return i.win.document.querySelector("#shopNowCta").textContent},null),a=Object(u.p)(function(){return i.win.document.querySelector("#brandName").textContent},null),l=Object(u.p)(function(){return i.win.document.querySelector("#asinImg").src},null),f=Object(u.p)(function(){return i.win.document.querySelector("#title").textContent},null),p=Object(u.p)(function(){return i.win.document.querySelector("#asinSprite").href},""),h=c.a.Sanitize(p),d=Object(u.p)(function(){return i.win.document.querySelector("#selector > option").value},null);if(!(d&&p&&e.az_product_ad_id))return i.highlightElement(i.win.document.body,"dbg-error"),void i.log.error("Could not parse Hero banner");var _={az_product_price:null,az_banner_title:r,az_banner_brand:a,az_banner_cta_text:s,az_product_image_url:l,az_product_title:f,az_product_full_ad_url:p,az_product_full_url:h,az_product_asin:d,az_banner_seen_on:e.az_banner_seen_on,az_creative_id:e.az_creative_id,az_product_ad_id:e.az_product_ad_id,banner_type:e.banner_type,az_ad_src:n},b={sponsored_type:o.a.Banner,az_region:i.region,az_product_keyword_search:e.az_product_keyword_search,az_product_department_search:e.az_product_department_search,az_banner:_};i.sponsoredAmazon.next(b),i.highlightElement(i.win.document.body,"dbg-ok")},i._handleAms=function(t,e){var n=t.innerHTML;i.log.captureBreadcrumb({message:"azAd",data:{source:n}});var r=Object(u.p)(function(){return t.querySelector("#ad > div")},null),s=r?r.getAttribute("data-creative-id"):null,a=r?r.getAttribute("data-ad-id"):null,l=Object(u.p)(function(){return t.querySelector("a.clickthroughLink.textLink.textLink--displayAsText")},null),f=l?l.href:null,p=f?c.a.Sanitize(f):null,h=l?l.textContent:null,d=Object(u.p)(function(){return t.querySelector(".clickthroughLink.asinImage.asinImage--extendContainerHeight > div > img").src},null),_=Object(u.p)(function(){return t.querySelector(".block.block--justify-center.block--direction-column > div > div > img").src},null),b=Object(u.p)(function(){return t.querySelector(".block.detailRight__productTitle > a > div > span").textContent},null),v=Object(u.p)(function(){return p.match(/dp\/(\w+)$/i)[1]},null);if(!(v&&f&&a))return i.highlightElement(i.win.document.body,"dbg-error"),void i.log.error("Could not parse AMS banner");var y={az_product_price:null,az_banner_title:h,az_product_image_url:d,az_product_brand_image_url:_,az_product_title:b,az_product_full_ad_url:f,az_product_full_url:p,az_product_asin:v,az_creative_id:s,az_product_ad_id:a,az_banner_seen_on:e.az_banner_seen_on,banner_type:e.banner_type,az_ad_src:n},m={sponsored_type:o.a.Banner,az_banner:y,az_product_department_search:e.az_product_department_search,az_product_keyword_search:e.az_product_keyword_search,az_region:i.region};i.sponsoredAmazon.next(m),i.highlightElement(i.win.document.body,"dbg-ok")},i.streamError=function(t){i.log.error(t),i.stopMonitoring(),i.startMonitoring()},i.bannerToScrapers.set("Hero",i._handleHero),i.bannerToScrapers.set("AMS",i._handleAms),i.region=document.location.host.endsWith(".com")?"US":"UK",i}return l(AmazonDisplayContentEnvironmentService,t),AmazonDisplayContentEnvironmentService.prototype.startMonitoring=function(){if(this.displayAdsTracker)throw new Error("Already started.");var t=Object(a.k)(this.win.document.body,".detailRight"),e=Object(s.l)(Object(a.k)(this.win.document.body,"#headlineText"),Object(a.k)(this.win.document.body,"#asinSprite"));this.displayAdsTracker=Object(s.l)(t,e).subscribe(this._newDisplayAd,this.streamError)},AmazonDisplayContentEnvironmentService.prototype.stopMonitoring=function(){this.displayAdsTracker&&(this.displayAdsTracker.unsubscribe(),this.displayAdsTracker=null)},AmazonDisplayContentEnvironmentService.prototype.setupDebug=function(){this.highlightDebug=!0;var t=document.createElement("style");t.innerHTML='\n        .dbg-ok::after {\n            position: absolute;\n            background: #008000;\n            opacity: 0.2;\n            z-index: 2;\n            width: 100%;\n            height: 100%;\n            text-align: center;\n            display: inline-block;\n            top: 0;\n            left: 0;\n            line-height: 235px;\n            content: "-";\n            pointer-events: none;\n        }\n        .dbg-error::after {\n            position: absolute;\n            background: #FF0000;\n            opacity: 0.2;\n            z-index: 2;\n            width: 100%;\n            height: 100%;\n            text-align: center;\n            display: inline-block;\n            top: 0;\n            left: 0;\n            line-height: 235px;\n            content: "-";\n            pointer-events: none;\n        }',this.win.document.head.appendChild(t)},Object.defineProperty(AmazonDisplayContentEnvironmentService.prototype,"topReady",{get:function(){var t=this;return null===this._topReady&&(this._topReady=new Promise(function(e,n){var r=function(n){n&&n.data===t.frameHandler.CreateMessageId("top-ready")&&(window.removeEventListener("message",r),e())};window.addEventListener("message",r),window.top.postMessage(t.frameHandler.CreateMessageId("frame-ready"),"*")})),this._topReady},enumerable:!0,configurable:!0}),AmazonDisplayContentEnvironmentService.prototype.highlightElement=function(t,e){this.highlightDebug&&t.classList.add(e)},AmazonDisplayContentEnvironmentService.prototype._fetchFrameMetadata=function(){var t=this;return new Promise(function(e){var n=function(t){if(t&&"object"==typeof t.data){window.removeEventListener("message",n);var r=t.data;e(r)}};window.addEventListener("message",n),window.top.postMessage(t.frameHandler.CreateMessageId("frame-details"),"*")})},AmazonDisplayContentEnvironmentService}(i.a)},function(t,e,n){"use strict";var r,i=n(42),o=n(16),s=n(74),a=n(168),u=n(20),c=n(34),l=n(441),f=n(547),p=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function __(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),h=this&&this.__assign||function(){return(h=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},d=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(t){try{step(r.next(t))}catch(t){o(t)}}function rejected(t){try{step(r.throw(t))}catch(t){o(t)}}function step(t){t.done?i(t.value):function adopt(t){return t instanceof n?t:new n(function(e){e(t)})}(t.value).then(fulfilled,rejected)}step((r=r.apply(t,e||[])).next())})},_=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(a){return function step(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},b=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},v=function(t){function FacebookContentEnvironmentServices(e,n,r,i,o,a,c,l,f){void 0===f&&(f={});var p=t.call(this,e)||this;return p.chromeEnv=e,p.extensionVersion=n,p.log=r,p.locale=i,p.userId=o,p.reactStore=a,p.win=c,p.createPageTrafficListener=l,p.config=f,p.sponsoredStories=new u.d,p.interactions=new u.d,p.regularStories=new u.d,p.storiesHistoryDebug=new Map,p.reactStoriesMap=new Map,p.isDebug$=new u.a(!1),p.feedKind$=Object(s.i)(p.win.document),p}return p(FacebookContentEnvironmentServices,t),FacebookContentEnvironmentServices.prototype.startMonitoring=function(){var t=this;this.subscriptionToClear=this.feedKind$.pipe(Object(c.u)(function(e){t.sendMessageToBackground({type:"FacebookNewFeedUi",payload:e})}),Object(c.l)(function(e){return"old"===e?t.startOldUi():t.startNewUi()})).subscribe()},FacebookContentEnvironmentServices.prototype.reactDataProvider=function(t){var e=this;return Promise.resolve().then(function(){return e.reactStoriesMap.has(t)?e.reactStoriesMap.get(t):Object(o.A)(5e3).then(function(){return e.reactStoriesMap.get(t)||null})})},FacebookContentEnvironmentServices.prototype.newsFeed=function(t,e){var n=this,r=Object(a.j)(t,this.userId,e,this.win.document.body).pipe(Object(c.u)(function(t){null===t.fb_post_entity_id&&n.log.error("interaction without entity id",t),n.interactions.next(h(h({},t),{fb_user_id:n.userId}))},function(t){n.log.error("interactionsObserver",t)})),o=Object(s.k)(e,i.b,!0).pipe(Object(c.u)(function(e){return d(n,void 0,void 0,function(){var n,r,i=this;return _(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,Object(s.j)(e,t,function(t){return i.reactDataProvider(t)},this.userId,this.locale,this.log)];case 1:return n=o.sent(),this.storiesHistoryDebug.set(n.dataToSend.fb_post_entity_id,e),n.isSponsered?(this.reactStoriesMap.has(n.dataToSend.fb_post_entity_id)||this.log.error("react data is missing for:"+n.dataToSend.fb_post_entity_id),this.sponsoredStories.next(h(h({},n.dataToSend),{fb_post_ad_placement:"feed"}))):this.regularStories.next(n.dataToSend),[3,3];case 2:return r=o.sent(),this.log.error("processStory",r),[3,3];case 3:return[2]}})})},function(t){n.log.error("selectorObserver",t)}));return Object(u.l)(r,o).pipe(Object(c.j)(null))},FacebookContentEnvironmentServices.prototype.leftNewsFeed=function(){this.log.info("leftNewsFeed"),this.subscriptionToClear&&this.subscriptionToClear.unsubscribe(),this.reactStoriesMap.clear(),this.storiesHistoryDebug.clear()},FacebookContentEnvironmentServices.prototype.highlightPostByEntId=function(t,e,n){var r=this.storiesHistoryDebug.get(t);r&&Object(s.h)(this.win.document,r,e,n)},FacebookContentEnvironmentServices.prototype.setupDebug=function(){Object(s.b)(this.win.document,".tooltip {\n            position: absolute;\n            display: inline-block;\n            border-bottom: 1px dotted black;\n            text-align: left;\n            bottom: 45px;\n            left: 5px;\n            z-index: 10;\n            direction: ltr;\n        }\n\n        .tooltip .tooltiptext {\n            display: none;\n            background-color: black;\n            color: #fff;\n            text-align: left;\n            border-radius: 6px;\n            padding: 5px 0;\n            white-space: pre;\n\n            /* Position the tooltip */\n            position: absolute;\n            z-index: 1;\n            bottom: 0;\n        }\n\n        .tooltip:hover .tooltiptext {\n            display: block;\n        }\n        "),this.isDebug$.next(!0)},FacebookContentEnvironmentServices.prototype.startOldUi=function(){var t,e=this,n=new i.m(this.log,this.extensionVersion);return Object(s.c)(this.win.document,160).subscribe(function(r){t=r?e.newsFeed(n,r).subscribe():Object(u.m)(e.leftNewsFeed()).subscribe()},function(t){e.log.error(t)}),Object(f.c)(this.reactStore).subscribe(function(t){e.reactStoriesMap.set(t.entId,t),e.log.info("react story",t)},function(t){e.log.error("reactDataStream",t)}),this.createPageTrafficListener().pipe(Object(c.h)(function(t){return t.url.includes("/video/instream_video/view/story/async")}),Object(c.i)(function(t){return Object(o.p)(function(){return JSON.parse(t.body.replace("for (;;);","")).payload},null)}),Object(c.h)(o.q),Object(c.i)(function(t){var r=Object(o.p)(function(){try{return n.parseInstreamAd(t)}catch(t){throw e.log.error("Failed to parse Facebook Instream Ad",t),t}},null);return r?Object(o.p)(function(){var e;return null!=(e=t.instreamVideoAdBreakVideoID)?e:null},null)?h(h({},y),{fb_post_entity_id:r.fb_post_entity_id,fb_post_advertiser_page_entity_id:r.fb_post_advertiser_page_entity_id,fb_post_type:"video",fb_post_ad_placement:"instream",parser_type:"partial",fb_user_id:e.userId,parser_version:e.extensionVersion}):(e.log.error("Unable to find ad entity id for instream video. Raw response:",t),null):null}),Object(c.h)(o.q)).subscribe(this.sponsoredStories),new u.c(function(){return function(){var e;null===(e=t)||void 0===e||e.unsubscribe()}})},FacebookContentEnvironmentServices.prototype.startNewUi=function(){var t=this,e=new i.k(this.log,this.extensionVersion),n=this.createPageTrafficListener(),r=(n.pipe(Object(c.i)(function(t){var n=t.body;return e.tryParseEngagementInteractionResponse(n)||null}),Object(c.h)(o.q),Object(c.i)(function(t){return t.data.feedback_react.feedback})),Object(u.l)(Object(u.m)(this.getNewUiBootstrappedData(this.win.document.body)),n.pipe(Object(c.i)(function(t){var n=t.body,r=e.tryParseFeedPage(n);return r||null}),Object(c.h)(o.q))).pipe(Object(c.k)(),Object(c.i)(function(t){return Object(i.r)(t)?t.data.viewer.news_feed.edges:Object(i.q)(t)?[t.data]:null}),Object(c.h)(o.q),Object(c.k)())),a=r.pipe(Object(c.h)(i.s),Object(c.r)(function(n){return Object(u.m)(n).pipe(Object(c.i)(function(t){return{parsed:e.parseOrganicEdge(t),clickTracking:t.node.encrypted_click_tracking}}),Object(c.c)(function(e,n){return t.logError("Failed to parse organic edge",e),u.b}))})),l=r.pipe(Object(c.h)(i.t),Object(c.r)(function(n){return Object(u.m)(n).pipe(Object(c.i)(function(t){return{edge:t,parsed:e.parseSponsoredEdge(t),clickTracking:t.node.encrypted_click_tracking}}),Object(c.c)(function(e,n){return t.logError("Failed to parse sponsored edge",e),u.b}))})),f=Object(s.k)(this.win.document.body,'a[aria-hidden="true"][href*="__cft__[0]"]').pipe(Object(c.h)(function(t){return t instanceof HTMLAnchorElement}),Object(c.i)(function(t){return{href:t.href,postElement:t.closest('[role=article]:not([aria-label="Comment"])').parentElement}})),p=this.isDebug$.pipe(Object(c.h)(Boolean),Object(c.s)(Object(u.l)(f,l.pipe(Object(c.i)(function(t){return h(h({},t),{type:"sponsored"})})),a.pipe(Object(c.i)(function(t){return h(h({},t),{type:"organic"})})))),Object(c.o)(function(t,e){var n=t.matches$,r=t.pendingMatchParsedPosts,i=t.pendingMatchPostElements;if("href"in e)(s=r.find(function(t){return postElementMatcher(e,t)}))?(r.splice(r.indexOf(s),1),n.next(h(h({},Object(o.u)(s,"clickTracking")),Object(o.u)(e,"href")))):i.push(e);else if("clickTracking"in e){var s;(s=i.find(function(t){return postElementMatcher(t,e)}))?(i.splice(i.indexOf(s),1),n.next(h(h({},Object(o.u)(s,"href")),Object(o.u)(e,"clickTracking")))):r.push(e)}return t},{pendingMatchPostElements:[],pendingMatchParsedPosts:[],matches$:new u.d}),Object(c.l)(function(t){return t.matches$}),Object(c.h)(function(t){return!t.postElement.querySelector(".tooltip")}),Object(c.u)(function(e){var n="sponsored"===e.type?e.parsed:"organic"===e.type?e.parsed:Object(o.f)(e);Object(s.h)(t.win.document,e.postElement,"sponsored"===e.type,JSON.stringify(n,null,2))}));return Object(u.l)(l.pipe(Object(c.i)(function(n){var r=n.parsed,i=n.edge;return h(h(h({},r),{fb_post_width:null,fb_post_height:null,fb_user_id:t.userId,fb_post_ad_placement:"feed"}),t.config.sendRawData&&{fb_post_anonymized_edge:Object(o.p)(function(){return e.anonymizeEdge(i)},null)})}),Object(c.u)(this.sponsoredStories)),a.pipe(Object(c.i)(function(e){var n=e.parsed;return h(h({},n),{fb_user_id:t.userId})}),Object(c.u)(this.regularStories)),p).pipe(Object(c.j)(null))},FacebookContentEnvironmentServices.prototype.getNewUiBootstrappedData=function(t){var e=this;return Array.from(t.querySelectorAll("script:not([src])")).map(function(t){return t.innerHTML}).filter(function(t){return t.includes('requireLazy(["Bootloader"]')&&t.includes('"node"')}).map(function(t){var n='{"__bbox":{.*?"result":{',r=t.search(n);try{var i=Object(o.n)(t,r),s=t.slice(r,i)+"}";return JSON.parse(s).__bbox}catch(t){return e.logError("Failed to parse bootstrap data. raw string:",n),null}}).filter(o.q).map(function(t){return t.result})},FacebookContentEnvironmentServices.prototype.logError=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];(e=this.log).error.apply(e,b(["[Facebook New UI] "+t],n))},FacebookContentEnvironmentServices}(l.a);function postElementMatcher(t,e){return t.href.includes(e.clickTracking)}e.a=v;var y={fb_post_actionlink_url:null,fb_post_app_id:null,fb_post_app_pretty_name:null,fb_post_app_thumbnail_url:null,fb_post_caption:null,fb_post_engage_angry:null,fb_post_engage_love:null,fb_post_width:null,fb_post_height:null,fb_post_attachment_title:null,fb_post_engage_like:null,fb_post_engage_comments:null,fb_post_carousel_info:null,fb_post_engage_haha:null,fb_post_engage_sad:null,fb_post_engage_shares:null,fb_post_engage_wow:null,fb_post_src:null,fb_post_img_url:null,fb_post_this_video_views:null,fb_post_advertiser_thumbnail_url:null,fb_post_text:null,fb_post_video_views:null,fb_post_attachment_description:null,fb_post_call_to_action_text:null,fb_post_video_url_hd:null,fb_post_advertiser_page_pretty_name:null,fb_post_advertiser_page_id:null,fb_post_call_to_action_url:null,fb_post_video_url:null}},function(t,e,n){var r;r=function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,r,s){"use strict";var a=function(){return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function t(e,n){var r=[],i=!0,o=!1,s=void 0;try{for(var a,u=e[Symbol.iterator]();!(i=(a=u.next()).done)&&(r.push(a.value),!n||r.length!==n);i=!0);}catch(t){o=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(o)throw s}}return r}(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=s(27).EventEmitter,l=s(47),f=l.Map,p=l.Set,h=l.List,d=s(31),_=s(45),b=s(2),v=s(44),y=s(34),m="Search (text or /regex/)",g=function(t){function e(t){!function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r._nodes=new f,r._parents=new f,r._nodesByName=new f,r._bridge=t,r.roots=new h,r.contextMenu=null,r.searchRoots=null,r.hovered=null,r.selected=null,r.selectedTab="Elements",r.breadcrumbHead=null,r.isBottomTagHovered=!1,r.isBottomTagSelected=!1,r.searchText="",r.capabilities={},r.traceupdatesState=null,r.colorizerState=null,r.placeholderText=m,r.refreshSearch=!1,window.store=r,r._bridge.on("root",function(t){r.roots.contains(t)||(r.roots=r.roots.push(t),r.selected||(r.selected=r.skipWrapper(t),r.breadcrumbHead=r.selected,r.emit("selected"),r.emit("breadcrumbHead"),r._bridge.send("selected",r.selected)),r.emit("roots"))}),r._bridge.on("mount",function(t){return r._mountComponent(t)}),r._bridge.on("update",function(t){return r._updateComponent(t)}),r._bridge.on("unmount",function(t){return r._unmountComponent(t)}),r._bridge.on("select",function(t){var e=t.id,n=t.quiet;r._revealDeep(e),r.selectTop(r.skipWrapper(e),n),r.setSelectedTab("Elements")}),r._establishConnection(),r._eventQueue=[],r._eventTimer=null,r}return function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,c),u(e,[{key:"emit",value:function(t){var e=this;return-1!==this._eventQueue.indexOf(t)||(this._eventQueue.push(t),this._eventTimer||(this._eventTimer=setTimeout(function(){return e.flush()},50)),!0)}},{key:"flush",value:function(){var t=this;this._eventTimer&&(clearTimeout(this._eventTimer),this._eventTimer=null),this._eventQueue.forEach(function(e){c.prototype.emit.call(t,e)}),this._eventQueue=[]}},{key:"scrollToNode",value:function(t){this._bridge.send("scrollToNode",t)}},{key:"setSelectedTab",value:function(t){this.selectedTab!==t&&(this.selectedTab=t,this.emit("selectedTab"))}},{key:"changeTextContent",value:function(t,e){this._bridge.send("changeTextContent",{id:t,text:e});var n=this._nodes.get(t);"Text"===n.get("nodeType")?this._nodes=this._nodes.set(t,n.set("text",e)):(this._nodes=this._nodes.set(t,n.set("children",e)),n.get("props").children=e);this.emit(t)}},{key:"changeSearch",value:function(t){var e=this,n=t.toLowerCase();(n!==this.searchText.toLowerCase()||this.refreshSearch)&&(t&&0!==y.trimSearchText(t).length?(this.searchRoots&&0===n.indexOf(this.searchText.toLowerCase())&&!y.shouldSearchUseRegex(t)?this.searchRoots=this.searchRoots.filter(function(t){var r=e.get(t);return r.get("name")&&-1!==r.get("name").toLowerCase().indexOf(n)||r.get("text")&&-1!==r.get("text").toLowerCase().indexOf(n)||"string"==typeof r.get("children")&&-1!==r.get("children").toLowerCase().indexOf(n)}):this.searchRoots=this._nodes.entrySeq().filter(function(t){var r=a(t,2),i=r[0],o=r[1];return _(o,n,i,e)}).map(function(t){var e=a(t,2),n=e[0];return e[1],n}).toList(),this.searchRoots.forEach(function(t){e.hasBottom(t)&&(e._nodes=e._nodes.setIn([t,"collapsed"],!0))})):this.searchRoots=null,this.searchText=t,this.emit("searchText"),this.emit("searchRoots"),this.searchRoots&&!this.searchRoots.contains(this.selected)?this.select(null,!0):this.searchRoots||(this.selected?this._revealDeep(this.selected):this.select(this.roots.get(0))),this.highlightSearch(),this.refreshSearch=!1,this.flush())}},{key:"highlight",value:function(t){this.colorizerState&&this.colorizerState.enabled||this._bridge.send("highlight",t)}},{key:"highlightMany",value:function(t){this._bridge.send("highlightMany",t)}},{key:"highlightSearch",value:function(){this.colorizerState&&this.colorizerState.enabled&&(this._bridge.send("hideHighlight"),this.searchRoots&&this.highlightMany(this.searchRoots.toArray()))}},{key:"hoverClass",value:function(t){if(null!==t){var e=this._nodesByName.get(t);e&&this.highlightMany(e.toArray())}else this.hideHighlight()}},{key:"selectFirstOfClass",value:function(t){var e=this._nodesByName.get(t);if(e&&e.size){var n=e.toSeq().first();this._revealDeep(n),this.selectTop(n)}}},{key:"showContextMenu",value:function(t,e){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];e.preventDefault(),this.contextMenu={type:t,x:e.pageX,y:e.pageY,args:r},this.emit("contextMenu")}},{key:"hideContextMenu",value:function(){this.contextMenu=null,this.emit("contextMenu")}},{key:"selectFirstSearchResult",value:function(){this.searchRoots&&this.select(this.searchRoots.get(0),!0)}},{key:"hasBottom",value:function(t){var e=this.get(t),n=e.get("children");return"NativeWrapper"===e.get("nodeType")&&(n=this.get(n[0]).get("children")),!("string"==typeof n||!n||!n.length||e.get("collapsed"))}},{key:"toggleCollapse",value:function(t){this._nodes=this._nodes.updateIn([t,"collapsed"],function(t){return!t}),this.emit(t)}},{key:"toggleAllChildrenNodes",value:function(t){var e=this.selected;e&&this._toggleDeepChildren(e,t)}},{key:"setProps",value:function(t,e,n){this._bridge.send("setProps",{id:t,path:e,value:n})}},{key:"setState",value:function(t,e,n){this._bridge.send("setState",{id:t,path:e,value:n})}},{key:"setContext",value:function(t,e,n){this._bridge.send("setContext",{id:t,path:e,value:n})}},{key:"makeGlobal",value:function(t,e){this._bridge.send("makeGlobal",{id:t,path:e})}},{key:"setHover",value:function(t,e,n){if(e){var r=this.hovered;this.hovered=t,this.isBottomTagHovered=n,r&&this.emit(r),this.emit(t),this.emit("hover"),this.highlight(t)}else this.hovered===t&&(this.hideHighlight(),this.isBottomTagHovered=!1)}},{key:"hideHighlight",value:function(){if((!this.colorizerState||!this.colorizerState.enabled)&&(this._bridge.send("hideHighlight"),this.hovered)){var t=this.hovered;this.hovered=null,this.emit(t),this.emit("hover")}}},{key:"selectBreadcrumb",value:function(t){this._revealDeep(t),this.changeSearch(""),this.isBottomTagSelected=!1,this.select(t,!1,!0)}},{key:"selectTop",value:function(t,e){this.isBottomTagSelected=!1,this.select(t,e)}},{key:"selectBottom",value:function(t){this.isBottomTagSelected=!0,this.select(t)}},{key:"select",value:function(t,e,n){var r=this.selected;this.selected=t,r&&this.emit(r),t&&this.emit(t),n||(this.breadcrumbHead=t,this.emit("breadcrumbHead")),this.emit("selected"),this._bridge.send("selected",t),!e&&t&&this.highlight(t)}},{key:"get",value:function(t){return this._nodes.get(t)}},{key:"getParent",value:function(t){return this._parents.get(t)}},{key:"skipWrapper",value:function(t,e){if(t){var n=this.get(t),r=n.get("nodeType");return"Wrapper"!==r&&"Native"!==r?t:"Native"!==r||e&&"NativeWrapper"===this.get(this._parents.get(t)).get("nodeType")?e?this._parents.get(t):n.get("children")[0]:t}}},{key:"off",value:function(t,e){this.removeListener(t,e)}},{key:"inspect",value:function(t,e,n){var r=this;v("props"===e[0]||"state"===e[0]||"context"===e[0],"Inspected path must be one of props, state, or context"),this._bridge.inspect(t,e,function(i){var o=r.get(t).get(e[0]),s=e.slice(1).reduce(function(t,e){return t?t[e]:null},o);s&&(d(s,i),s[b.inspected]=!0),n()})}},{key:"changeTraceUpdates",value:function(t){this.traceupdatesState=t,this.emit("traceupdatesstatechange"),v(t.toJS),this._bridge.send("traceupdatesstatechange",t.toJS())}},{key:"changeColorizer",value:function(t){this.colorizerState=t,this.emit("placeholderchange"),this.emit("colorizerchange"),this._bridge.send("colorizerchange",t.toJS()),this.colorizerState&&this.colorizerState.enabled?this.highlightSearch():this.hideHighlight()}},{key:"_establishConnection",value:function(){var t,e=this,n=0;this._bridge.once("capabilities",function(n){clearInterval(t),e.capabilities=d(e.capabilities,n),e.emit("connected")}),this._bridge.send("requestCapabilities"),t=setInterval(function(){return(n+=1)>100?(console.error("failed to connect"),clearInterval(t),void e.emit("connection failed")):void e._bridge.send("requestCapabilities")},500)}},{key:"_revealDeep",value:function(t){if(!this.searchRoots||!this.searchRoots.contains(t))for(var e=this._parents.get(t);e;){if(this._nodes.getIn([e,"collapsed"])&&(this._nodes=this._nodes.setIn([e,"collapsed"],!1),this.emit(e)),this.searchRoots&&this.searchRoots.contains(e))return;e=this._parents.get(e)}}},{key:"_toggleDeepChildren",value:function(t,e){var n=this,r=this._nodes.get(t);if(r){r.get("collapsed")!==e&&(this._nodes=this._nodes.setIn([t,"collapsed"],e),this.emit(t));var i=r.get("children");i&&i.forEach&&i.forEach(function(t){return n._toggleDeepChildren(t,e)})}}},{key:"_mountComponent",value:function(t){var e=this,n=f(t).set("renders",1);"Composite"===t.nodeType&&(n=n.set("collapsed",!0)),this._nodes=this._nodes.set(t.id,n),t.children&&t.children.forEach&&t.children.forEach(function(n){e._parents=e._parents.set(n,t.id)});var r=this._nodesByName.get(t.name)||new p;this._nodesByName=this._nodesByName.set(t.name,r.add(t.id)),t.name&&t.name&&this.emit(t.name),this.emit(t.id)}},{key:"_updateComponent",value:function(t){var e=this,n=this.get(t.id);n&&(t.renders=n.get("renders")+1,this._nodes=this._nodes.mergeIn([t.id],f(t)),t.children&&t.children.forEach&&t.children.forEach(function(n){if(!e._parents.get(n)){e._parents=e._parents.set(n,t.id);var r=e._nodes.get(n),i=r.get("id");e.searchRoots&&_(r,e.searchText.toLowerCase(),i,e)&&(e.searchRoots=e.searchRoots.push(i),e.emit("searchRoots"),e.highlightSearch())}}),this.emit(t.id))}},{key:"_unmountComponent",value:function(t){var e=this._parents.get(t);if(this._removeFromNodesByName(t),this._parents=this._parents.delete(t),this._nodes=this._nodes.delete(t),e)this.emit(e);else{var n=this.roots.indexOf(t);-1!==n&&(this.roots=this.roots.delete(n),this.emit("roots"))}if(t===this.selected){var r=e?this.skipWrapper(e,!0):this.roots.get(0);this.selectTop(r,!0)}this.searchRoots&&this.searchRoots.contains(t)&&(this.searchRoots=this.searchRoots.delete(this.searchRoots.indexOf(t)),this.emit("searchRoots"),this.highlightSearch())}},{key:"_removeFromNodesByName",value:function(t){var e=this._nodes.get(t);e&&(this._nodesByName=this._nodesByName.set(e.get("name"),this._nodesByName.get(e.get("name")).delete(t)))}}]),e}();t.exports=g},function(t,e,n){"use strict";var r=n(3)();t.exports=function(t){return t!==r&&null!==t}},function(t,e,n){"use strict";var r=n(16);t.exports={name:r("name"),type:r("type"),inspected:r("inspected"),meta:r("meta"),proto:r("proto")}},function(t,e){"use strict";t.exports=function(){}},function(t,e,n){"use strict";t.exports=n(5)()?Object.assign:n(6)},function(t,e){"use strict";t.exports=function(){var t,e=Object.assign;return"function"==typeof e&&(e(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},function(t,e,n){"use strict";var r=n(8),i=n(12),o=Math.max;t.exports=function(t,e){var n,s,a,u=o(arguments.length,2);for(t=Object(i(t)),a=function(r){try{t[r]=e[r]}catch(t){n||(n=t)}},s=1;s<u;++s)e=arguments[s],r(e).forEach(a);if(void 0!==n)throw n;return t}},function(t,e){"use strict";t.exports=function(t){return"function"==typeof t}},function(t,e,n){"use strict";t.exports=n(9)()?Object.keys:n(10)},function(t,e){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},function(t,e,n){"use strict";var r=n(1),i=Object.keys;t.exports=function(t){return i(r(t)?Object(t):t)}},function(t,e,n){"use strict";var r=n(1),i=Array.prototype.forEach,o=Object.create;t.exports=function(t){var e=o(null);return i.call(arguments,function(t){r(t)&&function(t,e){var n;for(n in t)e[n]=t[n]}(Object(t),e)}),e}},function(t,e,n){"use strict";var r=n(1);t.exports=function(t){if(!r(t))throw new TypeError("Cannot use null or undefined");return t}},function(t,e,n){"use strict";t.exports=n(14)()?String.prototype.contains:n(15)},function(t,e){"use strict";var n="razdwatrzy";t.exports=function(){return"function"==typeof n.contains&&!0===n.contains("dwa")&&!1===n.contains("foo")}},function(t,e){"use strict";var n=String.prototype.indexOf;t.exports=function(t){return n.call(this,t,arguments[1])>-1}},function(t,e,n){"use strict";t.exports=n(17)()?Symbol:n(20)},function(t,e){"use strict";t.exports=function(){var t;if("function"!=typeof Symbol)return!1;t=Symbol("test symbol");try{String(t)}catch(t){return!1}return"symbol"==typeof Symbol.iterator||"object"==typeof Symbol.isConcatSpreadable&&"object"==typeof Symbol.iterator&&"object"==typeof Symbol.toPrimitive&&"object"==typeof Symbol.toStringTag&&"object"==typeof Symbol.unscopables}},function(t,e){"use strict";t.exports=function(t){return t&&("symbol"==typeof t||"Symbol"===t["@@toStringTag"])||!1}},function(t,e,n){"use strict";var r=n(4),i=n(11),o=n(7),s=n(13);(t.exports=function(t,e){var n,o,a,u,c;return arguments.length<2||"string"!=typeof t?(u=e,e=t,t=null):u=arguments[2],null==t?(n=a=!0,o=!1):(n=s.call(t,"c"),o=s.call(t,"e"),a=s.call(t,"w")),c={value:e,configurable:n,enumerable:o,writable:a},u?r(i(u),c):c}).gs=function(t,e,n){var a,u,c,l;return"string"!=typeof t?(c=n,n=e,e=t,t=null):c=arguments[3],null==e?e=void 0:o(e)?null==n?n=void 0:o(n)||(c=n,n=void 0):(c=e,e=n=void 0),null==t?(a=!0,u=!1):(a=s.call(t,"c"),u=s.call(t,"e")),l={get:e,set:n,configurable:a,enumerable:u},c?r(i(c),l):l}},function(t,e,n){"use strict";var r,i,o,s=n(19),a=n(21),u=Object.create,c=Object.defineProperties,l=Object.defineProperty,f=Object.prototype,p=u(null);"function"==typeof Symbol&&(r=Symbol);var h=function(){var t=u(null);return function(e){for(var n,r,i=0;t[e+(i||"")];)++i;return t[e+=i||""]=!0,l(f,n="@@"+e,s.gs(null,function(t){r||(r=!0,l(this,n,s(t)),r=!1)})),n}}();o=function(t){if(this instanceof o)throw new TypeError("TypeError: Symbol is not a constructor");return i(t)},t.exports=i=function _(t){var e;if(this instanceof _)throw new TypeError("TypeError: Symbol is not a constructor");return e=u(o.prototype),t=void 0===t?"":String(t),c(e,{__description__:s("",t),__name__:s("",h(t))})},c(i,{for:s(function(t){return p[t]?p[t]:p[t]=i(String(t))}),keyFor:s(function(t){var e;for(e in a(t),p)if(p[e]===t)return e}),hasInstance:s("",r&&r.hasInstance||i("hasInstance")),isConcatSpreadable:s("",r&&r.isConcatSpreadable||i("isConcatSpreadable")),iterator:s("",r&&r.iterator||i("iterator")),match:s("",r&&r.match||i("match")),replace:s("",r&&r.replace||i("replace")),search:s("",r&&r.search||i("search")),species:s("",r&&r.species||i("species")),split:s("",r&&r.split||i("split")),toPrimitive:s("",r&&r.toPrimitive||i("toPrimitive")),toStringTag:s("",r&&r.toStringTag||i("toStringTag")),unscopables:s("",r&&r.unscopables||i("unscopables"))}),c(o.prototype,{constructor:s(i),toString:s("",function(){return this.__name__})}),c(i.prototype,{toString:s(function(){return"Symbol ("+a(this).__description__+")"}),valueOf:s(function(){return a(this)})}),l(i.prototype,i.toPrimitive,s("",function(){return a(this)})),l(i.prototype,i.toStringTag,s("c","Symbol")),l(o.prototype,i.toStringTag,s("c",i.prototype[i.toStringTag])),l(o.prototype,i.toPrimitive,s("c",i.prototype[i.toPrimitive]))},function(t,e,n){"use strict";var r=n(18);t.exports=function(t){if(!r(t))throw new TypeError(t+" is not a symbol");return t}},,,,,,function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function o(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!function i(t){return"number"==typeof t}(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,r,i,a,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}if(s(r=this._events[t]))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),r.apply(this,a)}else if(o(r))for(a=Array.prototype.slice.call(arguments,1),i=(c=r.slice()).length,u=0;u<i;u++)c[u].apply(this,a);return!0},r.prototype.addListener=function(t,e){var i;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&((i=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function r(){this.removeListener(t,r),i||(i=!0,e.apply(this,arguments))}if(!n(e))throw TypeError("listener must be a function");var i=!1;return r.listener=e,this.on(t,r),this},r.prototype.removeListener=function(t,e){var r,i,s,a;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(s=(r=this._events[t]).length,i=-1,r===e||n(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(r)){for(a=s;a-- >0;)if(r[a]===e||r[a].listener&&r[a].listener===e){i=a;break}if(i<0)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[t]))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},,,,function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;t.exports=Object.assign||function(t,e){for(var o,s,a=function r(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){for(var c in o=Object(arguments[u]))n.call(o,c)&&(a[c]=o[c]);if(Object.getOwnPropertySymbols){s=Object.getOwnPropertySymbols(o);for(var l=0;l<s.length;l++)i.call(o,s[l])&&(a[s[l]]=o[s[l]])}}return a}},,,function(t,e){"use strict";function n(t){return new RegExp(o(t),"gi")}function o(t){return"/"===t.charAt(0)&&(t=t.substr(1)),"/"===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),t}t.exports={isValidRegex:function r(t){var e=!0;if(t)try{n(t)}catch(t){e=!1}return e},searchTextToRegExp:n,shouldSearchUseRegex:function i(t){return!!t&&"/"===t.charAt(0)&&o(t).length>0},trimSearchText:o}},,,,,,,,,,function(t,e,n){(function(e){"use strict";var n="development"===e.env.NODE_ENV;t.exports=function(t,e,r,i,o,s,a,u){if(n&&void 0===e)throw new Error("invariant requires an error message argument");if(!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,i,o,s,a,u],f=0;c=new Error("Invariant Violation: "+e.replace(/%s/g,function(){return l[f++]}))}throw c.framesToPop=1,c}}}).call(e,n(48))},function(t,e,r){"use strict";function i(t,e,n){if(n)try{return o.searchTextToRegExp(e).test(t.toLowerCase())}catch(t){return!1}return-1!==t.toLowerCase().indexOf(e)}var o=r(34);t.exports=function n(t,e,r,s){var a=t.get("name"),u=s.get(s.getParent(r));if("Native"===t.get("nodeType")&&u&&"NativeWrapper"===u.get("nodeType"))return!1;var c=o.shouldSearchUseRegex(e);if(a&&"Wrapper"!==t.get("nodeType"))return i(a,e,c);var l=t.get("text");if(l)return i(l,e,c);var f=t.get("children");return"string"==typeof f&&i(f,e,c)}},,function(t,e,n){t.exports=function(){"use strict";function t(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function e(t){return o(t)?t:T(t)}function r(t){return s(t)?t:M(t)}function n(t){return u(t)?t:D(t)}function i(t){return o(t)&&!a(t)?t:q(t)}function o(t){return!(!t||!t[en])}function s(t){return!(!t||!t[nn])}function u(t){return!(!t||!t[rn])}function a(t){return s(t)||u(t)}function h(t){return!(!t||!t[on])}function c(t){return t.value=!1,t}function f(t){t&&(t.value=!0)}function p(){}function l(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),i=0;i<n;i++)r[i]=t[i+e];return r}function _(t){return void 0===t.size&&(t.size=t.__iterate(d)),t.size}function v(t,e){if("number"!=typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?_(t)+e:e}function d(){return!0}function y(t,e,n){return(0===t||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function g(t,e){return w(t,e,0)}function m(t,e){return w(t,e,e)}function w(t,e,n){return void 0===t?n:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}function b(t){this.next=t}function S(t,e,n,r){var i=0===t?e:1===t?n:[e,n];return r?r.value=i:r={value:i,done:!1},r}function z(){return{value:void 0,done:!0}}function x(t){return!!O(t)}function I(t){return t&&"function"==typeof t.next}function E(t){var e=O(t);return e&&e.call(t)}function O(t){var e=t&&(bn&&t[bn]||t[vn]);if("function"==typeof e)return e}function k(t){return t&&"number"==typeof t.length}function T(t){return null==t?B():o(t)?t.toSeq():function N(t){var e=P(t)||"object"==typeof t&&new A(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}(t)}function M(t){return null==t?B().toKeyedSeq():o(t)?s(t)?t.toSeq():t.fromEntrySeq():U(t)}function D(t){return null==t?B():o(t)?s(t)?t.entrySeq():t.toIndexedSeq():K(t)}function q(t){return(null==t?B():o(t)?s(t)?t.entrySeq():t:K(t)).toSetSeq()}function j(t){this._array=t,this.size=t.length}function A(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function R(t){this._iterable=t,this.size=t.length||t.size}function L(t){this._iterator=t,this._iteratorCache=[]}function C(t){return!(!t||!t[Sn])}function B(){return mn||(mn=new j([]))}function U(t){var e=Array.isArray(t)?new j(t).fromEntrySeq():I(t)?new L(t).fromEntrySeq():x(t)?new R(t).fromEntrySeq():"object"==typeof t?new A(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function K(t){var e=P(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function P(t){return k(t)?new j(t):I(t)?new L(t):x(t)?new R(t):void 0}function W(t,e,n,r){var i=t._cache;if(i){for(var o=i.length-1,s=0;s<=o;s++){var a=i[n?o-s:s];if(!1===e(a[1],r?a[0]:s,t))return s+1}return s}return t.__iterateUncached(e,n)}function H(t,e,n,r){var i=t._cache;if(i){var o=i.length-1,s=0;return new b(function(){var t=i[n?o-s:s];return s++>o?{value:void 0,done:!0}:S(e,r?t[0]:s-1,t[1])})}return t.__iteratorUncached(e,n)}function J(t,e){return e?function V(t,e,n,r){return Array.isArray(e)?t.call(r,n,D(e).map(function(n,r){return V(t,n,r,e)})):F(e)?t.call(r,n,M(e).map(function(n,r){return V(t,n,r,e)})):e}(e,t,"",{"":t}):Q(t)}function Q(t){return Array.isArray(t)?D(t).map(Q).toList():F(t)?M(t).map(Q).toMap():t}function F(t){return t&&(t.constructor===Object||void 0===t.constructor)}function Y(t,e){if(t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if(t=t.valueOf(),e=e.valueOf(),t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1}return!("function"!=typeof t.equals||"function"!=typeof e.equals||!t.equals(e))}function G(t,e){if(t===e)return!0;if(!o(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||s(t)!==s(e)||u(t)!==u(e)||h(t)!==h(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!a(t);if(h(t)){var r=t.entries();return e.every(function(t,e){var i=r.next().value;return i&&Y(i[1],t)&&(n||Y(i[0],e))})&&r.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{i=!0;var c=t;t=e,e=c}var l=!0,f=e.__iterate(function(e,r){if(n?!t.has(e):i?!Y(e,t.get(r,ln)):!Y(t.get(r,ln),e))return l=!1,!1});return l&&t.size===f}function X(t,e){if(!(this instanceof X))return new X(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(gn)return gn;gn=this}}function Z(t,e){if(!t)throw new Error(e)}function $(t,e,n){if(!(this instanceof $))return new $(t,e,n);if(Z(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),e<t&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(wn)return wn;wn=this}}function tt(){throw TypeError("Abstract")}function et(){}function rt(){}function nt(){}function it(t){return t>>>1&1073741824|3221225471&t}function ot(t){if(!1===t||null==t)return 0;if("function"==typeof t.valueOf&&(!1===(t=t.valueOf())||null==t))return 0;if(!0===t)return 1;var e=typeof t;if("number"===e){var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)n^=t/=4294967295;return it(n)}if("string"===e)return t.length>An?function st(t){var e=Mn[t];return void 0===e&&(e=ut(t),Pn===Cn&&(Pn=0,Mn={}),Pn++,Mn[t]=e),e}(t):ut(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===e)return function at(t){var e;if(jn&&void 0!==(e=On.get(t)))return e;if(void 0!==(e=t[In]))return e;if(!kn){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[In]))return e;if(void 0!==(e=function ht(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}if(e=++Tn,1073741824&Tn&&(Tn=0),jn)On.set(t,e);else{if(void 0!==En&&!1===En(t))throw new Error("Non-extensible objects are not allowed as keys.");if(kn)Object.defineProperty(t,In,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[In]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[In]=e}}return e}(t);if("function"==typeof t.toString)return ut(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function ut(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return it(e)}function ct(t){Z(t!==1/0,"Cannot perform this action with an infinite size.")}function ft(t){return null==t?St():pt(t)&&!h(t)?t:St().withMutations(function(e){var n=r(t);ct(n.size),n.forEach(function(t,n){return e.set(n,t)})})}function pt(t){return!(!t||!t[Ln])}function lt(t,e){this.ownerID=t,this.entries=e}function _t(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function vt(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function dt(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function yt(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function gt(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&wt(t._root)}function mt(t,e){return S(t,e[0],e[1])}function wt(t,e){return{node:t,index:0,__prev:e}}function bt(t,e,n,r){var i=Object.create(Fn);return i.size=t,i._root=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function St(){return Rn||(Rn=bt(0))}function zt(t,e,n){var r,i;if(t._root){var o=c(fn),s=c(pn);if(r=xt(t._root,t.__ownerID,0,void 0,e,n,o,s),!s.value)return t;i=t.size+(o.value?n===ln?-1:1:0)}else{if(n===ln)return t;i=1,r=new lt(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=i,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?bt(i,r):St()}function xt(t,e,n,r,i,o,s,a){return t?t.update(e,n,r,i,o,s,a):o===ln?t:(f(a),f(s),new yt(e,r,[i,o]))}function It(t){return t.constructor===yt||t.constructor===dt}function Et(t,e,n,r,i){if(t.keyHash===r)return new dt(e,r,[t.entry,i]);var o,s=(0===n?t.keyHash:t.keyHash>>>n)&cn,a=(0===n?r:r>>>n)&cn,u=s===a?[Et(t,e,n+an,r,i)]:(o=new yt(e,r,i),s<a?[t,o]:[o,t]);return new _t(e,1<<s|1<<a,u)}function Ot(t,e,n,r){t||(t=new p);for(var i=new yt(t,ot(n),[n,r]),o=0;o<e.length;o++){var s=e[o];i=i.update(t,0,void 0,s[0],s[1])}return i}function Mt(t,e,n){for(var i=[],s=0;s<n.length;s++){var a=n[s],u=r(a);o(a)||(u=u.map(function(t){return J(t)})),i.push(u)}return jt(t,e,i)}function Dt(t,e,n){return t&&t.mergeDeep&&o(e)?t.mergeDeep(e):Y(t,e)?t:e}function qt(t){return function(e,n,r){if(e&&e.mergeDeepWith&&o(n))return e.mergeDeepWith(t,n);var i=t(e,n,r);return Y(e,i)?e:i}}function jt(t,e,n){return 0===(n=n.filter(function(t){return 0!==t.size})).length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations(function(t){for(var r=e?function(n,r){t.update(r,ln,function(t){return t===ln?n:e(t,n,r)})}:function(e,n){t.set(n,e)},i=0;i<n.length;i++)n[i].forEach(r)}):t.constructor(n[0])}function Rt(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function Lt(t,e,n,r){var i=r?t:l(t);return i[e]=n,i}function Ut(t){var e=Ht();if(null==t)return e;if(Kt(t))return t;var r=n(t),i=r.size;return 0===i?e:(ct(i),i>0&&i<un?Wt(0,i,an,null,new Nt(r.toArray())):e.withMutations(function(t){t.setSize(i),r.forEach(function(e,n){return t.set(n,e)})}))}function Kt(t){return!(!t||!t[zn])}function Nt(t,e){this.array=t,this.ownerID=e}function Pt(t,e){function r(t,e,r){return 0===e?n(t,r):i(t,e,r)}function n(t,n){var r=n===a?u&&u.array:t&&t.array,i=n>o?0:o-n,c=s-n;return c>un&&(c=un),function(){if(i===c)return Vn;var t=e?--c:i++;return r&&r[t]}}function i(t,n,i){var a,u=t&&t.array,c=i>o?0:o-i>>n,l=1+(s-i>>n);return l>un&&(l=un),function(){for(;;){if(a){var t=a();if(t!==Vn)return t;a=null}if(c===l)return Vn;var o=e?--l:c++;a=r(u&&u[o],n-an,i+(o<<n))}}}var o=t._origin,s=t._capacity,a=Xt(s),u=t._tail;return r(t._root,t._level,0)}function Wt(t,e,n,r,i,o,s){var a=Object.create(Bn);return a.size=e-t,a._origin=t,a._capacity=e,a._level=n,a._root=r,a._tail=i,a.__ownerID=o,a.__hash=s,a.__altered=!1,a}function Ht(){return Un||(Un=Wt(0,0,an))}function Vt(t,e,n,r,i,o){var s,a=r>>>n&cn,u=t&&a<t.array.length;if(!u&&void 0===i)return t;if(n>0){var c=t&&t.array[a],l=Vt(c,e,n-an,r,i,o);return l===c?t:((s=Qt(t,e)).array[a]=l,s)}return u&&t.array[a]===i?t:(f(o),s=Qt(t,e),void 0===i&&a===s.array.length-1?s.array.pop():s.array[a]=i,s)}function Qt(t,e){return e&&t&&e===t.ownerID?t:new Nt(t?t.array.slice():[],e)}function Ft(t,e){if(e>=Xt(t._capacity))return t._tail;if(e<1<<t._level+an){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&cn],r-=an;return n}}function Yt(t,e,n){void 0!==e&&(e|=0),void 0!==n&&(n|=0);var r=t.__ownerID||new p,i=t._origin,o=t._capacity,s=i+e,a=void 0===n?o:n<0?o+n:i+n;if(s===i&&a===o)return t;if(s>=a)return t.clear();for(var u=t._level,c=t._root,l=0;s+l<0;)c=new Nt(c&&c.array.length?[void 0,c]:[],r),l+=1<<(u+=an);l&&(s+=l,i+=l,a+=l,o+=l);for(var f=Xt(o),h=Xt(a);h>=1<<u+an;)c=new Nt(c&&c.array.length?[c]:[],r),u+=an;var d=t._tail,_=h<f?Ft(t,a-1):h>f?new Nt([],r):d;if(d&&h>f&&s<o&&d.array.length){for(var b=c=Qt(c,r),v=u;v>an;v-=an){var y=f>>>v&cn;b=b.array[y]=Qt(b.array[y],r)}b.array[f>>>an&cn]=d}if(a<o&&(_=_&&_.removeAfter(r,0,a)),s>=h)s-=h,a-=h,u=an,c=null,_=_&&_.removeBefore(r,0,s);else if(s>i||h<f){for(l=0;c;){var m=s>>>u&cn;if(m!==h>>>u&cn)break;m&&(l+=(1<<u)*m),u-=an,c=c.array[m]}c&&s>i&&(c=c.removeBefore(r,u,s-l)),c&&h<f&&(c=c.removeAfter(r,u,h-l)),l&&(s-=l,a-=l)}return t.__ownerID?(t.size=a-s,t._origin=s,t._capacity=a,t._level=u,t._root=c,t._tail=_,t.__hash=void 0,t.__altered=!0,t):Wt(s,a,u,c,_)}function Gt(t,e,r){for(var i=[],s=0,a=0;a<r.length;a++){var u=r[a],c=n(u);c.size>s&&(s=c.size),o(u)||(c=c.map(function(t){return J(t)})),i.push(c)}return s>t.size&&(t=t.setSize(s)),jt(t,e,i)}function Xt(t){return t<un?0:t-1>>>an<<an}function Zt(t){return null==t?ee():$t(t)?t:ee().withMutations(function(e){var n=r(t);ct(n.size),n.forEach(function(t,n){return e.set(n,t)})})}function $t(t){return pt(t)&&h(t)}function te(t,e,n,r){var i=Object.create(Zt.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=n,i.__hash=r,i}function ee(){return Hn||(Hn=te(St(),Ht()))}function re(t,e,n){var r,i,o=t._map,s=t._list,a=o.get(e),u=void 0!==a;if(n===ln){if(!u)return t;s.size>=un&&s.size>=2*o.size?(i=s.filter(function(t,e){return void 0!==t&&a!==e}),r=i.toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(r.__ownerID=i.__ownerID=t.__ownerID)):(r=o.remove(e),i=a===s.size-1?s.pop():s.set(a,void 0))}else if(u){if(n===s.get(a)[1])return t;r=o,i=s.set(a,[e,n])}else r=o.set(e,s.size),i=s.set(s.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=i,t.__hash=void 0,t):te(r,i)}function ne(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function ie(t){this._iter=t,this.size=t.size}function oe(t){this._iter=t,this.size=t.size}function se(t){this._iter=t,this.size=t.size}function ue(t){var e=ke(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=Te,e.__iterateUncached=function(e,n){var r=this;return t.__iterate(function(t,n){return!1!==e(n,t,r)},n)},e.__iteratorUncached=function(e,n){if(e===_n){var r=t.__iterator(e,n);return new b(function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(e===dn?hn:dn,n)},e}function ae(t,e,n){var r=ke(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,i){var o=t.get(r,ln);return o===ln?i:e.call(n,o,r,t)},r.__iterateUncached=function(r,i){var o=this;return t.__iterate(function(t,i,s){return!1!==r(e.call(n,t,i,s),i,o)},i)},r.__iteratorUncached=function(r,i){var o=t.__iterator(_n,i);return new b(function(){var i=o.next();if(i.done)return i;var s=i.value,a=s[0];return S(r,a,e.call(n,s[1],a,t),i)})},r}function he(t,e){var n=ke(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=ue(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,r){return t.get(e?n:-1-n,r)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=Te,n.__iterate=function(e,n){var r=this;return t.__iterate(function(t,n){return e(t,n,r)},!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function ce(t,e,n,r){var i=ke(t);return r&&(i.has=function(r){var i=t.get(r,ln);return i!==ln&&!!e.call(n,i,r,t)},i.get=function(r,i){var o=t.get(r,ln);return o!==ln&&e.call(n,o,r,t)?o:i}),i.__iterateUncached=function(i,o){var s=this,a=0;return t.__iterate(function(t,o,u){if(e.call(n,t,o,u))return a++,i(t,r?o:a-1,s)},o),a},i.__iteratorUncached=function(i,o){var s=t.__iterator(_n,o),a=0;return new b(function(){for(;;){var o=s.next();if(o.done)return o;var u=o.value,c=u[0],l=u[1];if(e.call(n,l,c,t))return S(i,r?c:a++,l,o)}})},i}function le(t,e,n,r){var i=t.size;if(void 0!==e&&(e|=0),void 0!==n&&(n|=0),y(e,n,i))return t;var o=g(e,i),s=m(n,i);if(o!=o||s!=s)return le(t.toSeq().cacheResult(),e,n,r);var a,u=s-o;u==u&&(a=u<0?0:u);var c=ke(t);return c.size=0===a?a:t.size&&a||void 0,!r&&C(t)&&a>=0&&(c.get=function(e,n){return(e=v(this,e))>=0&&e<a?t.get(e+o,n):n}),c.__iterateUncached=function(e,n){var i=this;if(0===a)return 0;if(n)return this.cacheResult().__iterate(e,n);var s=0,u=!0,c=0;return t.__iterate(function(t,n){if(!u||!(u=s++<o))return c++,!1!==e(t,r?n:c-1,i)&&c!==a}),c},c.__iteratorUncached=function(e,n){if(0!==a&&n)return this.cacheResult().__iterator(e,n);var i=0!==a&&t.__iterator(e,n),s=0,u=0;return new b(function(){for(;s++<o;)i.next();if(++u>a)return{value:void 0,done:!0};var t=i.next();return r||e===dn?t:S(e,u-1,e===hn?void 0:t.value[1],t)})},c}function ve(t,e,n,r){var i=ke(t);return i.__iterateUncached=function(i,o){var s=this;if(o)return this.cacheResult().__iterate(i,o);var a=!0,u=0;return t.__iterate(function(t,o,c){if(!a||!(a=e.call(n,t,o,c)))return u++,i(t,r?o:u-1,s)}),u},i.__iteratorUncached=function(i,o){var s=this;if(o)return this.cacheResult().__iterator(i,o);var a=t.__iterator(_n,o),u=!0,c=0;return new b(function(){var t,o,l;do{if((t=a.next()).done)return r||i===dn?t:S(i,c++,i===hn?void 0:t.value[1],t);var f=t.value;o=f[0],l=f[1],u&&(u=e.call(n,l,o,s))}while(u);return i===_n?t:S(i,o,l,t)})},i}function ye(t,e,n){var r=ke(t);return r.__iterateUncached=function(r,i){var a=0,u=!1;return function s(t,c){var l=this;t.__iterate(function(t,i){return(!e||c<e)&&o(t)?s(t,c+1):!1===r(t,n?i:a++,l)&&(u=!0),!u},i)}(t,0),a},r.__iteratorUncached=function(r,i){var s=t.__iterator(r,i),a=[],u=0;return new b(function(){for(;s;){var t=s.next();if(!1===t.done){var c=t.value;if(r===_n&&(c=c[1]),e&&!(a.length<e)||!o(c))return n?t:S(r,u++,c,t);a.push(s),s=c.__iterator(r,i)}else s=a.pop()}return{value:void 0,done:!0}})},r}function we(t,e,n){e||(e=Me);var r=s(t),i=0,o=t.toSeq().map(function(e,r){return[r,e,i++,n?n(e,r,t):e]}).toArray();return o.sort(function(t,n){return e(t[3],n[3])||t[2]-n[2]}).forEach(r?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),r?M(o):u(t)?D(o):q(o)}function be(t,e,n){if(e||(e=Me),n){var r=t.toSeq().map(function(e,r){return[e,n(e,r,t)]}).reduce(function(t,n){return Se(e,t[1],n[1])?n:t});return r&&r[0]}return t.reduce(function(t,n){return Se(e,t,n)?n:t})}function Se(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(null==n||n!=n)||r>0}function ze(t,n,r){var i=ke(t);return i.size=new j(r).map(function(t){return t.size}).min(),i.__iterate=function(t,e){for(var n,r=this.__iterator(dn,e),i=0;!(n=r.next()).done&&!1!==t(n.value,i++,this););return i},i.__iteratorUncached=function(t,i){var o=r.map(function(t){return t=e(t),E(i?t.reverse():t)}),s=0,a=!1;return new b(function(){var e;return a||(e=o.map(function(t){return t.next()}),a=e.some(function(t){return t.done})),a?{value:void 0,done:!0}:S(t,s++,n.apply(null,e.map(function(t){return t.value})))})},i}function xe(t,e){return C(t)?e:t.constructor(e)}function Ie(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Ee(t){return ct(t.size),_(t)}function Oe(t){return s(t)?r:u(t)?n:i}function ke(t){return Object.create((s(t)?M:u(t)?D:q).prototype)}function Te(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):T.prototype.cacheResult.call(this)}function Me(t,e){return t>e?1:t<e?-1:0}function De(t){var n=E(t);if(!n){if(!k(t))throw new TypeError("Expected iterable or array-like: "+t);n=E(e(t))}return n}function qe(t,e){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var s=Object.keys(t);(function Re(t,e){try{e.forEach(function Le(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){Z(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}.bind(void 0,t))}catch(t){}})(i,s),i.size=s.length,i._name=e,i._keys=s,i._defaultValues=t}this._map=ft(o)},i=r.prototype=Object.create(Wn);return i.constructor=r,r}function je(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r.__ownerID=n,r}function Ae(t){return t._name||t.constructor.name||"Record"}function Ce(t){return null==t?Ne():Be(t)&&!h(t)?t:Ne().withMutations(function(e){var n=i(t);ct(n.size),n.forEach(function(t){return e.add(t)})})}function Be(t){return!(!t||!t[Kn])}function Ue(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function Ke(t,e){var n=Object.create(Jn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function Ne(){return Gn||(Gn=Ke(St()))}function Pe(t){return null==t?Je():We(t)?t:Je().withMutations(function(e){var n=i(t);ct(n.size),n.forEach(function(t){return e.add(t)})})}function We(t){return Be(t)&&h(t)}function He(t,e){var n=Object.create($n);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function Je(){return Yn||(Yn=He(ee()))}function Ve(t){return null==t?Ye():Qe(t)?t:Ye().unshiftAll(t)}function Qe(t){return!(!t||!t[Zn])}function Fe(t,e,n,r){var i=Object.create(Qn);return i.size=t,i._head=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Ye(){return Xn||(Xn=Fe(0))}function Ge(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function Xe(t,e){return e}function Ze(t,e){return[e,t]}function $e(t){return function(){return!t.apply(this,arguments)}}function tr(t){return function(){return-t.apply(this,arguments)}}function er(t){return"string"==typeof t?JSON.stringify(t):t}function rr(){return l(arguments)}function nr(t,e){return t<e?1:t>e?-1:0}function ir(t){if(t.size===1/0)return 0;var e=h(t),n=s(t),r=e?1:0,i=t.__iterate(n?e?function(t,e){r=31*r+sr(ot(t),ot(e))|0}:function(t,e){r=r+sr(ot(t),ot(e))|0}:e?function(t){r=31*r+ot(t)|0}:function(t){r=r+ot(t)|0});return function or(t,e){return e=xn(e,3432918353),e=xn(e<<15|e>>>-15,461845907),e=xn(e<<13|e>>>-13,5),e=xn((e=(e+3864292196|0)^t)^e>>>16,2246822507),e=it((e=xn(e^e>>>13,3266489909))^e>>>16)}(i,r)}function sr(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var tn=Array.prototype.slice;t(r,e),t(n,e),t(i,e),e.isIterable=o,e.isKeyed=s,e.isIndexed=u,e.isAssociative=a,e.isOrdered=h,e.Keyed=r,e.Indexed=n,e.Set=i;var en="@@__IMMUTABLE_ITERABLE__@@",nn="@@__IMMUTABLE_KEYED__@@",rn="@@__IMMUTABLE_INDEXED__@@",on="@@__IMMUTABLE_ORDERED__@@",sn="delete",an=5,un=1<<an,cn=un-1,ln={},fn={value:!1},pn={value:!1},hn=0,dn=1,_n=2,bn="function"==typeof Symbol&&Symbol.iterator,vn="@@iterator",yn=bn||vn;b.prototype.toString=function(){return"[Iterator]"},b.KEYS=hn,b.VALUES=dn,b.ENTRIES=_n,b.prototype.inspect=b.prototype.toSource=function(){return this.toString()},b.prototype[yn]=function(){return this},t(T,e),T.of=function(){return T(arguments)},T.prototype.toSeq=function(){return this},T.prototype.toString=function(){return this.__toString("Seq {","}")},T.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},T.prototype.__iterate=function(t,e){return W(this,t,e,!0)},T.prototype.__iterator=function(t,e){return H(this,t,e,!0)},t(M,T),M.prototype.toKeyedSeq=function(){return this},t(D,T),D.of=function(){return D(arguments)},D.prototype.toIndexedSeq=function(){return this},D.prototype.toString=function(){return this.__toString("Seq [","]")},D.prototype.__iterate=function(t,e){return W(this,t,e,!1)},D.prototype.__iterator=function(t,e){return H(this,t,e,!1)},t(q,T),q.of=function(){return q(arguments)},q.prototype.toSetSeq=function(){return this},T.isSeq=C,T.Keyed=M,T.Set=q,T.Indexed=D;var mn,gn,wn,Sn="@@__IMMUTABLE_SEQ__@@";T.prototype[Sn]=!0,t(j,D),j.prototype.get=function(t,e){return this.has(t)?this._array[v(this,t)]:e},j.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(!1===t(n[e?r-i:i],i,this))return i+1;return i},j.prototype.__iterator=function(t,e){var n=this._array,r=n.length-1,i=0;return new b(function(){return i>r?{value:void 0,done:!0}:S(t,i,n[e?r-i++:i++])})},t(A,M),A.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},A.prototype.has=function(t){return this._object.hasOwnProperty(t)},A.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var s=r[e?i-o:o];if(!1===t(n[s],s,this))return o+1}return o},A.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,i=r.length-1,o=0;return new b(function(){var s=r[e?i-o:o];return o++>i?{value:void 0,done:!0}:S(t,s,n[s])})},A.prototype[on]=!0,t(R,D),R.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=this._iterable,r=E(n),i=0;if(I(r))for(var o;!(o=r.next()).done&&!1!==t(o.value,i++,this););return i},R.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterable,r=E(n);if(!I(r))return new b(z);var i=0;return new b(function(){var e=r.next();return e.done?e:S(t,i++,e.value)})},t(L,D),L.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n=this._iterator,r=this._iteratorCache,i=0;i<r.length;)if(!1===t(r[i],i++,this))return i;for(var o;!(o=n.next()).done;){var s=o.value;if(r[i]=s,!1===t(s,i++,this))break}return i},L.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,i=0;return new b(function(){if(i>=r.length){var e=n.next();if(e.done)return e;r[i]=e.value}return S(t,i,r[i++])})},t(X,D),X.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},X.prototype.get=function(t,e){return this.has(t)?this._value:e},X.prototype.includes=function(t){return Y(this._value,t)},X.prototype.slice=function(t,e){var n=this.size;return y(t,e,n)?this:new X(this._value,m(e,n)-g(t,n))},X.prototype.reverse=function(){return this},X.prototype.indexOf=function(t){return Y(this._value,t)?0:-1},X.prototype.lastIndexOf=function(t){return Y(this._value,t)?this.size:-1},X.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(!1===t(this._value,n,this))return n+1;return n},X.prototype.__iterator=function(t,e){var n=this,r=0;return new b(function(){return r<n.size?S(t,r++,n._value):{value:void 0,done:!0}})},X.prototype.equals=function(t){return t instanceof X?Y(this._value,t._value):G(t)},t($,D),$.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},$.prototype.get=function(t,e){return this.has(t)?this._start+v(this,t)*this._step:e},$.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},$.prototype.slice=function(t,e){return y(t,e,this.size)?this:(t=g(t,this.size),(e=m(e,this.size))<=t?new $(0,0):new $(this.get(t,this._end),this.get(e,this._end),this._step))},$.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},$.prototype.lastIndexOf=function(t){return this.indexOf(t)},$.prototype.__iterate=function(t,e){for(var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;o<=n;o++){if(!1===t(i,o,this))return o+1;i+=e?-r:r}return o},$.prototype.__iterator=function(t,e){var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;return new b(function(){var s=i;return i+=e?-r:r,o>n?{value:void 0,done:!0}:S(t,o++,s)})},$.prototype.equals=function(t){return t instanceof $?this._start===t._start&&this._end===t._end&&this._step===t._step:G(this,t)},t(tt,e),t(et,tt),t(rt,tt),t(nt,tt),tt.Keyed=et,tt.Indexed=rt,tt.Set=nt;var On,xn="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var n=65535&(t|=0),r=65535&(e|=0);return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0},En=Object.isExtensible,kn=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),jn="function"==typeof WeakMap;jn&&(On=new WeakMap);var Tn=0,In="__immutablehash__";"function"==typeof Symbol&&(In=Symbol(In));var An=16,Cn=255,Pn=0,Mn={};t(ft,et),ft.prototype.toString=function(){return this.__toString("Map {","}")},ft.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},ft.prototype.set=function(t,e){return zt(this,t,e)},ft.prototype.setIn=function(t,e){return this.updateIn(t,ln,function(){return e})},ft.prototype.remove=function(t){return zt(this,t,ln)},ft.prototype.deleteIn=function(t){return this.updateIn(t,function(){return ln})},ft.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},ft.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var r=function At(t,e,n,r){var i=t===ln,o=e.next();if(o.done){var s=i?n:t,a=r(s);return a===s?t:a}Z(i||t&&t.set,"invalid keyPath");var u=o.value,c=i?ln:t.get(u,ln),l=At(c,e,n,r);return l===c?t:l===ln?t.remove(u):(i?St():t).set(u,l)}(this,De(t),e,n);return r===ln?void 0:r},ft.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):St()},ft.prototype.merge=function(){return Mt(this,void 0,arguments)},ft.prototype.mergeWith=function(t){var e=tn.call(arguments,1);return Mt(this,t,e)},ft.prototype.mergeIn=function(t){var e=tn.call(arguments,1);return this.updateIn(t,St(),function(t){return"function"==typeof t.merge?t.merge.apply(t,e):e[e.length-1]})},ft.prototype.mergeDeep=function(){return Mt(this,Dt,arguments)},ft.prototype.mergeDeepWith=function(t){var e=tn.call(arguments,1);return Mt(this,qt(t),e)},ft.prototype.mergeDeepIn=function(t){var e=tn.call(arguments,1);return this.updateIn(t,St(),function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,e):e[e.length-1]})},ft.prototype.sort=function(t){return Zt(we(this,t))},ft.prototype.sortBy=function(t,e){return Zt(we(this,e,t))},ft.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},ft.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new p)},ft.prototype.asImmutable=function(){return this.__ensureOwner()},ft.prototype.wasAltered=function(){return this.__altered},ft.prototype.__iterator=function(t,e){return new gt(this,t,e)},ft.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate(function(e){return r++,t(e[1],e[0],n)},e),r},ft.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?bt(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},ft.isMap=pt;var Ln="@@__IMMUTABLE_MAP__@@",Fn=ft.prototype;Fn[Ln]=!0,Fn[sn]=Fn.remove,Fn.removeIn=Fn.deleteIn,lt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,s=i.length;o<s;o++)if(Y(n,i[o][0]))return i[o][1];return r},lt.prototype.update=function(t,e,n,r,i,o,s){for(var a=i===ln,u=this.entries,c=0,p=u.length;c<p&&!Y(r,u[c][0]);c++);var h=c<p;if(h?u[c][1]===i:a)return this;if(f(s),(a||!h)&&f(o),!a||1!==u.length){if(!h&&!a&&u.length>=qn)return Ot(t,u,r,i);var d=t&&t===this.ownerID,_=d?u:l(u);return h?a?c===p-1?_.pop():_[c]=_.pop():_[c]=[r,i]:_.push([r,i]),d?(this.entries=_,this):new lt(t,_)}},_t.prototype.get=function(t,e,n,r){void 0===e&&(e=ot(n));var i=1<<((0===t?e:e>>>t)&cn),o=this.bitmap;return 0==(o&i)?r:this.nodes[Rt(o&i-1)].get(t+an,e,n,r)},_t.prototype.update=function(t,e,n,r,i,o,s){void 0===n&&(n=ot(r));var a=(0===e?n:n>>>e)&cn,u=1<<a,c=this.bitmap,l=0!=(c&u);if(!l&&i===ln)return this;var f=Rt(c&u-1),p=this.nodes,h=l?p[f]:void 0,d=xt(h,t,e+an,n,r,i,o,s);if(d===h)return this;if(!l&&d&&p.length>=Dn)return function Tt(t,e,n,r,i){for(var o=0,s=new Array(un),a=0;0!==n;a++,n>>>=1)s[a]=1&n?e[o++]:void 0;return s[r]=i,new vt(t,o+1,s)}(t,p,c,a,d);if(l&&!d&&2===p.length&&It(p[1^f]))return p[1^f];if(l&&d&&1===p.length&&It(d))return d;var _=t&&t===this.ownerID,b=l?d?c:c^u:c|u,v=l?d?Lt(p,f,d,_):function Bt(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var i=new Array(r),o=0,s=0;s<r;s++)s===e&&(o=1),i[s]=t[s+o];return i}(p,f,_):function Ct(t,e,n,r){var i=t.length+1;if(r&&e+1===i)return t[e]=n,t;for(var o=new Array(i),s=0,a=0;a<i;a++)a===e?(o[a]=n,s=-1):o[a]=t[a+s];return o}(p,f,d,_);return _?(this.bitmap=b,this.nodes=v,this):new _t(t,b,v)},vt.prototype.get=function(t,e,n,r){void 0===e&&(e=ot(n));var i=(0===t?e:e>>>t)&cn,o=this.nodes[i];return o?o.get(t+an,e,n,r):r},vt.prototype.update=function(t,e,n,r,i,o,s){void 0===n&&(n=ot(r));var a=(0===e?n:n>>>e)&cn,u=i===ln,c=this.nodes,l=c[a];if(u&&!l)return this;var f=xt(l,t,e+an,n,r,i,o,s);if(f===l)return this;var p=this.count;if(l){if(!f&&--p<Nn)return function kt(t,e,n,r){for(var i=0,o=0,s=new Array(n),a=0,u=1,c=e.length;a<c;a++,u<<=1){var l=e[a];void 0!==l&&a!==r&&(i|=u,s[o++]=l)}return new _t(t,i,s)}(t,c,p,a)}else p++;var h=t&&t===this.ownerID,d=Lt(c,a,f,h);return h?(this.count=p,this.nodes=d,this):new vt(t,p,d)},dt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,s=i.length;o<s;o++)if(Y(n,i[o][0]))return i[o][1];return r},dt.prototype.update=function(t,e,n,r,i,o,s){void 0===n&&(n=ot(r));var a=i===ln;if(n!==this.keyHash)return a?this:(f(s),f(o),Et(this,t,e,n,[r,i]));for(var u=this.entries,c=0,p=u.length;c<p&&!Y(r,u[c][0]);c++);var h=c<p;if(h?u[c][1]===i:a)return this;if(f(s),(a||!h)&&f(o),a&&2===p)return new yt(t,this.keyHash,u[1^c]);var d=t&&t===this.ownerID,_=d?u:l(u);return h?a?c===p-1?_.pop():_[c]=_.pop():_[c]=[r,i]:_.push([r,i]),d?(this.entries=_,this):new dt(t,this.keyHash,_)},yt.prototype.get=function(t,e,n,r){return Y(n,this.entry[0])?this.entry[1]:r},yt.prototype.update=function(t,e,n,r,i,o,s){var a=i===ln,u=Y(r,this.entry[0]);return(u?i===this.entry[1]:a)?this:(f(s),a?void f(o):u?t&&t===this.ownerID?(this.entry[1]=i,this):new yt(t,this.keyHash,[r,i]):(f(o),Et(this,t,e,ot(r),[r,i])))},lt.prototype.iterate=dt.prototype.iterate=function(t,e){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===t(n[e?i-r:r]))return!1},_t.prototype.iterate=vt.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[e?i-r:r];if(o&&!1===o.iterate(t,e))return!1}},yt.prototype.iterate=function(t,e){return t(this.entry)},t(gt,b),gt.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,r=e.node,i=e.index++;if(r.entry){if(0===i)return mt(t,r.entry)}else if(r.entries){if(n=r.entries.length-1,i<=n)return mt(t,r.entries[this._reverse?n-i:i])}else if(n=r.nodes.length-1,i<=n){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return mt(t,o.entry);e=this._stack=wt(o,e)}continue}e=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var Rn,qn=un/4,Dn=un/2,Nn=un/4;t(Ut,rt),Ut.of=function(){return this(arguments)},Ut.prototype.toString=function(){return this.__toString("List [","]")},Ut.prototype.get=function(t,e){if((t=v(this,t))>=0&&t<this.size){var n=Ft(this,t+=this._origin);return n&&n.array[t&cn]}return e},Ut.prototype.set=function(t,e){return function Jt(t,e,n){if((e=v(t,e))!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(t){e<0?Yt(t,e).set(0,n):Yt(t,0,e+1).set(e,n)});e+=t._origin;var r=t._tail,i=t._root,o=c(pn);return e>=Xt(t._capacity)?r=Vt(r,t.__ownerID,0,e,n,o):i=Vt(i,t.__ownerID,t._level,e,n,o),o.value?t.__ownerID?(t._root=i,t._tail=r,t.__hash=void 0,t.__altered=!0,t):Wt(t._origin,t._capacity,t._level,i,r):t}(this,t,e)},Ut.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},Ut.prototype.insert=function(t,e){return this.splice(t,0,e)},Ut.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=an,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Ht()},Ut.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations(function(n){Yt(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])})},Ut.prototype.pop=function(){return Yt(this,0,-1)},Ut.prototype.unshift=function(){var t=arguments;return this.withMutations(function(e){Yt(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])})},Ut.prototype.shift=function(){return Yt(this,1)},Ut.prototype.merge=function(){return Gt(this,void 0,arguments)},Ut.prototype.mergeWith=function(t){var e=tn.call(arguments,1);return Gt(this,t,e)},Ut.prototype.mergeDeep=function(){return Gt(this,Dt,arguments)},Ut.prototype.mergeDeepWith=function(t){var e=tn.call(arguments,1);return Gt(this,qt(t),e)},Ut.prototype.setSize=function(t){return Yt(this,0,t)},Ut.prototype.slice=function(t,e){var n=this.size;return y(t,e,n)?this:Yt(this,g(t,n),m(e,n))},Ut.prototype.__iterator=function(t,e){var n=0,r=Pt(this,e);return new b(function(){var e=r();return e===Vn?{value:void 0,done:!0}:S(t,n++,e)})},Ut.prototype.__iterate=function(t,e){for(var n,r=0,i=Pt(this,e);(n=i())!==Vn&&!1!==t(n,r++,this););return r},Ut.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Wt(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},Ut.isList=Kt;var zn="@@__IMMUTABLE_LIST__@@",Bn=Ut.prototype;Bn[zn]=!0,Bn[sn]=Bn.remove,Bn.setIn=Fn.setIn,Bn.deleteIn=Bn.removeIn=Fn.removeIn,Bn.update=Fn.update,Bn.updateIn=Fn.updateIn,Bn.mergeIn=Fn.mergeIn,Bn.mergeDeepIn=Fn.mergeDeepIn,Bn.withMutations=Fn.withMutations,Bn.asMutable=Fn.asMutable,Bn.asImmutable=Fn.asImmutable,Bn.wasAltered=Fn.wasAltered,Nt.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&cn;if(r>=this.array.length)return new Nt([],t);var i,o=0===r;if(e>0){var s=this.array[r];if((i=s&&s.removeBefore(t,e-an,n))===s&&o)return this}if(o&&!i)return this;var a=Qt(this,t);if(!o)for(var u=0;u<r;u++)a.array[u]=void 0;return i&&(a.array[r]=i),a},Nt.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r,i=n-1>>>e&cn;if(i>=this.array.length)return this;if(e>0){var o=this.array[i];if((r=o&&o.removeAfter(t,e-an,n))===o&&i===this.array.length-1)return this}var s=Qt(this,t);return s.array.splice(i+1),r&&(s.array[i]=r),s};var Un,Hn,Vn={};t(Zt,ft),Zt.of=function(){return this(arguments)},Zt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Zt.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},Zt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):ee()},Zt.prototype.set=function(t,e){return re(this,t,e)},Zt.prototype.remove=function(t){return re(this,t,ln)},Zt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Zt.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],n)},e)},Zt.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},Zt.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?te(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},Zt.isOrderedMap=$t,Zt.prototype[on]=!0,Zt.prototype[sn]=Zt.prototype.remove,t(ne,M),ne.prototype.get=function(t,e){return this._iter.get(t,e)},ne.prototype.has=function(t){return this._iter.has(t)},ne.prototype.valueSeq=function(){return this._iter.valueSeq()},ne.prototype.reverse=function(){var t=this,e=he(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},ne.prototype.map=function(t,e){var n=this,r=ae(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},ne.prototype.__iterate=function(t,e){var n,r=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,r)}:(n=e?Ee(this):0,function(i){return t(i,e?--n:n++,r)}),e)},ne.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(dn,e),r=e?Ee(this):0;return new b(function(){var i=n.next();return i.done?i:S(t,e?--r:r++,i.value,i)})},ne.prototype[on]=!0,t(ie,D),ie.prototype.includes=function(t){return this._iter.includes(t)},ie.prototype.__iterate=function(t,e){var n=this,r=0;return this._iter.__iterate(function(e){return t(e,r++,n)},e)},ie.prototype.__iterator=function(t,e){var n=this._iter.__iterator(dn,e),r=0;return new b(function(){var e=n.next();return e.done?e:S(t,r++,e.value,e)})},t(oe,q),oe.prototype.has=function(t){return this._iter.includes(t)},oe.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){return t(e,e,n)},e)},oe.prototype.__iterator=function(t,e){var n=this._iter.__iterator(dn,e);return new b(function(){var e=n.next();return e.done?e:S(t,e.value,e.value,e)})},t(se,M),se.prototype.entrySeq=function(){return this._iter.toSeq()},se.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){if(e){Ie(e);var r=o(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}},e)},se.prototype.__iterator=function(t,e){var n=this._iter.__iterator(dn,e);return new b(function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){Ie(r);var i=o(r);return S(t,i?r.get(0):r[0],i?r.get(1):r[1],e)}}})},ie.prototype.cacheResult=ne.prototype.cacheResult=oe.prototype.cacheResult=se.prototype.cacheResult=Te,t(qe,et),qe.prototype.toString=function(){return this.__toString(Ae(this)+" {","}")},qe.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},qe.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},qe.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=je(this,St()))},qe.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+Ae(this));var n=this._map&&this._map.set(t,e);return this.__ownerID||n===this._map?this:je(this,n)},qe.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:je(this,e)},qe.prototype.wasAltered=function(){return this._map.wasAltered()},qe.prototype.__iterator=function(t,e){var n=this;return r(this._defaultValues).map(function(t,e){return n.get(e)}).__iterator(t,e)},qe.prototype.__iterate=function(t,e){var n=this;return r(this._defaultValues).map(function(t,e){return n.get(e)}).__iterate(t,e)},qe.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?je(this,e,t):(this.__ownerID=t,this._map=e,this)};var Wn=qe.prototype;Wn[sn]=Wn.remove,Wn.deleteIn=Wn.removeIn=Fn.removeIn,Wn.merge=Fn.merge,Wn.mergeWith=Fn.mergeWith,Wn.mergeIn=Fn.mergeIn,Wn.mergeDeep=Fn.mergeDeep,Wn.mergeDeepWith=Fn.mergeDeepWith,Wn.mergeDeepIn=Fn.mergeDeepIn,Wn.setIn=Fn.setIn,Wn.update=Fn.update,Wn.updateIn=Fn.updateIn,Wn.withMutations=Fn.withMutations,Wn.asMutable=Fn.asMutable,Wn.asImmutable=Fn.asImmutable,t(Ce,nt),Ce.of=function(){return this(arguments)},Ce.fromKeys=function(t){return this(r(t).keySeq())},Ce.prototype.toString=function(){return this.__toString("Set {","}")},Ce.prototype.has=function(t){return this._map.has(t)},Ce.prototype.add=function(t){return Ue(this,this._map.set(t,!0))},Ce.prototype.remove=function(t){return Ue(this,this._map.remove(t))},Ce.prototype.clear=function(){return Ue(this,this._map.clear())},Ce.prototype.union=function(){var t=tn.call(arguments,0);return 0===(t=t.filter(function(t){return 0!==t.size})).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(e){for(var n=0;n<t.length;n++)i(t[n]).forEach(function(t){return e.add(t)})}):this.constructor(t[0])},Ce.prototype.intersect=function(){var t=tn.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return i(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.every(function(t){return t.includes(e)})||n.remove(e)})})},Ce.prototype.subtract=function(){var t=tn.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return i(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.some(function(t){return t.includes(e)})&&n.remove(e)})})},Ce.prototype.merge=function(){return this.union.apply(this,arguments)},Ce.prototype.mergeWith=function(t){var e=tn.call(arguments,1);return this.union.apply(this,e)},Ce.prototype.sort=function(t){return Pe(we(this,t))},Ce.prototype.sortBy=function(t,e){return Pe(we(this,e,t))},Ce.prototype.wasAltered=function(){return this._map.wasAltered()},Ce.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate(function(e,r){return t(r,r,n)},e)},Ce.prototype.__iterator=function(t,e){return this._map.map(function(t,e){return e}).__iterator(t,e)},Ce.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},Ce.isSet=Be;var Gn,Kn="@@__IMMUTABLE_SET__@@",Jn=Ce.prototype;Jn[Kn]=!0,Jn[sn]=Jn.remove,Jn.mergeDeep=Jn.merge,Jn.mergeDeepWith=Jn.mergeWith,Jn.withMutations=Fn.withMutations,Jn.asMutable=Fn.asMutable,Jn.asImmutable=Fn.asImmutable,Jn.__empty=Ne,Jn.__make=Ke,t(Pe,Ce),Pe.of=function(){return this(arguments)},Pe.fromKeys=function(t){return this(r(t).keySeq())},Pe.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Pe.isOrderedSet=We;var Yn,$n=Pe.prototype;$n[on]=!0,$n.__empty=Je,$n.__make=He,t(Ve,rt),Ve.of=function(){return this(arguments)},Ve.prototype.toString=function(){return this.__toString("Stack [","]")},Ve.prototype.get=function(t,e){var n=this._head;for(t=v(this,t);n&&t--;)n=n.next;return n?n.value:e},Ve.prototype.peek=function(){return this._head&&this._head.value},Ve.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Fe(t,e)},Ve.prototype.pushAll=function(t){if(0===(t=n(t)).size)return this;ct(t.size);var e=this.size,r=this._head;return t.reverse().forEach(function(t){e++,r={value:t,next:r}}),this.__ownerID?(this.size=e,this._head=r,this.__hash=void 0,this.__altered=!0,this):Fe(e,r)},Ve.prototype.pop=function(){return this.slice(1)},Ve.prototype.unshift=function(){return this.push.apply(this,arguments)},Ve.prototype.unshiftAll=function(t){return this.pushAll(t)},Ve.prototype.shift=function(){return this.pop.apply(this,arguments)},Ve.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Ye()},Ve.prototype.slice=function(t,e){if(y(t,e,this.size))return this;var n=g(t,this.size),r=m(e,this.size);if(r!==this.size)return rt.prototype.slice.call(this,t,e);for(var i=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):Fe(i,o)},Ve.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Fe(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Ve.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,r=this._head;r&&!1!==t(r.value,n++,this);)r=r.next;return n},Ve.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,r=this._head;return new b(function(){if(r){var e=r.value;return r=r.next,S(t,n++,e)}return{value:void 0,done:!0}})},Ve.isStack=Qe;var Xn,Zn="@@__IMMUTABLE_STACK__@@",Qn=Ve.prototype;Qn[Zn]=!0,Qn.withMutations=Fn.withMutations,Qn.asMutable=Fn.asMutable,Qn.asImmutable=Fn.asImmutable,Qn.wasAltered=Fn.wasAltered,e.Iterator=b,Ge(e,{toArray:function(){ct(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate(function(e,n){t[n]=e}),t},toIndexedSeq:function(){return new ie(this)},toJS:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJS?t.toJS():t}).__toJS()},toJSON:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t}).__toJS()},toKeyedSeq:function(){return new ne(this,!0)},toMap:function(){return ft(this.toKeyedSeq())},toObject:function(){ct(this.size);var t={};return this.__iterate(function(e,n){t[n]=e}),t},toOrderedMap:function(){return Zt(this.toKeyedSeq())},toOrderedSet:function(){return Pe(s(this)?this.valueSeq():this)},toSet:function(){return Ce(s(this)?this.valueSeq():this)},toSetSeq:function(){return new oe(this)},toSeq:function(){return u(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Ve(s(this)?this.valueSeq():this)},toList:function(){return Ut(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){var t=tn.call(arguments,0);return xe(this,function de(t,e){var n=s(t),i=[t].concat(e).map(function(t){return o(t)?n&&(t=r(t)):t=n?U(t):K(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===i.length)return t;if(1===i.length){var a=i[0];if(a===t||n&&s(a)||u(t)&&u(a))return a}var c=new j(i);return n?c=c.toKeyedSeq():u(t)||(c=c.toSetSeq()),(c=c.flatten(!0)).size=i.reduce(function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}},0),c}(this,t))},includes:function(t){return this.some(function(e){return Y(e,t)})},entries:function(){return this.__iterator(_n)},every:function(t,e){ct(this.size);var n=!0;return this.__iterate(function(r,i,o){if(!t.call(e,r,i,o))return n=!1,!1}),n},filter:function(t,e){return xe(this,ce(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},findEntry:function(t,e){var n;return this.__iterate(function(r,i,o){if(t.call(e,r,i,o))return n=[i,r],!1}),n},findLastEntry:function(t,e){return this.toSeq().reverse().findEntry(t,e)},forEach:function(t,e){return ct(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){ct(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate(function(r){n?n=!1:e+=t,e+=null!=r?r.toString():""}),e},keys:function(){return this.__iterator(hn)},map:function(t,e){return xe(this,ae(this,t,e))},reduce:function(t,e,n){var r,i;return ct(this.size),arguments.length<2?i=!0:r=e,this.__iterate(function(e,o,s){i?(i=!1,r=e):r=t.call(n,r,e,o,s)}),r},reduceRight:function(t,e,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return xe(this,he(this,!0))},slice:function(t,e){return xe(this,le(this,t,e,!0))},some:function(t,e){return!this.every($e(t),e)},sort:function(t){return xe(this,we(this,t))},values:function(){return this.__iterator(dn)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return _(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return function fe(t,e,n){var r=ft().asMutable();return t.__iterate(function(i,o){r.update(e.call(n,i,o,t),0,function(t){return t+1})}),r.asImmutable()}(this,t,e)},equals:function(t){return G(this,t)},entrySeq:function(){var t=this;if(t._cache)return new j(t._cache);var e=t.toSeq().map(Ze).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter($e(t),e)},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},first:function(){return this.find(d)},flatMap:function(t,e){return xe(this,function ge(t,e,n){var r=Oe(t);return t.toSeq().map(function(i,o){return r(e.call(n,i,o,t))}).flatten(!0)}(this,t,e))},flatten:function(t){return xe(this,ye(this,t,!0))},fromEntrySeq:function(){return new se(this)},get:function(t,e){return this.find(function(e,n){return Y(n,t)},void 0,e)},getIn:function(t,e){for(var n,r=this,i=De(t);!(n=i.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,ln):ln)===ln)return e}return r},groupBy:function(t,e){return function pe(t,e,n){var r=s(t),i=(h(t)?Zt():ft()).asMutable();t.__iterate(function(o,s){i.update(e.call(n,o,s,t),function(t){return(t=t||[]).push(r?[s,o]:o),t})});var o=Oe(t);return i.map(function(e){return xe(t,o(e))})}(this,t,e)},has:function(t){return this.get(t,ln)!==ln},hasIn:function(t){return this.getIn(t,ln)!==ln},isSubset:function(t){return t="function"==typeof t.includes?t:e(t),this.every(function(e){return t.includes(e)})},isSuperset:function(t){return(t="function"==typeof t.isSubset?t:e(t)).isSubset(this)},keySeq:function(){return this.toSeq().map(Xe).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(t){return be(this,t)},maxBy:function(t,e){return be(this,e,t)},min:function(t){return be(this,t?tr(t):nr)},minBy:function(t,e){return be(this,e?tr(e):nr,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return xe(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return xe(this,ve(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile($e(t),e)},sortBy:function(t,e){return xe(this,we(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return xe(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return xe(this,function _e(t,e,n){var r=ke(t);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var s=0;return t.__iterate(function(t,i,a){return e.call(n,t,i,a)&&++s&&r(t,i,o)}),s},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var s=t.__iterator(_n,i),a=!0;return new b(function(){if(!a)return{value:void 0,done:!0};var t=s.next();if(t.done)return t;var i=t.value,u=i[0],c=i[1];return e.call(n,c,u,o)?r===_n?t:S(r,u,c,t):(a=!1,{value:void 0,done:!0})})},r}(this,t,e))},takeUntil:function(t,e){return this.takeWhile($e(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=ir(this))}});var ar=e.prototype;ar[en]=!0,ar[yn]=ar.values,ar.__toJS=ar.toArray,ar.__toStringMapper=er,ar.inspect=ar.toSource=function(){return this.toString()},ar.chain=ar.flatMap,ar.contains=ar.includes,function(){try{Object.defineProperty(ar,"length",{get:function(){if(!e.noLengthWarning){var t;try{throw new Error}catch(e){t=e.stack}if(-1===t.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+t),this.size}}})}catch(t){}}(),Ge(r,{flip:function(){return xe(this,ue(this))},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLastKey:function(t,e){return this.toSeq().reverse().findKey(t,e)},keyOf:function(t){return this.findKey(function(e){return Y(e,t)})},lastKeyOf:function(t){return this.findLastKey(function(e){return Y(e,t)})},mapEntries:function(t,e){var n=this,r=0;return xe(this,this.toSeq().map(function(i,o){return t.call(e,[o,i],r++,n)}).fromEntrySeq())},mapKeys:function(t,e){var n=this;return xe(this,this.toSeq().flip().map(function(r,i){return t.call(e,r,i,n)}).flip())}});var ur=r.prototype;return ur[nn]=!0,ur[yn]=ar.entries,ur.__toJS=ar.toObject,ur.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+er(t)},Ge(n,{toKeyedSeq:function(){return new ne(this,!1)},filter:function(t,e){return xe(this,ce(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.toKeyedSeq().keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.toKeyedSeq().reverse().keyOf(t);return void 0===e?-1:e},reverse:function(){return xe(this,he(this,!1))},slice:function(t,e){return xe(this,le(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=g(t,t<0?this.count():this.size);var r=this.slice(0,t);return xe(this,1===n?r:r.concat(l(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.toKeyedSeq().findLastKey(t,e);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(t){return xe(this,ye(this,t,!1))},get:function(t,e){return(t=v(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find(function(e,n){return n===t},void 0,e)},has:function(t){return(t=v(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return xe(this,function me(t,e){var n=ke(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return t.__iterate(function(t,r){return(!o||!1!==n(e,o++,i))&&!1!==n(t,o++,i)},r),o},n.__iteratorUncached=function(n,r){var i,o=t.__iterator(dn,r),s=0;return new b(function(){return(!i||s%2)&&(i=o.next()).done?i:s%2?S(n,s++,e):S(n,s++,i.value,i)})},n}(this,t))},interleave:function(){var t=[this].concat(l(arguments)),e=ze(this.toSeq(),D.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),xe(this,n)},last:function(){return this.get(-1)},skipWhile:function(t,e){return xe(this,ve(this,t,e,!1))},zip:function(){return xe(this,ze(this,rr,[this].concat(l(arguments))))},zipWith:function(t){var e=l(arguments);return e[0]=this,xe(this,ze(this,t,e))}}),n.prototype[rn]=!0,n.prototype[on]=!0,Ge(i,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=ar.includes,Ge(M,r.prototype),Ge(D,n.prototype),Ge(q,i.prototype),Ge(et,r.prototype),Ge(rt,n.prototype),Ge(nt,i.prototype),{Iterable:e,Seq:T,Collection:tt,Map:ft,OrderedMap:Zt,List:Ut,Stack:Ve,Set:Ce,OrderedSet:Pe,Record:qe,Range:$,Repeat:X,is:Y,fromJS:J}}()},function(t,e){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(t){if(c===setTimeout)return setTimeout(t,0);if((c===r||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function s(){_&&p&&(_=!1,p.length?d=p.concat(d):b=-1,d.length&&u())}function u(){if(!_){var t=i(s);_=!0;for(var e=d.length;e;){for(p=d,d=[];++b<e;)p&&p[b].run();b=-1,e=d.length}p=null,_=!1,function o(t){if(l===clearTimeout)return clearTimeout(t);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}(t)}}function a(t,e){this.fun=t,this.array=e}function h(){}var c,l,f=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:r}catch(t){c=r}try{l="function"==typeof clearTimeout?clearTimeout:n}catch(t){l=n}}();var p,d=[],_=!1,b=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new a(t,e)),1!==d.length||_||i(u)},a.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=h,f.addListener=h,f.once=h,f.off=h,f.removeListener=h,f.removeAllListeners=h,f.emit=h,f.prependListener=h,f.prependOnceListener=h,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}}])},t.exports=r()},function(t,e,n){var r;r=function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(23)},function(t,e,n){"use strict";var r=n(3)();t.exports=function(t){return t!==r&&null!==t}},function(t,e,n){"use strict";var r=n(16);t.exports={name:r("name"),type:r("type"),inspected:r("inspected"),meta:r("meta"),proto:r("proto")}},function(t,e){"use strict";t.exports=function(){}},function(t,e,n){"use strict";t.exports=n(5)()?Object.assign:n(6)},function(t,e){"use strict";t.exports=function(){var t,e=Object.assign;return"function"==typeof e&&(e(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},function(t,e,n){"use strict";var r=n(8),i=n(12),o=Math.max;t.exports=function(t,e){var n,s,a,u=o(arguments.length,2);for(t=Object(i(t)),a=function(r){try{t[r]=e[r]}catch(t){n||(n=t)}},s=1;s<u;++s)e=arguments[s],r(e).forEach(a);if(void 0!==n)throw n;return t}},function(t,e){"use strict";t.exports=function(t){return"function"==typeof t}},function(t,e,n){"use strict";t.exports=n(9)()?Object.keys:n(10)},function(t,e){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},function(t,e,n){"use strict";var r=n(1),i=Object.keys;t.exports=function(t){return i(r(t)?Object(t):t)}},function(t,e,n){"use strict";var r=n(1),i=Array.prototype.forEach,o=Object.create;t.exports=function(t){var e=o(null);return i.call(arguments,function(t){r(t)&&function(t,e){var n;for(n in t)e[n]=t[n]}(Object(t),e)}),e}},function(t,e,n){"use strict";var r=n(1);t.exports=function(t){if(!r(t))throw new TypeError("Cannot use null or undefined");return t}},function(t,e,n){"use strict";t.exports=n(14)()?String.prototype.contains:n(15)},function(t,e){"use strict";var n="razdwatrzy";t.exports=function(){return"function"==typeof n.contains&&!0===n.contains("dwa")&&!1===n.contains("foo")}},function(t,e){"use strict";var n=String.prototype.indexOf;t.exports=function(t){return n.call(this,t,arguments[1])>-1}},function(t,e,n){"use strict";t.exports=n(17)()?Symbol:n(20)},function(t,e){"use strict";t.exports=function(){var t;if("function"!=typeof Symbol)return!1;t=Symbol("test symbol");try{String(t)}catch(t){return!1}return"symbol"==typeof Symbol.iterator||"object"==typeof Symbol.isConcatSpreadable&&"object"==typeof Symbol.iterator&&"object"==typeof Symbol.toPrimitive&&"object"==typeof Symbol.toStringTag&&"object"==typeof Symbol.unscopables}},function(t,e){"use strict";t.exports=function(t){return t&&("symbol"==typeof t||"Symbol"===t["@@toStringTag"])||!1}},function(t,e,n){"use strict";var r=n(4),i=n(11),o=n(7),s=n(13);(t.exports=function(t,e){var n,o,a,u,c;return arguments.length<2||"string"!=typeof t?(u=e,e=t,t=null):u=arguments[2],null==t?(n=a=!0,o=!1):(n=s.call(t,"c"),o=s.call(t,"e"),a=s.call(t,"w")),c={value:e,configurable:n,enumerable:o,writable:a},u?r(i(u),c):c}).gs=function(t,e,n){var a,u,c,l;return"string"!=typeof t?(c=n,n=e,e=t,t=null):c=arguments[3],null==e?e=void 0:o(e)?null==n?n=void 0:o(n)||(c=n,n=void 0):(c=e,e=n=void 0),null==t?(a=!0,u=!1):(a=s.call(t,"c"),u=s.call(t,"e")),l={get:e,set:n,configurable:a,enumerable:u},c?r(i(c),l):l}},function(t,e,n){"use strict";var r,i,o,s=n(19),a=n(21),u=Object.create,c=Object.defineProperties,l=Object.defineProperty,f=Object.prototype,p=u(null);"function"==typeof Symbol&&(r=Symbol);var d=function(){var t=u(null);return function(e){for(var n,r,i=0;t[e+(i||"")];)++i;return t[e+=i||""]=!0,l(f,n="@@"+e,s.gs(null,function(t){r||(r=!0,l(this,n,s(t)),r=!1)})),n}}();o=function(t){if(this instanceof o)throw new TypeError("TypeError: Symbol is not a constructor");return i(t)},t.exports=i=function h(t){var e;if(this instanceof h)throw new TypeError("TypeError: Symbol is not a constructor");return e=u(o.prototype),t=void 0===t?"":String(t),c(e,{__description__:s("",t),__name__:s("",d(t))})},c(i,{for:s(function(t){return p[t]?p[t]:p[t]=i(String(t))}),keyFor:s(function(t){var e;for(e in a(t),p)if(p[e]===t)return e}),hasInstance:s("",r&&r.hasInstance||i("hasInstance")),isConcatSpreadable:s("",r&&r.isConcatSpreadable||i("isConcatSpreadable")),iterator:s("",r&&r.iterator||i("iterator")),match:s("",r&&r.match||i("match")),replace:s("",r&&r.replace||i("replace")),search:s("",r&&r.search||i("search")),species:s("",r&&r.species||i("species")),split:s("",r&&r.split||i("split")),toPrimitive:s("",r&&r.toPrimitive||i("toPrimitive")),toStringTag:s("",r&&r.toStringTag||i("toStringTag")),unscopables:s("",r&&r.unscopables||i("unscopables"))}),c(o.prototype,{constructor:s(i),toString:s("",function(){return this.__name__})}),c(i.prototype,{toString:s(function(){return"Symbol ("+a(this).__description__+")"}),valueOf:s(function(){return a(this)})}),l(i.prototype,i.toPrimitive,s("",function(){return a(this)})),l(i.prototype,i.toStringTag,s("c","Symbol")),l(o.prototype,i.toStringTag,s("c",i.prototype[i.toStringTag])),l(o.prototype,i.toPrimitive,s("c",i.prototype[i.toPrimitive]))},function(t,e,n){"use strict";var r=n(18);t.exports=function(t){if(!r(t))throw new TypeError(t+" is not a symbol");return t}},function(t,e){"use strict";t.exports=function r(t,e){return e.reduce(function(t,e){if(t){if(t.hasOwnProperty(e))return t[e];if("function"==typeof t[Symbol.iterator])return[].concat(function n(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t))[e]}return null},t)}},function(e,n,i){"use strict";var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=i(2),u=i(25),c=i(24),l=i(22),f=i(30),p=5,h=window.cancelIdleCallback||clearTimeout,d=window.requestIdleCallback||function(t,e){var n=3e3*p;return n>500&&(n=500),setTimeout(function(){var e=f();t({didTimeout:!1,timeRemaining:function(){return 1/0}});var n=f();p=(n-e)/1e3},n)},_=function(){function t(e){(function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this._cbs=new Map,this._inspectables=new Map,this._cid=0,this._listeners={},this._buffer=[],this._flushHandle=null,this._callers={},this._paused=!1,this._wall=e,e.listen(this._handleMessage.bind(this))}return s(t,[{key:"inspect",value:function(t,e,n){var r=this._cid++;this._cbs.set(r,function(t,e,r,i){e.length&&u(t,e),r&&i.length&&u(r,i),r&&(t[a.proto]=r),n(t)}),this._wall.send({type:"inspect",callback:r,path:e,id:t})}},{key:"call",value:function(t,e,n){var r=this._cid++;this._cbs.set(r,n),this._wall.send({type:"call",callback:r,args:e,name:t})}},{key:"onCall",value:function(t,e){if(this._callers[t])throw new Error("only one call handler per call name allowed");this._callers[t]=e}},{key:"pause",value:function(){this._wall.send({type:"pause"})}},{key:"resume",value:function(){this._wall.send({type:"resume"})}},{key:"setInspectable",value:function(t,e){var n=this._inspectables.get(t);return n?void this._inspectables.set(t,o({},n,e)):void this._inspectables.set(t,e)}},{key:"send",value:function(t,e){this._buffer.push({evt:t,data:e}),this.scheduleFlush()}},{key:"scheduleFlush",value:function(){if(!this._flushHandle&&this._buffer.length){var t=this._paused?5e3:500;this._flushHandle=d(this.flushBufferWhileIdle.bind(this),{timeout:t})}}},{key:"cancelFlush",value:function(){this._flushHandle&&(h(this._flushHandle),this._flushHandle=null)}},{key:"flushBufferWhileIdle",value:function(t){this._flushHandle=null;for(var e=this._paused?20:10,n=Math.round(this._buffer.length/e),r=this._paused?50:100;this._buffer.length&&(t.timeRemaining()>0||t.didTimeout);){var i=Math.min(this._buffer.length,Math.max(r,n)),o=this._buffer.splice(0,i);this.flushBufferSlice(o)}this._buffer.length&&this.scheduleFlush()}},{key:"flushBufferSlice",value:function(t){var e=this,n=t.map(function(t){var n=t.evt,r=t.data,i=[],o=c(r,i);return i.length&&e.setInspectable(r.id,r),{type:"event",evt:n,data:o,cleaned:i}});this._wall.send({type:"many-events",events:n})}},{key:"forget",value:function(t){this._inspectables.delete(t)}},{key:"on",value:function(t,e){this._listeners[t]?this._listeners[t].push(e):this._listeners[t]=[e]}},{key:"off",value:function(t,e){if(this._listeners[t]){var n=this._listeners[t].indexOf(e);-1!==n&&this._listeners[t].splice(n,1)}}},{key:"once",value:function(t,e){var n=this;this.on(t,function o(){e.apply(this,arguments),n.off(t,o)})}},{key:"_handleMessage",value:function(t){var e=this;if("resume"===t.type)return this._paused=!1,void this.scheduleFlush();if("pause"===t.type)return this._paused=!0,void this.cancelFlush();if("callback"!==t.type)if("call"!==t.type)if("inspect"!==t.type){if("event"===t.type){t.cleaned&&u(t.data,t.cleaned);var n=this._listeners[t.evt],i=t.data;n&&n.forEach(function(t){return t(i)})}"many-events"===t.type&&t.events.forEach(function(t){t.cleaned&&u(t.data,t.cleaned);var n=e._listeners[t.evt];n&&n.forEach(function(e){return e(t.data)})})}else this._inspectResponse(t.id,t.path,t.callback);else this._handleCall(t.name,t.args,t.callback);else{var o=this._cbs.get(t.id);o&&(o.apply(void 0,function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t.args)),this._cbs.delete(t.id))}}},{key:"_handleCall",value:function(t,e,n){if(this._callers[t]){var r;e=Array.isArray(e)?e:[e];try{r=this._callers[t].apply(null,e)}catch(t){return void console.error("Failed to call",t)}this._wall.send({type:"callback",id:n,args:[r]})}else console.warn('unknown call: "'+t+'"')}},{key:"_inspectResponse",value:function(t,e,n){var r=this._inspectables.get(t),i={},o=[],s=null,a=[];if(r){var u=l(r,e),f=!1,p="function"==typeof u;if(u&&"function"==typeof u[Symbol.iterator]){var h=Object.create({}),d=0,_=!0,b=!1,v=void 0;try{for(var y,m=u[Symbol.iterator]();!(_=(y=m.next()).done);_=!0){var g=y.value;if(d>100)break;h[d]=g,d++}}catch(t){b=!0,v=t}finally{try{!_&&m.return&&m.return()}finally{if(b)throw v}}u=h}if(Object.getOwnPropertyNames(u).forEach(function(t){"__proto__"===t&&(f=!0),(!p||"arguments"!==t&&"callee"!==t&&"caller"!==t)&&(i[t]=c(u[t],o,[t]))}),!f&&u.__proto__&&"Object"!==u.constructor.name){var w={},S="function"==typeof u.__proto__;Object.getOwnPropertyNames(u.__proto__).forEach(function(t){(!S||"arguments"!==t&&"callee"!==t&&"caller"!==t)&&(w[t]=c(u.__proto__[t],a,[t]))}),s=w}}this._wall.send({type:"callback",id:n,args:[i,o,s,a]})}}]),t}();e.exports=_},function(t,e){"use strict";function n(t){if(!t)return null;var e=void 0===t?"undefined":i(t);if("object"===e){if(t._reactFragment)return"react_fragment";if(Array.isArray(t))return"array";if(ArrayBuffer.isView(t))return t instanceof DataView?"data_view":"typed_array";if(t instanceof ArrayBuffer)return"array_buffer";if("function"==typeof t[Symbol.iterator])return"iterator";if("[object Date]"===Object.prototype.toString.call(t))return"date"}return e}function r(t,e,n,r){var i={};return"array"!==t&&"typed_array"!==t||(i.length=e.length),"iterator"!==t&&"typed_array"!==t||(i.readOnly=!0),n.push(r),{type:t,meta:i,name:e.constructor&&"Object"!==e.constructor.name?e.constructor.name:""}}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function o(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=n(t);switch(a){case"function":return e.push(i),{name:t.name,type:"function"};case"string":return t.length<=5e3?t:t.slice(0,5e3)+"...";case"symbol":return e.push(i),{type:"symbol",name:t.toString()};case"react_fragment":return"A React Fragment";case"array_buffer":case"data_view":return e.push(i),{type:a,name:"data_view"===a?"DataView":"ArrayBuffer",meta:{length:t.byteLength,uninspectable:!0}};case"array":return s>2?r(a,t,e,i):t.map(function(t,n){return o(t,e,i.concat([n]),s+1)});case"typed_array":case"iterator":return r(a,t,e,i);case"date":return e.push(i),{name:t.toString(),type:"date",meta:{uninspectable:!0}};case"object":if(s>2||t.constructor&&"function"==typeof t.constructor&&"Object"!==t.constructor.name)return r(a,t,e,i);var u={};for(var c in t)u[c]=o(t[c],e,i.concat([c]),s+1);return u;default:return t}}},function(t,e,n){"use strict";var i=n(2);t.exports=function r(t,e){e.forEach(function(e){var n=e.pop(),r=e.reduce(function(t,e){return t?t[e]:null},t);if(r&&r[n]){var o={};o[i.name]=r[n].name,o[i.type]=r[n].type,o[i.meta]=r[n].meta,o[i.inspected]=!1,r[n]=o}})}},,,function(t,e){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};t.exports=r},function(t,e,n){"use strict";var r;n(28).canUseDOM&&(r=window.performance||window.msPerformance||window.webkitPerformance),t.exports=r||{}},function(t,e,n){"use strict";var r,i=n(29);r=i.now?function(){return i.now()}:function(){return Date.now()},t.exports=r}])},t.exports=r()},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r,i=n(441),o=n(20),s=n(16),a=n(593),u=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function __(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),c=function(t){function LinkedInContentEnvironmentService(e,n,r,i){var s=t.call(this,e)||this;return s.log=n,s.win=r,s.createPageTrafficListener=i,s.sponsoredFeedPost=new o.d,s._promotedPostsSub=null,s._highlightDebug=!1,s._messageListenerClosure=null,s.trafficSub=null,s._parser=new a.a(n),s}return u(LinkedInContentEnvironmentService,t),LinkedInContentEnvironmentService.prototype.startMonitoring=function(){var t=this;if(this.trafficSub)throw new Error("Already started");this.trafficSub=this.createPageTrafficListener().subscribe(function(e){e.url;var n=e.body;try{t.parseMessagePayload(JSON.parse(n))}catch(e){t.handleError(e)}},function(e){t.handleError(e)}),Object(s.x)({timeout:1e3}).then(function(){Array.from(t.win.document.body.querySelectorAll("code")).map(function(t){return Object(s.p)(function(){return JSON.parse(t.textContent)},null)}).filter(function(t){return Object(s.p)(function(){return"feed"===t.data.metadata.type},!1)}).forEach(function(e){t.parseMessagePayload(e)})})},LinkedInContentEnvironmentService.prototype.stopMonitoring=function(){this.trafficSub&&this.trafficSub.unsubscribe()},LinkedInContentEnvironmentService.prototype.setupDebug=function(){this._highlightDebug=!0},LinkedInContentEnvironmentService.prototype.highlightElement=function(t,e){if(this._highlightDebug){var n=document.createElement("style");n.innerHTML="\n            div[data-id='"+t+"'] {\n                box-shadow: inset 0px 0px 6px 1px "+(e?"green":"red")+", 0px 0px 6px 1px "+(e?"green":"red")+" !important;\n            }\n        ",this.win.document.head.appendChild(n)}},LinkedInContentEnvironmentService.prototype.parseMessagePayload=function(t){var e=this;this._parser.parseMessagePayload(t).forEach(function(t){!function isLiPostData(t){return!!t.li_post_urn}(t)?e.highlightElement(t,!1):(e.log.info("Found new promoted post",t),e.highlightElement(t.li_post_urn,!0),e.sponsoredFeedPost.next(t))})},LinkedInContentEnvironmentService.prototype.handleError=function(t){this.log.error("Error in topic",t)},LinkedInContentEnvironmentService}(i.a)},function(t,e,n){"use strict";e.a=function createPageTrafficListener(t){return new r.c(function(e){var n=Object(i.b)(t),r=n.handshake_message_id,o=n.message_id;function handleMessage(t){t.data&&t.data.type===o&&e.next(t.data.payload)}return window.addEventListener("message",handleMessage),window.postMessage({type:r},"*"),function cleanup(){window.removeEventListener("message",handleMessage)}})};var r=n(20),i=n(549)},function(t,e,n){"use strict";var r,i=n(16),o=n(74),s=n(168),a=n(20),u=n(441),c=n(551),l=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function __(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),f=this&&this.__assign||function(){return(f=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},p=Object(i.t)(Object(i.B)(c.a).map(function(t){var e=t[0],n=t[1];return[e,new RegExp(n,"i")]})),h=function(t){function TwitterContentEnvironmentServices(e,n,r,o){var u=t.call(this,e)||this;return u.chromeEnv=e,u.log=n,u.win=r,u.createPageTrafficListener=o,u.promotedTweets=new a.d,u.feedSub=null,u.trafficSub=null,u._getConfigPromise=null,u.newXHRMessage=function(t){var e,n,r=Object(i.B)(p).find(function(e){e[0];return e[1].test(t.url)}),o=null!=(n=null===(e=r)||void 0===e?void 0:e[0])?n:"UNKNOWN";try{Object(s.i)(JSON.parse(t.body)).map(function(t){return f(f({},t),{tw_ad_placement:o})}).forEach(function(t){return u.promotedTweets.next(t)})}catch(t){u.log.error("Failed to parse twitter message",t)}},u}return l(TwitterContentEnvironmentServices,t),TwitterContentEnvironmentServices.prototype.startMonitoring=function(){var t=this;if(this.feedSub)throw new Error("You can't start monitoring twice");this.feedSub=Object(o.e)(this.win.document).subscribe(function(e){e&&t.newTweetStream(e)},function(e){t.log.error(e)}),this.trafficSub=this.createPageTrafficListener().subscribe(this.newXHRMessage)},TwitterContentEnvironmentServices.prototype.newTweetStream=function(t){var e=this;this.log.info("Found new stream..."),Object(o.k)(t,'div[class*="js-stream-tweet"][data-advertiser-id][data-disclosure-type="promoted"]',!0).subscribe(function(t){e.log.info("Found new sponsored tweet",t);var n=t.getAttribute("data-permalink-path"),r=JSON.parse(t.getAttribute("data-reply-to-users-json")),i={tw_perma_link:n,tw_user_screen_name:r[0].screen_name,tw_user_display_name:r[0].name,tw_tweet_id:t.getAttribute("data-tweet-id"),tw_user_id:r[0].id_str,tw_tweet_display_type:"UNKNOWN",tw_ad_placement:"feed"};e.log.info("Parsed new element to be ",i),e.promotedTweets.next(i)})},TwitterContentEnvironmentServices.prototype.setupDebug=function(){},TwitterContentEnvironmentServices.prototype.highlightPost=function(t){Array.from(document.querySelectorAll('li[data-item-id="'+t+'"].stream-item')).forEach(function(t){t.style.boxShadow="0 0 21px 2px blue"})},TwitterContentEnvironmentServices}(u.a);e.a=h},function(t,e,n){"use strict";e.a=function isAdBlockerActive(t){return r(this,void 0,void 0,function(){var e,n;return i(this,function(r){switch(r.label){case 0:return(e=t.createElement("div")).id="detect",e.className="ads ad adsbox doubleclick ad-placement carbon-ads",e.style.height="1px",e.style.width="1px",e.style.position="absolute",e.style.left="-999px",e.style.top="-999px",e.innerHTML="&nbsp;",t.body.appendChild(e),[4,new Promise(function(t){return setTimeout(t,100)})];case 1:return r.sent(),n=0===e.offsetHeight,e.remove(),[2,n]}})})};var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(t){try{step(r.next(t))}catch(t){o(t)}}function rejected(t){try{step(r.throw(t))}catch(t){o(t)}}function step(t){t.done?i(t.value):function adopt(t){return t instanceof n?t:new n(function(e){e(t)})}(t.value).then(fulfilled,rejected)}step((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(a){return function step(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}}]);
//# sourceMappingURL=content.js.map